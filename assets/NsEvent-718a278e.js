var ze=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var p=(e,t,n)=>(ze(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},P=(e,t,n,a)=>(ze(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n);var D=(e,t,n)=>(ze(e,t,"access private method"),n);import{Y as tn,$ as Ke,a0 as nn,a1 as dt,a2 as ht,a3 as an,a4 as rn,a5 as sn,a6 as ft,a7 as on,a8 as ln,L as un,a9 as cn,q as O,aa as dn,a as hn,n as Ee,ab as pt,ac as fn,ad as pn,ae as mn,af as vn,ag as yn,z as pe,o as s,c,x as v,v as S,J as _,b as h,d as T,e as I,f as w,_ as E,H as g,w as L,M as ae,ah as Pt,F as x,g as we,S as Z,K as A,h as me,l as fe,G as F,m as gn,k as bn,r as V,ai as Cn,aj as Mt,ak as Lt,al as $t,B as Be,U as X,Z as oe,D as R,C as wn,E as Nt,am as kn,R as Dt,O as nt,P as ke,I as le,T as it,u as _n,s as At,X as Tt,A as ve,N as On,an as In,ao as J,ap as se,Q as Sn,aq as Pn,ar as Et,W as Mn,as as Ln,at as $n,au as Nn,av as Dn,aw as An}from"./index-5d52fb4b.js";import{a as W,O as Tn,s as En}from"./index.esm-44f27072.js";var U,M,ue,j,G,ce,K,Se,de,he,ee,te,Q,ne,ie,Ce,Pe,He,Me,We,Le,qe,$e,Qe,Ne,Ze,De,Xe,Ae,Ye,je,Rt,St,Rn=(St=class extends tn{constructor(t,n){super();$(this,ie);$(this,Pe);$(this,Me);$(this,Le);$(this,$e);$(this,Ne);$(this,De);$(this,Ae);$(this,je);$(this,U,void 0);$(this,M,void 0);$(this,ue,void 0);$(this,j,void 0);$(this,G,void 0);$(this,ce,void 0);$(this,K,void 0);$(this,Se,void 0);$(this,de,void 0);$(this,he,void 0);$(this,ee,void 0);$(this,te,void 0);$(this,Q,void 0);$(this,ne,void 0);P(this,M,void 0),P(this,ue,void 0),P(this,j,void 0),P(this,ne,new Set),P(this,U,t),this.options=n,P(this,K,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(p(this,M).addObserver(this),mt(p(this,M),this.options)&&D(this,ie,Ce).call(this),D(this,$e,Qe).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Je(p(this,M),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Je(p(this,M),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,D(this,Ne,Ze).call(this),D(this,De,Xe).call(this),p(this,M).removeObserver(this)}setOptions(t,n){const a=this.options,r=p(this,M);if(this.options=p(this,U).defaultQueryOptions(t),Ke(a,this.options)||p(this,U).getQueryCache().notify({type:"observerOptionsUpdated",query:p(this,M),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),D(this,Ae,Ye).call(this);const i=this.hasListeners();i&&vt(p(this,M),r,this.options,a)&&D(this,ie,Ce).call(this),this.updateResult(n),i&&(p(this,M)!==r||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&D(this,Pe,He).call(this);const o=D(this,Me,We).call(this);i&&(p(this,M)!==r||this.options.enabled!==a.enabled||o!==p(this,Q))&&D(this,Le,qe).call(this,o)}getOptimisticResult(t){const n=p(this,U).getQueryCache().build(p(this,U),t),a=this.createResult(n,t);return jn(this,a)&&(P(this,j,a),P(this,ce,this.options),P(this,G,p(this,M).state)),a}getCurrentResult(){return p(this,j)}trackResult(t){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(p(this,ne).add(a),t[a])})}),n}getCurrentQuery(){return p(this,M)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=p(this,U).defaultQueryOptions(t),a=p(this,U).getQueryCache().build(p(this,U),n);return a.isFetchingOptimistic=!0,a.fetch().then(()=>this.createResult(a,n))}fetch(t){return D(this,ie,Ce).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),p(this,j)))}createResult(t,n){var ct;const a=p(this,M),r=this.options,i=p(this,j),o=p(this,G),f=p(this,ce),u=t!==a?t.state:p(this,ue),{state:m}=t;let{error:b,errorUpdatedAt:k,fetchStatus:d,status:y}=m,C=!1,N;if(n._optimisticResults){const z=this.hasListeners(),Ue=!z&&mt(t,n),en=z&&vt(t,a,n,r);(Ue||en)&&(d=sn(t.options.networkMode)?"fetching":"paused",m.dataUpdatedAt||(y="pending")),n._optimisticResults==="isRestoring"&&(d="idle")}if(n.select&&typeof m.data<"u")if(i&&m.data===(o==null?void 0:o.data)&&n.select===p(this,Se))N=p(this,de);else try{P(this,Se,n.select),N=n.select(m.data),N=ft(i==null?void 0:i.data,N,n),P(this,de,N),P(this,K,null)}catch(z){P(this,K,z)}else N=m.data;if(typeof n.placeholderData<"u"&&typeof N>"u"&&y==="pending"){let z;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(f==null?void 0:f.placeholderData))z=i.data;else if(z=typeof n.placeholderData=="function"?n.placeholderData((ct=p(this,he))==null?void 0:ct.state.data,p(this,he)):n.placeholderData,n.select&&typeof z<"u")try{z=n.select(z),P(this,K,null)}catch(Ue){P(this,K,Ue)}typeof z<"u"&&(y="success",N=ft(i==null?void 0:i.data,z,n),C=!0)}p(this,K)&&(b=p(this,K),N=p(this,de),k=Date.now(),y="error");const re=d==="fetching",q=y==="pending",Y=y==="error",ut=q&&re;return{status:y,fetchStatus:d,isPending:q,isSuccess:y==="success",isError:Y,isInitialLoading:ut,isLoading:ut,data:N,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:k,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:re,isRefetching:re&&!q,isLoadingError:Y&&m.dataUpdatedAt===0,isPaused:d==="paused",isPlaceholderData:C,isRefetchError:Y&&m.dataUpdatedAt!==0,isStale:at(t,n),refetch:this.refetch}}updateResult(t){const n=p(this,j),a=this.createResult(p(this,M),this.options);if(P(this,G,p(this,M).state),P(this,ce,this.options),Ke(a,n))return;p(this,G).data!==void 0&&P(this,he,p(this,M)),P(this,j,a);const r={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,f=typeof o=="function"?o():o;if(f==="all"||!f&&!p(this,ne).size)return!0;const l=new Set(f??p(this,ne));return this.options.throwOnError&&l.add("error"),Object.keys(p(this,j)).some(u=>{const m=u;return p(this,j)[m]!==n[m]&&l.has(m)})};(t==null?void 0:t.listeners)!==!1&&i()&&(r.listeners=!0),D(this,je,Rt).call(this,{...r,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&D(this,$e,Qe).call(this)}},U=new WeakMap,M=new WeakMap,ue=new WeakMap,j=new WeakMap,G=new WeakMap,ce=new WeakMap,K=new WeakMap,Se=new WeakMap,de=new WeakMap,he=new WeakMap,ee=new WeakMap,te=new WeakMap,Q=new WeakMap,ne=new WeakMap,ie=new WeakSet,Ce=function(t){D(this,Ae,Ye).call(this);let n=p(this,M).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(nn)),n},Pe=new WeakSet,He=function(){if(D(this,Ne,Ze).call(this),dt||p(this,j).isStale||!ht(this.options.staleTime))return;const n=an(p(this,j).dataUpdatedAt,this.options.staleTime)+1;P(this,ee,setTimeout(()=>{p(this,j).isStale||this.updateResult()},n))},Me=new WeakSet,We=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(p(this,M)):this.options.refetchInterval)??!1},Le=new WeakSet,qe=function(t){D(this,De,Xe).call(this),P(this,Q,t),!(dt||this.options.enabled===!1||!ht(p(this,Q))||p(this,Q)===0)&&P(this,te,setInterval(()=>{(this.options.refetchIntervalInBackground||rn.isFocused())&&D(this,ie,Ce).call(this)},p(this,Q)))},$e=new WeakSet,Qe=function(){D(this,Pe,He).call(this),D(this,Le,qe).call(this,D(this,Me,We).call(this))},Ne=new WeakSet,Ze=function(){p(this,ee)&&(clearTimeout(p(this,ee)),P(this,ee,void 0))},De=new WeakSet,Xe=function(){p(this,te)&&(clearInterval(p(this,te)),P(this,te,void 0))},Ae=new WeakSet,Ye=function(){const t=p(this,U).getQueryCache().build(p(this,U),this.options);if(t===p(this,M))return;const n=p(this,M);P(this,M,t),P(this,ue,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},je=new WeakSet,Rt=function(t){on.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(p(this,j))}),p(this,U).getQueryCache().notify({query:p(this,M),type:"observerResultsUpdated"})})},St);function xn(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mt(e,t){return xn(e,t)||e.state.dataUpdatedAt>0&&Je(e,t,t.refetchOnMount)}function Je(e,t,n){if(t.enabled!==!1){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&at(e,t)}return!1}function vt(e,t,n,a){return n.enabled!==!1&&(e!==t||a.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&at(e,n)}function at(e,t){return e.isStaleByTime(t.staleTime)}function jn(e,t){return!Ke(e.getCurrentResult(),t)}function Bn(e=""){if(!ln())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=cn(e),n=un(t);if(!n)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return n}function Un(e,t,n){yn()||console.warn('vue-query composables like "useQuery()" should only be used inside a "setup()" function or a running effect scope. They might otherwise lead to memory leaks.');const a=n||Bn(),r=O(()=>{const k=dn(t);typeof k.enabled=="function"&&(k.enabled=k.enabled());const d=a.defaultQueryOptions(k);return d._optimisticResults=a.isRestoring.value?"isRestoring":"optimistic",d}),i=new e(a,r.value),o=hn(i.getCurrentResult());let f=()=>{};Ee(a.isRestoring,k=>{k||(f(),f=i.subscribe(d=>{pt(o,d)}))},{immediate:!0});const l=()=>{i.setOptions(r.value),pt(o,i.getCurrentResult())};Ee(r,l),fn(()=>{f()});const u=(...k)=>(l(),o.refetch(...k)),m=()=>new Promise((k,d)=>{let y=()=>{};const C=()=>{if(r.value.enabled!==!1){i.setOptions(r.value);const N=i.getOptimisticResult(r.value);N.isStale?(y(),i.fetchOptimistic(r.value).then(k,d)):(y(),k(N))}};C(),y=Ee(r,C)});Ee(()=>o.error,k=>{if(o.isError&&!o.isFetching&&pn(r.value.throwOnError,[k,i.getCurrentQuery()]))throw k});const b=mn(vn(o));for(const k in o)typeof o[k]=="function"&&(b[k]=o[k]);return b.suspense=m,b.refetch=u,b}function ye(e,t){return Un(Rn,e,t)}var zn={root:"p-card p-component",header:"p-card-header",body:"p-card-body",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},Fn={name:"BaseCard",extends:pe,css:{classes:zn}},rt={name:"Card",extends:Fn};function Vn(e,t,n,a,r,i){return s(),c("div",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"card"}),[e.$slots.header?(s(),c("div",v({key:0,class:e.cx("header")},e.ptm("header")),[S(e.$slots,"header")],16)):_("",!0),h("div",v({class:e.cx("body")},e.ptm("body")),[e.$slots.title?(s(),c("div",v({key:0,class:e.cx("title")},e.ptm("title")),[S(e.$slots,"title")],16)):_("",!0),e.$slots.subtitle?(s(),c("div",v({key:1,class:e.cx("subtitle")},e.ptm("subtitle")),[S(e.$slots,"subtitle")],16)):_("",!0),h("div",v({class:e.cx("content")},e.ptm("content")),[S(e.$slots,"content")],16),e.$slots.footer?(s(),c("div",v({key:2,class:e.cx("footer")},e.ptm("footer")),[S(e.$slots,"footer")],16)):_("",!0)],16)],16)}rt.render=Vn;const Kn={class:"ns-author-skeleton-component flex gap-2"},Hn=T({__name:"NsAuthorSkeleton",setup(e){return(t,n)=>(s(),c("div",Kn,[I(w(W),{shape:"circle",size:"3rem"}),h("div",null,[I(w(W),{width:"10rem",height:"1rem",class:"mb-3 mt-1"}),I(w(W),{width:"5rem",height:".5rem"})])]))}}),xt=E(Hn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsAuthorSkeleton/NsAuthorSkeleton.vue"]]),Wn={class:"p-3"},qn={class:"flex justify-content-between"},Qn=T({__name:"NsNoteSkeleton",props:{inThread:Boolean},setup(e){return(t,n)=>(s(),g(w(rt),{class:ae({"white-box":!e.inThread})},{content:L(()=>[h("div",Wn,[h("div",qn,[I(xt),I(w(W),{height:".5rem",width:"5rem"})]),I(w(W),{width:"100%",height:"10rem",class:"mt-3"})])]),_:1},8,["class"]))}}),Zn=E(Qn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsNoteSkeleton/NsNoteSkeleton.vue"]]),Xn=["src","alt"],Yn=T({__name:"NsEmojiedContent",props:{content:{type:String,required:!0},tags:{type:Array,required:!0}},setup(e){const t=e,n=O(()=>Pt({content:t.content??"",tags:t.tags})),a=r=>r.type==="emoji";return(r,i)=>(s(),c("span",null,[(s(!0),c(x,null,we(n.value,(o,f)=>(s(),c(x,{key:f},[a(o)?(s(),c("img",{key:0,src:o.value.url,alt:o.value.name,style:{height:"20px"}},null,8,Xn)):(s(),c(x,{key:1},[Z(A(o.raw),1)],64))],64))),128))]))}}),Ge=E(Yn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsEmojiedContent/NsEmojiedContent.vue"]]),{fetchAuthor:Jn}=me();function Gn(e){return ye({queryKey:["ns-author",e],queryFn(){return Jn(w(e))}})}const ei={key:0},ti={key:1},ni={key:1,class:"cursor-pointer"},ii=["src"],ai={class:"text-700 text-xs"},ri=T({__name:"NsAuthor",props:{pubkey:{type:String,required:!0},inline:Boolean,loading:Boolean},setup(e){const t=e,{isLoading:n,data:a}=Gn(t.pubkey),r=O(()=>{var u;try{return JSON.parse(((u=a.value)==null?void 0:u.content)??"{}")}catch(m){console.error(m);return}}),i=O(()=>{var u;return(u=a.value)==null?void 0:u.schema}),o=O(()=>{var u;return((u=a.value)==null?void 0:u.schema.name)||t.pubkey.slice(0,10)}),f=O(()=>{var u;return((u=r.value)==null?void 0:u.nip05)||t.pubkey.slice(0,10)}),l=O(()=>({name:fe.profile.display,params:{pubkey:t.pubkey}}));return(u,m)=>{const b=F("router-link");return e.inline?(s(),c("span",ei,[w(n)?(s(),g(w(W),{key:0,height:"1rem",width:"10rem",class:"inline-block"})):(s(),g(b,{key:1,to:l.value},{default:L(()=>[w(a)?(s(),g(Ge,{key:0,content:`@${o.value}`,tags:w(a).tags},null,8,["content","tags"])):(s(),c("span",ti,"@"+A(o.value),1))]),_:1},8,["to"]))])):(s(),c("div",ni,[w(n)?(s(),g(xt,{key:0})):w(a)?(s(),g(b,{key:1,to:l.value,class:"flex align-items-start mr-0 lg:mr-5"},{default:L(()=>{var k,d;return[(k=i.value)!=null&&k.image?(s(),c("img",{key:0,src:(d=i.value)==null?void 0:d.image,class:"border-circle mr-3 w-3rem h-3rem"},null,8,ii)):_("v-if",!0),h("div",null,[I(Ge,{class:"text-900 font-medium block mb-2",content:o.value,tags:w(a).tags},null,8,["content","tags"]),h("div",ai,A(f.value),1)])]}),_:1},8,["to"])):_("v-if",!0)]))}}}),jt=E(ri,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsAuthor/NsAuthor.vue"]]),Bt=e=>(Lt("data-v-98455f12"),e=e(),$t(),e),si={class:"flex align-items-center gap-2 text-primary"},oi=Bt(()=>h("i",{class:"pi pi-chevron-down"},null,-1)),li={class:"flex align-items-center gap-2 text-primary"},ui=Bt(()=>h("i",{class:"pi pi-chevron-up"},null,-1)),ci=40,di=20,hi=T({__name:"NsCollapsible",props:gn({maxHeight:{type:Number,default:110},openLabel:{type:String,default:"more"},closeLabel:{type:String,default:"hide"}},{modelValue:{type:Boolean,default:()=>!0,local:!0}}),emits:["update:modelValue"],setup(e){const t=e,n=bn(e,"modelValue",{local:!0}),a=V(null),r=V(!0),i=V(0);Cn(a,f=>{const l=f[0],{height:u}=l.contentRect;r.value=u>t.maxHeight,i.value=u+ci});const o=O(()=>r.value?n.value?`${t.maxHeight+di+10}px`:`${i.value+10}px`:"auto");return(f,l)=>(s(),c("div",{class:ae(["ns-collapsible-component",{"pb-3":r.value}]),style:Mt({height:o.value})},[h("div",{ref_key:"slotRef",ref:a},[S(f.$slots,"default",{},void 0,!0)],512),r.value&&n.value?(s(),c("div",{key:0,class:"ns-collapsible-gradient-overlay ns-collapsible-gradient-overlay-closed align-items-end",onClick:l[0]||(l[0]=u=>n.value=!n.value),onKeydown:l[1]||(l[1]=u=>n.value=!n.value)},[h("div",si,[oi,Z(" "+A(e.openLabel),1)])],32)):_("v-if",!0),r.value&&!n.value?(s(),c("div",{key:1,class:"ns-collapsible-gradient-overlay ns-collapsible-gradient-overlay-open align-items-end",onClick:l[2]||(l[2]=u=>n.value=!n.value),onKeydown:l[3]||(l[3]=u=>n.value=!n.value)},[h("div",li,[ui,Z(" "+A(e.closeLabel),1)])],32)):_("v-if",!0)],6))}});const fi=E(hi,[["__scopeId","data-v-98455f12"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsCollapsible/NsCollapsible.vue"]]);var pi=`
.p-menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}

.p-menu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}

.p-menu .p-menuitem-text {
    line-height: 1;
}
`,mi={root:function(t){var n=t.instance,a=t.props;return["p-menu p-component",{"p-menu-overlay":a.popup,"p-input-filled":n.$primevue.config.inputStyle==="filled","p-ripple-disabled":n.$primevue.config.ripple===!1}]},start:"p-menu-start",menu:"p-menu-list p-reset",submenuHeader:"p-submenu-header",separator:"p-menuitem-separator",end:"p-menu-end",menuitem:function(t){var n=t.instance;return["p-menuitem",{"p-focus":n.id===n.focusedOptionId,"p-disabled":n.disabled()}]},content:"p-menuitem-content",action:function(t){var n=t.props,a=t.isActive,r=t.isExactActive;return["p-menuitem-link",{"router-link-active":a,"router-link-active-exact":n.exact&&r}]},icon:"p-menuitem-icon",label:"p-menuitem-text"},vi=Be(pi,{name:"menu",manual:!0}),yi=vi.load,gi={name:"BaseMenu",extends:pe,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},css:{classes:mi,loadStyle:yi},provide:function(){return{$parentInstance:this}}},Ut={name:"Menuitem",hostName:"Menu",extends:pe,inheritAttrs:!1,emits:["item-click"],props:{item:null,templates:null,exact:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(t,n){return t&&t.item?kn.getItemValue(t.item[n]):void 0},getPTOptions:function(t){return this.ptm(t,{context:{item:this.item,index:this.index,focused:this.isItemFocused()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemActionClick:function(t,n){n&&n(t)},onItemClick:function(t){var n=this.getItemProp(this.item,"command");n&&n({originalEvent:t,item:this.item.item}),this.$emit("item-click",{originalEvent:t,item:this.item,id:this.id})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label}},directives:{ripple:Dt}},bi=["id","aria-label","aria-disabled","data-p-focused","data-p-disabled"],Ci=["href","onClick"],wi=["href","target"];function ki(e,t,n,a,r,i){var o=F("router-link"),f=nt("ripple");return i.visible()?(s(),c("li",v({key:0,id:n.id,class:[e.cx("menuitem"),n.item.class],role:"menuitem",style:n.item.style,"aria-label":i.label(),"aria-disabled":i.disabled()},i.getPTOptions("menuitem"),{"data-p-focused":i.isItemFocused(),"data-p-disabled":i.disabled()||!1}),[h("div",v({class:e.cx("content"),onClick:t[0]||(t[0]=function(l){return i.onItemClick(l)})},i.getPTOptions("content")),[n.templates.item?(s(),g(le(n.templates.item),{key:1,item:n.item},null,8,["item"])):(s(),c(x,{key:0},[n.item.to&&!i.disabled()?(s(),g(o,{key:0,to:n.item.to,custom:""},{default:L(function(l){var u=l.navigate,m=l.href,b=l.isActive,k=l.isExactActive;return[ke((s(),c("a",v({href:m,class:e.cx("action",{isActive:b,isExactActive:k}),tabindex:"-1","aria-hidden":"true",onClick:function(y){return i.onItemActionClick(y,u)}},i.getPTOptions("action")),[n.templates.itemicon?(s(),g(le(n.templates.itemicon),{key:0,item:n.item,class:ae([e.cx("icon"),n.item.icon])},null,8,["item","class"])):n.item.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),n.item.icon]},i.getPTOptions("icon")),null,16)):_("",!0),h("span",v({class:e.cx("label")},i.getPTOptions("label")),A(i.label()),17)],16,Ci)),[[f]])]}),_:1},8,["to"])):ke((s(),c("a",v({key:1,href:n.item.url,class:e.cx("action"),target:n.item.target,tabindex:"-1","aria-hidden":"true"},i.getPTOptions("action")),[n.templates.itemicon?(s(),g(le(n.templates.itemicon),{key:0,item:n.item,class:ae([e.cx("icon"),n.item.icon])},null,8,["item","class"])):n.item.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),n.item.icon]},i.getPTOptions("icon")),null,16)):_("",!0),h("span",v({class:e.cx("label")},i.getPTOptions("label")),A(i.label()),17)],16,wi)),[[f]])],64))],16)],16,bi)):_("",!0)}Ut.render=ki;function yt(e){return Si(e)||Ii(e)||Oi(e)||_i()}function _i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oi(e,t){if(e){if(typeof e=="string")return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}}function Ii(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Si(e){if(Array.isArray(e))return et(e)}function et(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var zt={name:"Menu",extends:gi,inheritAttrs:!1,emits:["show","hide","focus","blur"],data:function(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(t){this.id=t||X()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.id=this.id||X(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&oe.clear(this.container),this.container=null},methods:{itemClick:function(t){var n=t.item;this.disabled(n)||(n.command&&n.command(t),n.to&&t.navigate&&t.navigate(t.originalEvent),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==t.id&&(this.focusedOptionIndex=t.id))},onListFocus:function(t){this.focused=!0,this.popup||(this.selectedOptionIndex!==-1?(this.changeFocusedOptionIndex(this.selectedOptionIndex),this.selectedOptionIndex=-1):this.changeFocusedOptionIndex(0)),this.$emit("focus",t)},onListBlur:function(t){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",t)},onListKeyDown:function(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":this.onEnterKey(t);break;case"Space":this.onSpaceKey(t);break;case"Escape":this.popup&&(R.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey:function(t){var n=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()},onArrowUpKey:function(t){if(t.altKey&&this.popup)R.focus(this.target),this.hide(),t.preventDefault();else{var n=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()}},onHomeKey:function(t){this.changeFocusedOptionIndex(0),t.preventDefault()},onEndKey:function(t){this.changeFocusedOptionIndex(R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),t.preventDefault()},onEnterKey:function(t){var n=R.findSingle(this.list,'li[id="'.concat("".concat(this.focusedOptionIndex),'"]')),a=n&&R.findSingle(n,'a[data-pc-section="action"]');this.popup&&R.focus(this.target),a?a.click():n&&n.click(),t.preventDefault()},onSpaceKey:function(t){this.onEnterKey(t)},findNextOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=yt(n).findIndex(function(r){return r.id===t});return a>-1?a+1:0},findPrevOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=yt(n).findIndex(function(r){return r.id===t});return a>-1?a-1:0},changeFocusedOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=t>=n.length?n.length-1:t<0?0:t;a>-1&&(this.focusedOptionIndex=n[a].getAttribute("id"))},toggle:function(t){this.overlayVisible?this.hide():this.show(t)},show:function(t){this.overlayVisible=!0,this.target=t.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(t){R.addStyles(t,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&oe.set("menu",t,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&(R.focus(this.list),this.changeFocusedOptionIndex(0)),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave:function(t){this.autoZIndex&&oe.clear(t)},alignOverlay:function(){R.absolutePosition(this.container,this.target),this.container.style.minWidth=R.getOuterWidth(this.target)+"px"},bindOutsideClickListener:function(){var t=this;this.outsideClickListener||(this.outsideClickListener=function(n){var a=t.container&&!t.container.contains(n.target),r=!(t.target&&(t.target===n.target||t.target.contains(n.target)));t.overlayVisible&&a&&r?t.hide():!t.popup&&a&&r&&(t.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new wn(this.target,function(){t.overlayVisible&&t.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&!R.isTouchDevice()&&t.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible:function(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled:function(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label:function(t){return typeof t.label=="function"?t.label():t.label},onOverlayClick:function(t){Tn.emit("overlay-click",{originalEvent:t,target:this.target})},containerRef:function(t){this.container=t},listRef:function(t){this.list=t}},computed:{focusedOptionId:function(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:Ut,Portal:Nt}};function _e(e){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(e)}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gt(Object(n),!0).forEach(function(a){Pi(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Pi(e,t,n){return t=Mi(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e){var t=Li(e,"string");return _e(t)==="symbol"?t:String(t)}function Li(e,t){if(_e(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(_e(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $i=["id"],Ni=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],Di=["id"];function Ai(e,t,n,a,r,i){var o=F("PVMenuitem"),f=F("Portal");return s(),g(f,{appendTo:e.appendTo,disabled:!e.popup},{default:L(function(){return[I(it,v({name:"p-connected-overlay",onEnter:i.onEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},e.ptm("transition")),{default:L(function(){return[!e.popup||r.overlayVisible?(s(),c("div",v({key:0,ref:i.containerRef,id:r.id,class:e.cx("root"),onClick:t[3]||(t[3]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)})},bt(bt({},e.$attrs),e.ptm("root")),{"data-pc-name":"menu"}),[e.$slots.start?(s(),c("div",v({key:0,class:e.cx("start")},e.ptm("start")),[S(e.$slots,"start")],16)):_("",!0),h("ul",v({ref:i.listRef,id:r.id+"_list",class:e.cx("menu"),role:"menu",tabindex:e.tabindex,"aria-activedescendant":r.focused?i.focusedOptionId:void 0,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,onFocus:t[0]||(t[0]=function(){return i.onListFocus&&i.onListFocus.apply(i,arguments)}),onBlur:t[1]||(t[1]=function(){return i.onListBlur&&i.onListBlur.apply(i,arguments)}),onKeydown:t[2]||(t[2]=function(){return i.onListKeyDown&&i.onListKeyDown.apply(i,arguments)})},e.ptm("menu")),[(s(!0),c(x,null,we(e.model,function(l,u){return s(),c(x,{key:i.label(l)+u.toString()},[l.items&&i.visible(l)&&!l.separator?(s(),c(x,{key:0},[l.items?(s(),c("li",v({key:0,id:r.id+"_"+u,class:e.cx("submenuHeader"),role:"none"},e.ptm("submenuHeader")),[S(e.$slots,"item",{item:l},function(){return[Z(A(i.label(l)),1)]})],16,Di)):_("",!0),(s(!0),c(x,null,we(l.items,function(m,b){return s(),c(x,{key:m.label+u+"_"+b},[i.visible(m)&&!m.separator?(s(),g(o,{key:0,id:r.id+"_"+u+"_"+b,item:m,templates:e.$slots,exact:e.exact,focusedOptionId:i.focusedOptionId,onItemClick:i.itemClick,pt:e.pt},null,8,["id","item","templates","exact","focusedOptionId","onItemClick","pt"])):i.visible(m)&&m.separator?(s(),c("li",v({key:"separator"+u+b,class:[e.cx("separator"),l.class],style:m.style,role:"separator"},e.ptm("separator")),null,16)):_("",!0)],64)}),128))],64)):i.visible(l)&&l.separator?(s(),c("li",v({key:"separator"+u.toString(),class:[e.cx("separator"),l.class],style:l.style,role:"separator"},e.ptm("separator")),null,16)):(s(),g(o,{key:i.label(l)+u.toString(),id:r.id+"_"+u,item:l,index:u,templates:e.$slots,exact:e.exact,focusedOptionId:i.focusedOptionId,onItemClick:i.itemClick,pt:e.pt},null,8,["id","item","index","templates","exact","focusedOptionId","onItemClick","pt"]))],64)}),128))],16,Ni),e.$slots.end?(s(),c("div",v({key:1,class:e.cx("end")},e.ptm("end")),[S(e.$slots,"end")],16)):_("",!0)],16,$i)):_("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])}zt.render=Ai;function tt(e){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(e)}function H(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function B(e){H(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||tt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Ti={};function Ei(){return Ti}function Ct(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function xe(e,t){H(2,arguments);var n=B(e),a=B(t),r=n.getTime()-a.getTime();return r<0?-1:r>0?1:r}function Ri(e,t){H(2,arguments);var n=B(e),a=B(t),r=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return r*12+i}function xi(e,t){return H(2,arguments),B(e).getTime()-B(t).getTime()}var wt={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ji="trunc";function Bi(e){return e?wt[e]:wt[ji]}function Ui(e){H(1,arguments);var t=B(e);return t.setHours(23,59,59,999),t}function zi(e){H(1,arguments);var t=B(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Fi(e){H(1,arguments);var t=B(e);return Ui(t).getTime()===zi(t).getTime()}function Vi(e,t){H(2,arguments);var n=B(e),a=B(t),r=xe(n,a),i=Math.abs(Ri(n,a)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*i);var f=xe(n,a)===-r;Fi(B(e))&&i===1&&xe(e,a)===1&&(f=!1),o=r*(i-Number(f))}return o===0?0:o}function Ki(e,t,n){H(2,arguments);var a=xi(e,t)/1e3;return Bi(n==null?void 0:n.roundingMethod)(a)}var Hi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wi=function(t,n,a){var r,i=Hi[t];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};const qi=Wi;function Fe(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,a=e.formats[n]||e.formats[e.defaultWidth];return a}}var Qi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zi={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xi={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yi={date:Fe({formats:Qi,defaultWidth:"full"}),time:Fe({formats:Zi,defaultWidth:"full"}),dateTime:Fe({formats:Xi,defaultWidth:"full"})};const Ji=Yi;var Gi={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ea=function(t,n,a,r){return Gi[t]};const ta=ea;function ge(e){return function(t,n){var a=n!=null&&n.context?String(n.context):"standalone",r;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var f=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[f]}var u=e.argumentCallback?e.argumentCallback(t):t;return r[u]}}var na={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ia={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aa={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ra={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},la=function(t,n){var a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},ua={ordinalNumber:la,era:ge({values:na,defaultWidth:"wide"}),quarter:ge({values:ia,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ge({values:aa,defaultWidth:"wide"}),day:ge({values:ra,defaultWidth:"wide"}),dayPeriod:ge({values:sa,defaultWidth:"wide",formattingValues:oa,defaultFormattingWidth:"wide"})};const ca=ua;function be(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;var o=i[0],f=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(f)?ha(f,function(b){return b.test(o)}):da(f,function(b){return b.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var m=t.slice(o.length);return{value:u,rest:m}}}function da(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function ha(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function fa(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var r=a[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var f=t.slice(r.length);return{value:o,rest:f}}}var pa=/^(\d+)(th|st|nd|rd)?/i,ma=/\d+/i,va={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ya={any:[/^b/i,/^(a|c)/i]},ga={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ba={any:[/1/i,/2/i,/3/i,/4/i]},Ca={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ka={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_a={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Oa={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ia={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sa={ordinalNumber:fa({matchPattern:pa,parsePattern:ma,valueCallback:function(t){return parseInt(t,10)}}),era:be({matchPatterns:va,defaultMatchWidth:"wide",parsePatterns:ya,defaultParseWidth:"any"}),quarter:be({matchPatterns:ga,defaultMatchWidth:"wide",parsePatterns:ba,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:be({matchPatterns:Ca,defaultMatchWidth:"wide",parsePatterns:wa,defaultParseWidth:"any"}),day:be({matchPatterns:ka,defaultMatchWidth:"wide",parsePatterns:_a,defaultParseWidth:"any"}),dayPeriod:be({matchPatterns:Oa,defaultMatchWidth:"any",parsePatterns:Ia,defaultParseWidth:"any"})};const Pa=Sa;var Ma={code:"en-US",formatDistance:qi,formatLong:Ji,formatRelative:ta,localize:ca,match:Pa,options:{weekStartsOn:0,firstWeekContainsDate:1}};const La=Ma;function Ft(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function $a(e){return Ft({},e)}var kt=1440,Na=2520,Ve=43200,Da=86400;function Aa(e,t,n){var a,r;H(2,arguments);var i=Ei(),o=(a=(r=n==null?void 0:n.locale)!==null&&r!==void 0?r:i.locale)!==null&&a!==void 0?a:La;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var f=xe(e,t);if(isNaN(f))throw new RangeError("Invalid time value");var l=Ft($a(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:f}),u,m;f>0?(u=B(t),m=B(e)):(u=B(e),m=B(t));var b=Ki(m,u),k=(Ct(m)-Ct(u))/1e3,d=Math.round((b-k)/60),y;if(d<2)return n!=null&&n.includeSeconds?b<5?o.formatDistance("lessThanXSeconds",5,l):b<10?o.formatDistance("lessThanXSeconds",10,l):b<20?o.formatDistance("lessThanXSeconds",20,l):b<40?o.formatDistance("halfAMinute",0,l):b<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):d===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",d,l);if(d<45)return o.formatDistance("xMinutes",d,l);if(d<90)return o.formatDistance("aboutXHours",1,l);if(d<kt){var C=Math.round(d/60);return o.formatDistance("aboutXHours",C,l)}else{if(d<Na)return o.formatDistance("xDays",1,l);if(d<Ve){var N=Math.round(d/kt);return o.formatDistance("xDays",N,l)}else if(d<Da)return y=Math.round(d/Ve),o.formatDistance("aboutXMonths",y,l)}if(y=Vi(m,u),y<12){var re=Math.round(d/Ve);return o.formatDistance("xMonths",re,l)}else{var q=y%12,Y=Math.floor(y/12);return q<3?o.formatDistance("aboutXYears",Y,l):q<9?o.formatDistance("overXYears",Y,l):o.formatDistance("almostXYears",Y+1,l)}}function Ta(){return{prettifyRelative:t=>Aa(t*1e3,new Date)}}const{fetchEventComments:Ea,fetchEventReposts:Ra}=me();function xa(e,{enabled:t}){return ye({queryKey:["ns-thing-comments",e],queryFn(){return Ea(w(e))},enabled:t})}function ja(e,{enabled:t}){return ye({queryKey:["ns-thing-reposts",e],queryFn(){return Ra(w(e))},enabled:t})}const Vt=e=>(Lt("data-v-7b6ad372"),e=e(),$t(),e),Ba={class:"flex justify-content-between align-items-center gap-2 p-3 pb-0"},Ua={class:"block text-500 min-w-max font-medium text-sm"},za={class:"p-3"},Fa={key:0,class:"flex align-items-center justify-content-between border-bottom-1 surface-border"},Va={key:0,class:"flex align-items-center gap-4 px-3"},Ka=Vt(()=>h("i",{class:"pi pi-comments mr-2"},null,-1)),Ha={key:1},Wa=Vt(()=>h("i",{class:"pi pi-sync mr-2"},null,-1)),qa={key:1},Qa={class:"mr-1"},Za={key:1,class:"metadata-details p-2 inset-shadow-1"},Xa=T({__name:"NsThing",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){const t=e,n=_n(),a=O(()=>!t.inline&&!t.inThread),{isLoading:r,data:i}=xa(t.event.id,{enabled:a}),{isLoading:o,data:f}=ja(t.event.id,{enabled:a}),{prettifyRelative:l}=Ta(),u=V(!1),m=V(),b=d=>{m.value.toggle(d)},k=O(()=>[{label:"Author profile",icon:"pi pi-user",command:()=>{const d=n.resolve({name:fe.profile.display,params:{pubkey:t.event.pubkey}});window.open(d.href,"_blank")}},{label:"Open link",icon:"pi pi-user",command:()=>{const d=n.resolve({name:fe.events.display,params:{pubkey:t.event.id}});window.open(d.href,"_blank")}},{label:"Mute author",icon:"pi pi-user-minus",class:"danger",command:()=>{}},{label:u.value?"Hide details":"Details",icon:"pi pi-info-circle",command:()=>{u.value=!u.value}}]);return(d,y)=>(s(),g(w(rt),{class:ae(["ns-thing-component",{"white-box":!e.inThread,"in-thread":e.inThread}])},{header:L(()=>[S(d.$slots,"header",{},void 0,!0)]),content:L(()=>[h("div",Ba,[I(jt,{class:"mb-3 truncate",pubkey:e.event.pubkey},null,8,["pubkey"]),h("div",Ua,A(w(l)(e.event.created_at)),1)]),S(d.$slots,"content-header",{},void 0,!0),h("div",za,[I(fi,{"max-height":240},{default:L(()=>[S(d.$slots,"default",{},void 0,!0)]),_:3})]),S(d.$slots,"content-footer",{},void 0,!0)]),footer:L(()=>{var C,N;return[e.inline?_("v-if",!0):(s(),c("div",Fa,[h("div",null,[e.inThread?_("v-if",!0):(s(),c("div",Va,[h("div",null,[Ka,w(r)?(s(),g(w(W),{key:0,class:"inline-block",width:"1rem"})):(s(),c("span",Ha,A((C=w(i))==null?void 0:C.length),1))]),h("div",null,[Wa,w(o)?(s(),g(w(W),{key:0,class:"inline-block",width:"1rem"})):(s(),c("span",qa,A((N=w(f))==null?void 0:N.length),1))])]))]),h("div",Qa,[I(w(At),{icon:"pi pi-ellipsis-v",class:"px-2",text:"",onClick:b,"aria-haspopup":"true","aria-controls":"overlay_menu"}),I(w(zt),{ref_key:"optionsMenuRef",ref:m,id:"overlay_menu",model:k.value,popup:!0},null,8,["model"])])])),u.value?(s(),c("div",Za,[h("pre",null,A(e.event),1)])):_("v-if",!0)]}),_:3},8,["class"]))}});const Te=E(Xa,[["__scopeId","data-v-7b6ad372"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsThing/NsThing.vue"]]),Ya=T({__name:"NsProfile",props:{event:{type:Object,required:!0}},setup(e){return(t,n)=>(s(),g(Te,{class:"ns-profile-component",event:e.event},{default:L(()=>[I(Ge,{content:e.event.schema.description||"",tags:e.event.tags},null,8,["content","tags"])]),_:1},8,["event"]))}}),Ja=E(Ya,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsProfile/NsProfile.vue"]]),{fetchEvent:Ga,fetchAuthor:er}=me();function tr(e,{enabled:t}){return ye({queryKey:["ns-message-recipient-event",e],queryFn(){return Ga(w(e))},enabled:t})}function nr(e,{enabled:t}){return ye({queryKey:["ns-message-recipient-author",e],queryFn(){return er(w(e))},enabled:t})}const ir={key:1,class:"ns-message-recipient"},ar=T({__name:"NsMessageRecipient",props:{event:{type:Object},id:{type:String}},setup(e){const t=e,{isLoading:n,data:a}=tr(t.id,{enabled:!t.event}),r=O(()=>{var m,b;return((m=t.event)==null?void 0:m.pubkey)??((b=a.value)==null?void 0:b.pubkey)??""}),i=O(()=>!!r.value),{isLoading:o,data:f}=nr(r,{enabled:i}),l=O(()=>n.value||o.value),u=O(()=>{var m;return((m=f.value)==null?void 0:m.schema.name)||r.value.slice(0,10)||"????"});return(m,b)=>l.value?(s(),g(w(W),{key:0,class:"inline-block",height:"0.5rem",width:"7rem"})):(s(),c("span",ir,"@"+A(u.value),1))}}),rr=E(ar,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/components/NsMessageRecipient/NsMessageRecipient.vue"]]),sr={class:"ns-comment-controller text-color-secondary text-sm"},or={key:0},lr={key:1,class:"mx-1"},ur={key:2},cr=T({__name:"NsCommentController",props:{event:{type:Object,required:!0}},setup(e){const t=e,{fetch:n}=me(),a=V(!1),r=V(),i=V(),o=V();return Tt(async()=>{var f,l,u,m;if(a.value=!0,o.value=(f=t.event.schema.mainEntity)==null?void 0:f["@id"],r.value=(l=t.event.schema.parentItem)==null?void 0:l["@id"],t.event.schema.isPartOf&&(o.value==null||r.value==null)){const b=t.event.tags.filter(y=>y[0]==="e"),k=b.map(y=>y[2]).filter(Boolean),d=await n([{kinds:[1],ids:b.map(y=>y[1])}],{batchId:"events",relays:k});o.value==null&&(o.value=(u=d.find(y=>!y.tags.some(C=>C[0]==="e")))==null?void 0:u.id),r.value==null&&(r.value=(m=d.sort((y,C)=>C.created_at-y.created_at)[0])==null?void 0:m.id)}r.value=r.value||o.value,a.value=!1}),(f,l)=>{const u=F("router-link");return s(),c("div",sr,[r.value?(s(),c("span",or,[Z(" In reply to "),I(u,{class:"text-primary",to:{name:w(fe).events.display,params:{id:r.value}}},{default:L(()=>[I(rr,{id:r.value,event:i.value},null,8,["id","event"])]),_:1},8,["to"])])):_("v-if",!0),r.value&&o.value?(s(),c("span",lr,"•")):_("v-if",!0),o.value?(s(),c("span",ur,[I(u,{class:"text-primary",to:{name:w(fe).events.display,params:{id:o.value}}},{default:L(()=>[Z(" view thread ")]),_:1},8,["to"])])):_("v-if",!0)])}}}),dr=E(cr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/components/NsCommentController.vue"]]);var Kt={name:"RefreshIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(X())}}},hr=["clipPath"],fr=h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z",fill:"currentColor"},null,-1),pr=[fr],mr=["id"],vr=h("rect",{width:"14",height:"14",fill:"white"},null,-1),yr=[vr];function gr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[h("g",{clipPath:"url(#".concat(i.pathId,")")},pr,8,hr),h("defs",null,[h("clipPath",{id:"".concat(i.pathId)},yr,8,mr)])],16)}Kt.render=gr;var Ht={name:"SearchMinusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(X())}}},br=["clipPath"],Cr=h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z",fill:"currentColor"},null,-1),wr=[Cr],kr=["id"],_r=h("rect",{width:"14",height:"14",fill:"white"},null,-1),Or=[_r];function Ir(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[h("g",{clipPath:"url(#".concat(i.pathId,")")},wr,8,br),h("defs",null,[h("clipPath",{id:"".concat(i.pathId)},Or,8,kr)])],16)}Ht.render=Ir;var Wt={name:"SearchPlusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(X())}}},Sr=["clipPath"],Pr=h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z",fill:"currentColor"},null,-1),Mr=[Pr],Lr=["id"],$r=h("rect",{width:"14",height:"14",fill:"white"},null,-1),Nr=[$r];function Dr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[h("g",{clipPath:"url(#".concat(i.pathId,")")},Mr,8,Sr),h("defs",null,[h("clipPath",{id:"".concat(i.pathId)},Nr,8,Lr)])],16)}Wt.render=Dr;var qt={name:"UndoIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(X())}}},Ar=["clipPath"],Tr=h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z",fill:"currentColor"},null,-1),Er=[Tr],Rr=["id"],xr=h("rect",{width:"14",height:"14",fill:"white"},null,-1),jr=[xr];function Br(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[h("g",{clipPath:"url(#".concat(i.pathId,")")},Er,8,Ar),h("defs",null,[h("clipPath",{id:"".concat(i.pathId)},jr,8,Rr)])],16)}qt.render=Br;var Ur=`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-image-preview-container {
    position: relative;
    display: inline-block;
}

.p-image-preview-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
}

.p-image-preview-container:hover > .p-image-preview-indicator {
    opacity: 1;
    cursor: pointer;
}

.p-image-preview-container > img {
    cursor: pointer;
}

.p-image-toolbar {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
}

.p-image-action.p-link {
    display: flex;
    justify-content: center;
    align-items: center;
}

.p-image-preview {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}

.p-image-preview-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-image-preview-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-image-preview-enter-from,
.p-image-preview-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`,zr={root:function(t){var n=t.props;return["p-image p-component",{"p-image-preview-container":n.preview}]},image:function(t){var n=t.props;return n.image},button:"p-image-preview-indicator",icon:"p-image-preview-icon",mask:"p-image-mask p-component-overlay p-component-overlay-enter",rotateRightButton:"p-image-action p-link",rotateLeftButton:"p-image-action p-link",zoomOutButton:function(t){var n=t.instance;return["p-image-action p-link",{"p-disabled":n.isZoomOutDisabled}]},zoomInButton:function(t){var n=t.instance;return["p-image-action p-link",{"p-disabled":n.isZoomInDisabled}]},closeButton:"p-image-action p-link",preview:"p-image-preview"},Fr=Be(Ur,{name:"image",manual:!0}),Vr=Fr.load,Kr={name:"BaseImage",extends:pe,props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null},indicatorIcon:{type:String,default:void 0},zoomInDisabled:{type:Boolean,default:!1},zoomOutDisabled:{type:Boolean,default:!1}},css:{classes:zr,loadStyle:Vr},provide:function(){return{$parentInstance:this}}},st={name:"Image",extends:Kr,inheritAttrs:!1,emits:["show","hide","error"],mask:null,data:function(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount:function(){this.mask&&oe.clear(this.container)},methods:{maskRef:function(t){this.mask=t},toolbarRef:function(t){this.toolbarRef=t},onImageClick:function(){var t=this;this.preview&&(R.addClass(document.body,"p-overflow-hidden"),this.maskVisible=!0,setTimeout(function(){t.previewVisible=!0},25))},onPreviewImageClick:function(){this.previewClick=!0},onMaskClick:function(t){var n=[t.target.classList].includes("p-image-action")||t.target.closest(".p-image-action");n||(this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1)},onMaskKeydown:function(t){var n=this;switch(t.code){case"Escape":this.hidePreview(),setTimeout(function(){R.focus(n.$refs.previewButton)},200),t.preventDefault();break}},onError:function(){this.$emit("error")},rotateRight:function(){this.rotate+=90,this.previewClick=!0},rotateLeft:function(){this.rotate-=90,this.previewClick=!0},zoomIn:function(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut:function(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter:function(){oe.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter:function(){this.focus(),this.$emit("show")},onBeforeLeave:function(){!this.isUnstyled&&R.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(t){oe.clear(t),this.maskVisible=!1},focus:function(){var t=this.mask.querySelector("[autofocus]");t&&t.focus()},hidePreview:function(){this.previewVisible=!1,this.rotate=0,this.scale=1,R.removeClass(document.body,"p-overflow-hidden")}},computed:{containerClass:function(){return[this.cx("root"),this.class]},rotateClass:function(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle:function(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},isZoomInDisabled:function(){return this.zoomInDisabled||this.scale>=1.5},isZoomOutDisabled:function(){return this.zoomOutDisabled||this.scale<=.5},rightAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:Nt,EyeIcon:En,RefreshIcon:Kt,UndoIcon:qt,SearchMinusIcon:Ht,SearchPlusIcon:Wt,TimesIcon:On},directives:{focustrap:In}};function Oe(e){"@babel/helpers - typeof";return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(e)}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(a){Hr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Hr(e,t,n){return t=Wr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wr(e){var t=qr(e,"string");return Oe(t)==="symbol"?t:String(t)}function qr(e,t){if(Oe(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Oe(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qr=["aria-modal"],Zr=["aria-label"],Xr=["aria-label"],Yr=["disabled","aria-label"],Jr=["disabled","aria-label"],Gr=["aria-label"],es=["src"];function ts(e,t,n,a,r,i){var o=F("RefreshIcon"),f=F("UndoIcon"),l=F("SearchMinusIcon"),u=F("SearchPlusIcon"),m=F("TimesIcon"),b=F("Portal"),k=nt("focustrap");return s(),c("span",v({class:i.containerClass,style:e.style},e.ptm("root"),{"data-pc-name":"image"}),[S(e.$slots,"image",{onError:i.onError},function(){return[h("img",v({style:e.imageStyle,class:[e.cx("image"),e.imageClass],onError:t[0]||(t[0]=function(){return i.onError&&i.onError.apply(i,arguments)})},Re(Re({},e.$attrs),e.ptm("image"))),null,16)]}),e.preview?(s(),c("button",v({key:0,ref:"previewButton",type:"button",class:e.cx("button"),onClick:t[1]||(t[1]=function(){return i.onImageClick&&i.onImageClick.apply(i,arguments)})},Re(Re({},e.previewButtonProps),e.ptm("button"))),[S(e.$slots,"indicatoricon",{},function(){return[(s(),g(le(e.indicatorIcon?"i":"EyeIcon"),v({class:e.cx("icon")},e.ptm("icon")),null,16,["class"]))]})],16)):_("",!0),I(b,null,{default:L(function(){return[r.maskVisible?ke((s(),c("div",v({key:0,ref:i.maskRef,role:"dialog",class:e.cx("mask"),"aria-modal":r.maskVisible,onClick:t[8]||(t[8]=function(){return i.onMaskClick&&i.onMaskClick.apply(i,arguments)}),onKeydown:t[9]||(t[9]=function(){return i.onMaskKeydown&&i.onMaskKeydown.apply(i,arguments)})},e.ptm("mask")),[h("div",v({class:"p-image-toolbar"},e.ptm("toolbar")),[h("button",v({class:e.cx("rotateRightButton"),onClick:t[2]||(t[2]=function(){return i.rotateRight&&i.rotateRight.apply(i,arguments)}),type:"button","aria-label":i.rightAriaLabel},e.ptm("rotateRightButton"),{"data-pc-group-section":"action"}),[S(e.$slots,"refresh",{},function(){return[I(o,J(se(e.ptm("rotateRightIcon"))),null,16)]})],16,Zr),h("button",v({class:e.cx("rotateLeftButton"),onClick:t[3]||(t[3]=function(){return i.rotateLeft&&i.rotateLeft.apply(i,arguments)}),type:"button","aria-label":i.leftAriaLabel},e.ptm("rotateLeftButton"),{"data-pc-group-section":"action"}),[S(e.$slots,"undo",{},function(){return[I(f,J(se(e.ptm("rotateLeftIcon"))),null,16)]})],16,Xr),h("button",v({class:e.cx("zoomOutButton"),onClick:t[4]||(t[4]=function(){return i.zoomOut&&i.zoomOut.apply(i,arguments)}),type:"button",disabled:i.isZoomOutDisabled,"aria-label":i.zoomOutAriaLabel},e.ptm("zoomOutButton"),{"data-pc-group-section":"action"}),[S(e.$slots,"zoomout",{},function(){return[I(l,J(se(e.ptm("zoomOutIcon"))),null,16)]})],16,Yr),h("button",v({class:e.cx("zoomInButton"),onClick:t[5]||(t[5]=function(){return i.zoomIn&&i.zoomIn.apply(i,arguments)}),type:"button",disabled:i.isZoomInDisabled,"aria-label":i.zoomInAriaLabel},e.ptm("zoomInButton"),{"data-pc-group-section":"action"}),[S(e.$slots,"zoomin",{},function(){return[I(u,J(se(e.ptm("zoomInIcon"))),null,16)]})],16,Jr),h("button",v({class:e.cx("closeButton"),type:"button",onClick:t[6]||(t[6]=function(){return i.hidePreview&&i.hidePreview.apply(i,arguments)}),"aria-label":i.closeAriaLabel,autofocus:""},e.ptm("closeButton"),{"data-pc-group-section":"action"}),[S(e.$slots,"close",{},function(){return[I(m,J(se(e.ptm("closeIcon"))),null,16)]})],16,Gr)],16),I(it,v({name:"p-image-preview",onBeforeEnter:i.onBeforeEnter,onEnter:i.onEnter,onLeave:i.onLeave,onBeforeLeave:i.onBeforeLeave,onAfterLeave:i.onAfterLeave},e.ptm("transition")),{default:L(function(){return[r.previewVisible?(s(),c("div",J(v({key:0},e.ptm("previewContainer"))),[S(e.$slots,"preview",{class:ae(e.cx("preview")),style:Mt(i.imagePreviewStyle),onClick:i.onPreviewImageClick},function(){return[h("img",v({src:e.$attrs.src,class:e.cx("preview"),style:i.imagePreviewStyle,onClick:t[7]||(t[7]=function(){return i.onPreviewImageClick&&i.onPreviewImageClick.apply(i,arguments)})},e.ptm("preview")),null,16,es)]})],16)):_("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],16,Qr)),[[k]]):_("",!0)]}),_:3})],16)}st.render=ts;var ns=`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-tag-icon,
.p-tag-value,
.p-tag-icon.pi {
    line-height: 1.5;
}

.p-tag.p-tag-rounded {
    border-radius: 10rem;
}
`,is={root:function(t){var n=t.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},as=Be(ns,{name:"tag",manual:!0}),rs=as.load,ss={name:"BaseTag",extends:pe,props:{value:null,severity:null,rounded:Boolean,icon:String},css:{classes:is,loadStyle:rs},provide:function(){return{$parentInstance:this}}},Qt={name:"Tag",extends:ss};function os(e,t,n,a,r,i){return s(),c("span",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"tag"}),[e.$slots.icon?(s(),g(le(e.$slots.icon),v({key:0,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):_("",!0),S(e.$slots,"default",{},function(){return[h("span",v({class:e.cx("value")},e.ptm("value")),A(e.value),17)]})],16)}Qt.render=os;const ls=T({__name:"NsTag",props:{value:{type:String,required:!0},raw:Boolean},setup(e){const t=e;return(n,a)=>{const r=F("router-link");return s(),g(r,{class:"ns-tag-component",to:{name:w(fe).tags.display,params:{tag:t.value}}},{default:L(()=>[e.raw?(s(),g(w(At),{key:0,link:"",label:`#${e.value}`,class:"p-0 inline-block"},null,8,["label"])):(s(),c(x,{key:1},[_(' <span text v-if="raw">#{{ value }}</span> '),I(w(Qt),{class:"surface-ground text-color-secondary",value:`#${e.value}`},null,8,["value"])],2112))]),_:1},8,["to"])}}}),us=E(ls,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsTag/NsTag.vue"]]),cs={class:"ns-kind1-content-component"},ds=["src","alt"],hs=["src"],fs=["src"],ps=["href"],ms=["href"],vs=T({__name:"NsKind1Content",props:{event:{type:Object,required:!0},skipMedia:Boolean},setup(e){const t=e,n=O(()=>{var d;return Pt({content:((d=t.event.content)==null?void 0:d.trim())??"",tags:t.event.tags}).filter(y=>!(t.skipMedia&&y.type==="link"&&["image","video"].includes(y.value.type)))}),a=d=>d.type==="text",r=d=>d.type==="emoji",i=d=>d.type==="link",o=d=>i(d)&&d.value.type==="image",f=d=>i(d)&&d.value.type==="video",l=d=>i(d)&&d.value.type==="audio",u=d=>d.type==="newline",m=d=>d.type==="topic",b=d=>d.type.match(/^nostr:n(profile|pub|event|ote)$/),k=d=>d.type.match(/^nostr:np(rofile|ub)$/);return(d,y)=>(s(),c("span",cs,[(s(!0),c(x,null,we(n.value,(C,N)=>(s(),c(x,{key:N},[a(C)?(s(),c(x,{key:0},[Z(A(C.value),1)],64)):r(C)?(s(),c("img",{key:1,src:C.value.url,alt:C.value.name,style:{height:"25px"}},null,8,ds)):u(C)?(s(!0),c(x,{key:2},we(C.value,(re,q)=>(s(),c("br",{key:`newline-${q}`}))),128)):o(C)?(s(),g(w(st),{key:3,class:"my-4","image-style":"max-width: 100%",src:C.value.url,alt:"image",preview:""},null,8,["src"])):f(C)?(s(),c("video",{key:4,class:"my-4",src:C.value.url,controls:"",style:{"max-width":"100%","max-height":"500px"}},null,8,hs)):l(C)?(s(),c("audio",{key:5,class:"my-4",src:C.value.url,controls:""},[h("a",{href:C.value.url},'{item.value.url.replace(/https?:\\/\\/(www\\.)?/, "")}',8,ps)],8,fs)):m(C)?(s(),g(us,{key:6,raw:"",value:C.value},null,8,["value"])):k(C)?(s(),g(jt,{key:7,pubkey:C.value.pubkey,inline:""},null,8,["pubkey"])):b(C)?(s(),g(lt,{key:8,inline:"","skip-media":e.skipMedia,id:C.value.entity||C.value.id,relays:C.value.relays||[],class:"mt-4"},null,8,["skip-media","id","relays"])):i(C)?(s(),c(x,{key:9},[_(" TODO add relay to NsNote"),h("a",{href:C.value.url,target:"_blank"},A(C.value.url),9,ms)],2112)):(s(),c(x,{key:10},[Z(A(C.value)+" -- "+A(b(C)),1)],64))],64))),128))]))}}),Zt=E(vs,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsKind1Content/NsKind1Content.vue"]]),ys=T({__name:"NsComment",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){return(t,n)=>(s(),g(Te,{event:e.event,inline:e.inline,"in-thread":e.inThread,class:"ns-comment-component"},{default:L(()=>[e.inThread?_("v-if",!0):(s(),g(dr,{key:0,event:e.event,class:"mb-3"},null,8,["event"])),I(Zt,{event:e.event},null,8,["event"])]),_:1},8,["event","inline","in-thread"]))}}),gs=E(ys,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/NsComment.vue"]]),bs=T({__name:"NsNote",props:{event:{type:Object,required:!0},skipMedia:Boolean,inline:Boolean,inThread:Boolean},setup(e){return(t,n)=>(s(),g(Te,{class:"ns-note-component",event:e.event,inline:e.inline,"in-thread":e.inThread},{header:L(()=>[S(t.$slots,"header")]),default:L(()=>[I(Zt,{event:e.event,"skip-media":e.skipMedia},null,8,["event","skip-media"])]),_:3},8,["event","inline","in-thread"]))}}),Xt=E(bs,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsNote/NsNote.vue"]]);var Yt={name:"MinusIcon",extends:ve},Cs=h("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),ws=[Cs];function ks(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),ws,16)}Yt.render=ks;var Jt={name:"PlusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(X())}}},_s=["clipPath"],Os=h("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1),Is=[Os],Ss=["id"],Ps=h("rect",{width:"14",height:"14",fill:"white"},null,-1),Ms=[Ps];function Ls(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[h("g",{clipPath:"url(#".concat(i.pathId,")")},Is,8,_s),h("defs",null,[h("clipPath",{id:"".concat(i.pathId)},Ms,8,Ss)])],16)}Jt.render=Ls;var $s=`
.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.p-panel-title {
    line-height: 1;
}

.p-panel-header-icon {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
`,Ns={root:function(t){var n=t.props;return["p-panel p-component",{"p-panel-toggleable":n.toggleable}]},header:"p-panel-header",title:"p-panel-title",icons:"p-panel-icons",toggler:"p-panel-header-icon p-panel-toggler p-link",toggleablecontent:"p-toggleable-content",content:"p-panel-content",footer:"p-panel-footer"},Ds=Be($s,{name:"panel",manual:!0}),As=Ds.load,Ts={name:"BasePanel",extends:pe,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},css:{classes:Ns,loadStyle:As},provide:function(){return{$parentInstance:this}}},ot={name:"Panel",extends:Ts,emits:["update:collapsed","toggle"],data:function(){return{d_collapsed:this.collapsed}},watch:{collapsed:function(t){this.d_collapsed=t}},methods:{toggle:function(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})},onKeyDown:function(t){(t.code==="Enter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}},computed:{ariaId:function(){return X()},buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps["aria-label"]?this.toggleButtonProps["aria-label"]:this.header}},components:{PlusIcon:Jt,MinusIcon:Yt},directives:{ripple:Dt}};function Ie(e){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(e)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ot(Object(n),!0).forEach(function(a){Es(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Es(e,t,n){return t=Rs(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rs(e){var t=xs(e,"string");return Ie(t)==="symbol"?t:String(t)}function xs(e,t){if(Ie(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Ie(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var js=["id"],Bs=["id","aria-label","aria-controls","aria-expanded"],Us=["id","aria-labelledby"];function zs(e,t,n,a,r,i){var o=nt("ripple");return s(),c("div",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"panel"}),[h("div",v({class:e.cx("header")},e.ptm("header")),[S(e.$slots,"header",{id:i.ariaId+"_header",class:ae(e.cx("title"))},function(){return[e.header?(s(),c("span",v({key:0,id:i.ariaId+"_header",class:e.cx("title")},e.ptm("title")),A(e.header),17,js)):_("",!0)]}),h("div",v({class:e.cx("icons")},e.ptm("icons")),[S(e.$slots,"icons"),e.toggleable?ke((s(),c("button",v({key:0,id:i.ariaId+"_header",type:"button",role:"button",class:e.cx("toggler"),"aria-label":i.buttonAriaLabel,"aria-controls":i.ariaId+"_content","aria-expanded":!r.d_collapsed,onClick:t[0]||(t[0]=function(){return i.toggle&&i.toggle.apply(i,arguments)}),onKeydown:t[1]||(t[1]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)})},It(It({},e.toggleButtonProps),e.ptm("toggler"))),[S(e.$slots,"togglericon",{collapsed:r.d_collapsed},function(){return[(s(),g(le(r.d_collapsed?"PlusIcon":"MinusIcon"),J(se(e.ptm("togglericon"))),null,16))]})],16,Bs)),[[o]]):_("",!0)],16)],16),I(it,v({name:"p-toggleable-content"},e.ptm("transition")),{default:L(function(){return[ke(h("div",v({id:i.ariaId+"_content",class:e.cx("toggleablecontent"),role:"region","aria-labelledby":i.ariaId+"_header"},e.ptm("toggleablecontent")),[h("div",v({class:e.cx("content")},e.ptm("content")),[S(e.$slots,"default")],16),e.$slots.footer?(s(),c("div",v({key:0,class:e.cx("footer")},e.ptm("footer")),[S(e.$slots,"footer")],16)):_("",!0)],16,Us),[[Sn,!r.d_collapsed]])]}),_:3},16)],16)}ot.render=zs;const Fs=T({__name:"NsShareAction",props:{event:{type:Object,required:!0}},setup(e){const t=e,n=O(()=>{try{const r=JSON.parse(t.event.content);return Pn(r)}catch{return}}),a=O(()=>{var i;const r=t.event.tags.find(o=>o[0]==="a");if(r)try{const[o,f,l]=r[1].split(":");return Et.naddrEncode({kind:parseInt(o,10),pubkey:f,identifier:l,relays:r.length>2?[...r[2]]:[]})}catch(o){console.error("unable to decoded a ref",o)}return(i=t.event.tags.find(o=>o[0]==="e"))==null?void 0:i[1]});return(r,i)=>(s(),g(w(ot),{header:"Repost"},{default:L(()=>[I(lt,{event:n.value,id:a.value,"in-thread":""},null,8,["event","id"])]),_:1}))}});const Vs=E(Fs,[["__scopeId","data-v-cd4dac36"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsShareAction/NsShareAction.vue"]]),Ks=T({__name:"NsReactAction",props:{event:{type:Object,required:!0}},setup(e){const t=e,n=O(()=>t.event.schema.object);return(a,r)=>(s(),g(w(ot),{header:`Reacted ${e.event.content}`,collapsed:"",toggleable:""},{default:L(()=>[I(lt,{id:n.value,"in-thread":""},null,8,["id"])]),_:1},8,["header"]))}});const Hs=E(Ks,[["__scopeId","data-v-268c3f08"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsReactAction/NsReactAction.vue"]]),Ws={key:0},qs=h("div",{class:"font-medium"},"Sensitive Content",-1),Qs=h("div",{class:"text-color-secondary"}," This media may contain sensitive material. Your media settings are configured to warn you when media may be sensitive. ",-1),Zs=h("div",{class:"text-primary text-sm mt-3"},"Click to view",-1),Xs=[qs,Qs,Zs],Ys=["src"],Js=T({__name:"NsMediaContent",props:{value:{type:Object,required:!0}},setup(e){const t=e,n=O(()=>t.value["@type"]==="VideoObject"),a=O(()=>t.value["@type"]==="ImageObject"),r=O(()=>t.value.contentUrl??""),i=V(!1),o=()=>{i.value=!0};return(f,l)=>e.value.isSensitiveContent&&!i.value?(s(),c("div",Ws,[h("div",{class:"text-center p-5 m-3 cursor-pointer border-1 border-300 border-round",onClick:o},Xs)])):a.value?(s(),g(w(st),{key:1,src:r.value,alt:"Image",preview:"","image-style":"width: 100%",style:{width:"100%"}},null,8,["src"])):n.value?(s(),c("video",{key:2,src:r.value,controls:"",style:{"max-width":"100%","max-height":"500px"}},null,8,Ys)):_("v-if",!0)}}),Gt=E(Js,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsMediaContent/NsMediaContent.vue"]]),Gs={class:"text-center"},eo={key:1},to=T({__name:"NsMediaObject",props:{event:{type:Object,required:!0},inline:Boolean},setup(e){const t=e,n=O(()=>{var a,r,i;return t.event?{"@type":(a=t.event)==null?void 0:a.schema["@type"],contentUrl:(r=t.event)==null?void 0:r.schema.contentUrl,isSensitiveContent:!!((i=t.event)!=null&&i.schema.contentRating)}:void 0});return(a,r)=>(s(),g(Te,{class:"ns-media-object-component",event:e.event,inline:e.inline},{header:L(()=>[h("div",Gs,[n.value?(s(),g(Gt,{key:0,value:n.value},null,8,["value"])):(s(),c("div",eo,"no content"))])]),_:1},8,["event","inline"]))}}),no=E(to,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsMediaObject/NsMediaObject.vue"]]),io={class:"text-center"},ao=T({__name:"NsSocialMediaPosting",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){const t=e,{fetch:n}=me(),a=V([]);return Tt(async()=>{const r=t.event.schema.sharedContent??[],i=r.map(f=>typeof f=="string"&&f.startsWith("nevent1")?Et.decode(f):null).filter(Boolean);if(i.length){const l=(await n([{ids:i.map(u=>u.data.id)}],{batchId:"NsNote"})).filter(u=>u.schema["@type"]==="ImageObject"||"VideoObject");a.value=l.map(u=>({"@type":u.schema["@type"],contentUrl:u.schema.contentUrl,isSensitiveContent:!!t.event.schema.contentRating||!!u.schema.contentRating}))}const o=r.map(f=>f&&typeof f=="object"&&["ImageObject","VideoObject"].includes(f["@type"])?{"@type":f["@type"],contentUrl:f.contentUrl,isSensitiveContent:!!t.event.schema.contentRating}:null).filter(Boolean);a.value=[...a.value,...o]}),(r,i)=>(s(),g(Xt,{class:"ns-social-media-posting-component",event:e.event,inline:e.inline,"skip-media":!!a.value.length,"in-thread":e.inThread},{header:L(()=>[h("div",io,[a.value.length?(s(),g(Gt,{key:0,value:a.value[0]},null,8,["value"])):_("v-if",!0)])]),_:1},8,["event","inline","skip-media","in-thread"]))}}),ro=E(ao,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsSocialMediaPosting/NsSocialMediaPosting.vue"]]),{fetchEvent:so}=me();function oo(e,{enabled:t}={enabled:!0}){return ye({queryKey:["ns-event",e],queryFn(){return so(w(e))},enabled:t})}const lo={key:1,class:"ns-event-component"},uo=T({__name:"NsEvent",props:{event:{type:Object},relays:{type:Array,default:()=>[]},id:{type:String},comments:{type:Array},reactions:{type:Array},reposts:{type:Array},skipMedia:Boolean,inline:Boolean,inThread:Boolean},setup(e){const t=e,n=Dn(()=>An(()=>import("./NsBlogPosting-abb4bfeb.js"),["assets/NsBlogPosting-abb4bfeb.js","assets/index-5d52fb4b.js","assets/index-6c0536c5.css","assets/index.esm-44f27072.js"])),{isLoading:a,data:r}=oo(t.id,{enabled:!t.event}),i=O(()=>t.event??r.value),o=O(()=>Mn(i.value)),f=O(()=>{var y;return((y=i.value)==null?void 0:y.schema["@type"])==="Person"}),l=O(()=>{var y;return((y=i.value)==null?void 0:y.schema["@type"])==="SocialMediaPosting"}),u=O(()=>Ln(i.value)),m=O(()=>$n(i.value)),b=O(()=>{var y;return((y=i.value)==null?void 0:y.schema["@type"])==="CreativeWork"}),k=O(()=>{var y;return((y=i.value)==null?void 0:y.kind)===1063}),d=O(()=>Nn(i.value));return(y,C)=>w(a)?(s(),g(Zn,{key:0,"in-thread":e.inThread},null,8,["in-thread"])):i.value?(s(),c("div",lo,[o.value?(s(),g(gs,{key:0,event:i.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):d.value?(s(),g(w(n),{key:1,event:i.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):u.value?(s(),g(Vs,{key:2,event:i.value},null,8,["event"])):m.value?(s(),g(Hs,{key:3,event:i.value},null,8,["event"])):f.value?(s(),g(Ja,{key:4,event:i.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):k.value?(s(),c(x,{key:5},[e.skipMedia?_("v-if",!0):(s(),g(no,{key:0,event:i.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"]))],64)):l.value?(s(),g(ro,{key:6,event:i.value,comments:e.comments,inline:e.inline,"in-thread":e.inThread},null,8,["event","comments","inline","in-thread"])):b.value?(s(),g(Xt,{key:7,event:i.value,comments:e.comments,inline:e.inline,"in-thread":e.inThread},null,8,["event","comments","inline","in-thread"])):(s(),g(Te,{key:8,event:i.value,inline:e.inline,"in-thread":e.inThread,comments:e.comments,reactions:e.reactions,reposts:e.reposts},{default:L(()=>[h("pre",null,A(i.value),1)]),_:1},8,["event","inline","in-thread","comments","reactions","reposts"]))])):_("v-if",!0)}}),lt=E(uo,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsEvent/NsEvent.vue"]]);export{lt as N,Zn as a,Ge as b,Gt as c,us as d,Te as e,st as s,ye as u};
