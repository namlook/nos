import{d as w,r as p,w as P,o as e,c as o,g as r,a as n,F as b,f as F,h as u,_ as D,i as f,e as y,b as g,t as k}from"./index-fa775fe6.js";import{N as U,u as E,a as x,b as N,c as j}from"./NsEvent-3dd303ee.js";const B={key:0},I={class:"flex flex-column gap-4"},S=w({__name:"NsUserFeed",props:{pubkey:{type:String,required:!0}},setup(_){const m=_,i=p(!1),s=p([]),{fetch:c}=E();return P(async()=>{i.value=!0;const a=await c([{authors:[m.pubkey],limit:20}],{batchId:"events"});s.value=a.sort((d,l)=>l.created_at-d.created_at),i.value=!1}),(a,d)=>(e(),o(b,null,[i.value?(e(),o("div",B,"...")):r("v-if",!0),n("div",I,[(e(!0),o(b,null,F(s.value,l=>(e(),u(U,{key:l.id,event:l},null,8,["event"]))),128))])],64))}}),$=D(S,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsUserFeed/NsUserFeed.vue"]]),C={class:"ns-profile-component"},L={key:0},V={key:1},q={class:"white-box mb-4"},z={key:0,class:"banner-div"},J=["src"],O={key:1,class:"banner-div bg-blue-500"},A={class:"p-4 pt-0"},G={class:"flex justify-content-between"},H={class:"mt-7"},K={class:"text-700 mb-4"},M={key:0},Q={class:"text-700 mt-2"},R=w({__name:"ProfileDisplayPage",props:{pubkey:{type:String,required:!0}},setup(_){const m=_,{get:i}=E(),s=p(),c=p(!1);P(async()=>{c.value=!0;const t=await i({kinds:[0],authors:[m.pubkey]},{batchId:"authors"});s.value=t,c.value=!1});const a=f(()=>{var t;try{return JSON.parse(((t=s.value)==null?void 0:t.content)??"{}")}catch{return}}),d=f(()=>{var t,v;return((t=s.value)==null?void 0:t.schema.name)??((v=s.value)==null?void 0:v.pubkey.slice(0,10))??""}),l=f(()=>{var t;return(t=s.value)==null?void 0:t.schema.description});return(t,v)=>{var h;return e(),o("div",C,[c.value?(e(),o("div",L,[c.value?(e(),u(y(N),{key:0,shape:"circle",size:"70px",class:"mr-3"})):r("v-if",!0),c.value?(e(),u(y(N),{key:1,width:"10rem",class:"mb-1"})):r("v-if",!0)])):s.value&&a.value?(e(),o("div",V,[n("div",q,[n("div",null,[a.value.banner?(e(),o("div",z,[n("img",{src:a.value.banner,alt:"Banner Image"},null,8,J)])):(e(),o("div",O))]),n("div",A,[a.value.picture?(e(),u(y(j),{key:0,style:{top:"210px"},class:"absolute ml-3",src:a.value.picture,"image-class":"border-circle w-6rem h-6rem border-white border-3 border-round",preview:""},null,8,["src"])):r("v-if",!0),n("div",G,[n("div",H,[r(' <span class="text-900 font-medium block text-3xl mb-2" v-html="emojify(displayName, profileEvent.tags)" /> '),g(x,{class:"text-900 font-medium block text-3xl mb-2",content:d.value,tags:s.value.tags},null,8,["content","tags"]),n("div",K,[(h=a.value)!=null&&h.nip05?(e(),o("span",M,k(a.value.nip05),1)):r("v-if",!0)])]),n("div",Q,k(s.value.pubkey.slice(0,10))+"...",1)]),l.value?(e(),u(x,{key:1,content:l.value,tags:s.value.tags},null,8,["content","tags"])):r("v-if",!0)])]),g($,{pubkey:s.value.pubkey},null,8,["pubkey"])])):r("v-if",!0)])}}});const X=D(R,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/pages/ProfileDisplayPage/ProfileDisplayPage.vue"]]);export{X as default};
