import{g as U,o as l,c,m as u,a as d,u as M,U as H,D as p,R as Z,h as J,w as _,i as B,j as g,k as C,l as v,F as m,f as x,t as S,v as G,s as V,d as K,r as P,n as L,_ as N,p as I,e as w,b as T,q as A}from"./index-d703ebb4.js";import{N as j,u as $,a as E,b as O,c as Q}from"./NsEvent-15487040.js";var W={name:"ChevronLeftIcon",extends:U},X=d("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1),Y=[X];function ee(t,e,a,n,o,r){return l(),c("svg",u({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Y,16)}W.render=ee;var R={name:"ChevronRightIcon",extends:U},te=d("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),ne=[te];function ae(t,e,a,n,o,r){return l(),c("svg",u({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),ne,16)}R.render=ae;var re=`
.p-tabview-nav-container {
    position: relative;
}

.p-tabview-scrollable .p-tabview-nav-container {
    overflow: hidden;
}

.p-tabview-nav-content {
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scrollbar-width: none;
    overscroll-behavior: contain auto;
}

.p-tabview-nav {
    display: flex;
    margin: 0;
    padding: 0;
    list-style-type: none;
    flex: 1 1 auto;
}

.p-tabview-header-action {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    position: relative;
    text-decoration: none;
    overflow: hidden;
}

.p-tabview-ink-bar {
    display: none;
    z-index: 1;
}

.p-tabview-header-action:focus {
    z-index: 1;
}

.p-tabview-title {
    line-height: 1;
    white-space: nowrap;
}

.p-tabview-nav-btn {
    position: absolute;
    top: 0;
    z-index: 2;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-tabview-nav-prev {
    left: 0;
}

.p-tabview-nav-next {
    right: 0;
}

.p-tabview-nav-content::-webkit-scrollbar {
    display: none;
}
`,ie={root:function(e){var a=e.props;return["p-tabview p-component",{"p-tabview-scrollable":a.scrollable}]},navContainer:"p-tabview-nav-container",previousButton:"p-tabview-nav-prev p-tabview-nav-btn p-link",navContent:"p-tabview-nav-content",nav:"p-tabview-nav",tab:{header:function(e){var a=e.instance,n=e.tab,o=e.index;return["p-tabview-header",a.getTabProp(n,"headerClass"),{"p-highlight":a.d_activeIndex===o,"p-disabled":a.getTabProp(n,"disabled")}]},headerAction:"p-tabview-nav-link p-tabview-header-action",headerTitle:"p-tabview-title",content:function(e){var a=e.instance,n=e.tab;return["p-tabview-panel",a.getTabProp(n,"contentClass")]}},inkbar:"p-tabview-ink-bar",nextButton:"p-tabview-nav-next p-tabview-nav-btn p-link",panelContainer:"p-tabview-panels"},se=M(re,{name:"tabview",manual:!0}),oe=se.load,le={name:"BaseTabView",extends:V,props:{activeIndex:{type:Number,default:0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},previousButtonProps:{type:null,default:null},nextButtonProps:{type:null,default:null},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0}},css:{classes:ie,loadStyle:oe},provide:function(){return{$parentInstance:this}}},z={name:"TabView",extends:le,emits:["update:activeIndex","tab-change","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex,isPrevButtonDisabled:!0,isNextButtonDisabled:!1}},watch:{"$attrs.id":function(e){this.id=e||H()},activeIndex:function(e){this.d_activeIndex=e,this.scrollInView({index:e})}},mounted:function(){this.id=this.id||H(),this.updateInkBar(),this.scrollable&&this.updateButtonState()},updated:function(){this.updateInkBar()},methods:{isTabPanel:function(e){return e.type.name==="TabPanel"},isTabActive:function(e){return this.d_activeIndex===e},getTabProp:function(e,a){return e.props?e.props[a]:void 0},getKey:function(e,a){return this.getTabProp(e,"header")||a},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,a,n){var o=this.tabs.length,r={props:e.props,parent:{props:this.$props,state:this.$data},context:{index:n,count:o,first:n===0,last:n===o-1,active:this.isTabActive(n)}};return u(this.ptm("tab.".concat(a),{tab:r}),this.ptm("tabpanel.".concat(a),{tabpanel:r}),this.ptm("tabpanel.".concat(a),r),this.ptmo(this.getTabProp(e,"pt"),a,r))},onScroll:function(e){this.scrollable&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick:function(){var e=this.$refs.content,a=p.getWidth(e),n=e.scrollLeft-a;e.scrollLeft=n<=0?0:n},onNextButtonClick:function(){var e=this.$refs.content,a=p.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+a,o=e.scrollWidth-a;e.scrollLeft=n>=o?o:n},onTabClick:function(e,a,n){this.changeActiveIndex(e,a,n),this.$emit("tab-click",{originalEvent:e,index:n})},onTabKeyDown:function(e,a,n){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onTabEnterKey(e,a,n);break}},onTabArrowRightKey:function(e){var a=this.findNextHeaderAction(e.target.parentElement);a?this.changeFocusedTab(e,a):this.onTabHomeKey(e),e.preventDefault()},onTabArrowLeftKey:function(e){var a=this.findPrevHeaderAction(e.target.parentElement);a?this.changeFocusedTab(e,a):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var a=this.findFirstHeaderAction();this.changeFocusedTab(e,a),e.preventDefault()},onTabEndKey:function(e){var a=this.findLastHeaderAction();this.changeFocusedTab(e,a),e.preventDefault()},onPageDownKey:function(e){this.scrollInView({index:this.$refs.nav.children.length-2}),e.preventDefault()},onPageUpKey:function(e){this.scrollInView({index:0}),e.preventDefault()},onTabEnterKey:function(e,a,n){this.changeActiveIndex(e,a,n),e.preventDefault()},findNextHeaderAction:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a?e:e.nextElementSibling;return n?p.getAttribute(n,"data-p-disabled")||p.getAttribute(n,"data-pc-section")==="inkbar"?this.findNextHeaderAction(n):p.findSingle(n,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a?e:e.previousElementSibling;return n?p.getAttribute(n,"data-p-disabled")||p.getAttribute(n,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(n):p.findSingle(n,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$refs.nav.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$refs.nav.lastElementChild,!0)},changeActiveIndex:function(e,a,n){!this.getTabProp(a,"disabled")&&this.d_activeIndex!==n&&(this.d_activeIndex=n,this.$emit("update:activeIndex",n),this.$emit("tab-change",{originalEvent:e,index:n}),this.scrollInView({index:n}))},changeFocusedTab:function(e,a){if(a&&(p.focus(a),this.scrollInView({element:a}),this.selectOnFocus)){var n=parseInt(a.parentElement.dataset.index,10),o=this.tabs[n];this.changeActiveIndex(e,o,n)}},scrollInView:function(e){var a=e.element,n=e.index,o=n===void 0?-1:n,r=a||this.$refs.nav.children[o];r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest"})},updateInkBar:function(){var e=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=p.getWidth(e)+"px",this.$refs.inkbar.style.left=p.getOffset(e).left-p.getOffset(this.$refs.nav).left+"px"},updateButtonState:function(){var e=this.$refs.content,a=e.scrollLeft,n=e.scrollWidth,o=p.getWidth(e);this.isPrevButtonDisabled=a===0,this.isNextButtonDisabled=parseInt(a)===n-o},getVisibleButtonWidths:function(){var e=this.$refs,a=e.prevBtn,n=e.nextBtn;return[a,n].reduce(function(o,r){return r?o+p.getWidth(r):o},0)}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(a,n){return e.isTabPanel(n)?a.push(n):n.children&&n.children instanceof Array&&n.children.forEach(function(o){e.isTabPanel(o)&&a.push(o)}),a},[])},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0}},directives:{ripple:Z},components:{ChevronLeftIcon:W,ChevronRightIcon:R}};function k(t){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(t)}function F(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?F(Object(a),!0).forEach(function(n){ce(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function ce(t,e,a){return e=ue(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function ue(t){var e=de(t,"string");return k(e)==="symbol"?e:String(e)}function de(t,e){if(k(t)!=="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e||"default");if(k(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pe=["tabindex","aria-label"],ve=["data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],he=["id","tabindex","aria-disabled","aria-selected","aria-controls","onClick","onKeydown"],fe=["tabindex","aria-label"],be=["id","aria-labelledby","data-pc-index","data-p-active"];function ge(t,e,a,n,o,r){var h=J("ripple");return l(),c("div",u({class:t.cx("root")},t.ptm("root"),{"data-pc-name":"tabview"}),[d("div",u({class:t.cx("navContainer")},t.ptm("navContainer")),[t.scrollable&&!o.isPrevButtonDisabled?_((l(),c("button",u({key:0,ref:"prevBtn",type:"button",class:t.cx("previousButton"),tabindex:t.tabindex,"aria-label":r.prevButtonAriaLabel,onClick:e[0]||(e[0]=function(){return r.onPrevButtonClick&&r.onPrevButtonClick.apply(r,arguments)})},b(b({},t.previousButtonProps),t.ptm("previousButton")),{"data-pc-group-section":"navbutton"}),[B(t.$slots,"previcon",{},function(){return[(l(),g(C(t.prevIcon?"span":"ChevronLeftIcon"),u({"aria-hidden":"true",class:t.prevIcon},t.ptm("previousIcon")),null,16,["class"]))]})],16,pe)),[[h]]):v("",!0),d("div",u({ref:"content",class:t.cx("navContent"),onScroll:e[1]||(e[1]=function(){return r.onScroll&&r.onScroll.apply(r,arguments)})},t.ptm("navContent")),[d("ul",u({ref:"nav",class:t.cx("nav"),role:"tablist"},t.ptm("nav")),[(l(!0),c(m,null,x(r.tabs,function(s,i){return l(),c("li",u({key:r.getKey(s,i),style:r.getTabProp(s,"headerStyle"),class:t.cx("tab.header",{tab:s,index:i}),role:"presentation"},b(b(b({},r.getTabProp(s,"headerProps")),r.getTabPT(s,"root",i)),r.getTabPT(s,"header",i)),{"data-pc-name":"tabpanel","data-p-highlight":o.d_activeIndex===i,"data-p-disabled":r.getTabProp(s,"disabled"),"data-pc-index":i,"data-p-active":o.d_activeIndex===i}),[_((l(),c("a",u({id:r.getTabHeaderActionId(i),class:t.cx("tab.headerAction"),tabindex:r.getTabProp(s,"disabled")||!r.isTabActive(i)?-1:t.tabindex,role:"tab","aria-disabled":r.getTabProp(s,"disabled"),"aria-selected":r.isTabActive(i),"aria-controls":r.getTabContentId(i),onClick:function(f){return r.onTabClick(f,s,i)},onKeydown:function(f){return r.onTabKeyDown(f,s,i)}},b(b({},r.getTabProp(s,"headerActionProps")),r.getTabPT(s,"headerAction",i))),[s.props&&s.props.header?(l(),c("span",u({key:0,class:t.cx("tab.headerTitle")},r.getTabPT(s,"headerTitle",i)),S(s.props.header),17)):v("",!0),s.children&&s.children.header?(l(),g(C(s.children.header),{key:1})):v("",!0)],16,he)),[[h]])],16,ve)}),128)),d("li",u({ref:"inkbar",class:t.cx("inkbar"),role:"presentation","aria-hidden":"true"},t.ptm("inkbar")),null,16)],16)],16),t.scrollable&&!o.isNextButtonDisabled?_((l(),c("button",u({key:1,ref:"nextBtn",type:"button",class:t.cx("nextButton"),tabindex:t.tabindex,"aria-label":r.nextButtonAriaLabel,onClick:e[2]||(e[2]=function(){return r.onNextButtonClick&&r.onNextButtonClick.apply(r,arguments)})},b(b({},t.nextButtonProps),t.ptm("nextButton")),{"data-pc-group-section":"navbutton"}),[B(t.$slots,"nexticon",{},function(){return[(l(),g(C(t.nextIcon?"span":"ChevronRightIcon"),u({"aria-hidden":"true",class:t.nextIcon},t.ptm("nextIcon")),null,16,["class"]))]})],16,fe)),[[h]]):v("",!0)],16),d("div",u({class:t.cx("panelContainer")},t.ptm("panelContainer")),[(l(!0),c(m,null,x(r.tabs,function(s,i){return l(),c(m,{key:r.getKey(s,i)},[!t.lazy||r.isTabActive(i)?_((l(),c("div",u({key:0,id:r.getTabContentId(i),style:r.getTabProp(s,"contentStyle"),class:t.cx("tab.content",{tab:s}),role:"tabpanel","aria-labelledby":r.getTabHeaderActionId(i)},b(b(b({},r.getTabProp(s,"contentProps")),r.getTabPT(s,"root",i)),r.getTabPT(s,"content",i)),{"data-pc-name":"tabpanel","data-pc-index":i,"data-p-active":o.d_activeIndex===i}),[(l(),g(C(s)))],16,be)),[[G,t.lazy?!0:r.isTabActive(i)]]):v("",!0)],64)}),128))],16)],16)}z.render=ge;var ye={name:"BaseTabPanel",extends:V,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean}},D={name:"TabPanel",extends:ye};function me(t,e,a,n,o,r){return B(t.$slots,"default")}D.render=me;const we={key:0},Te={class:"ns-user-activities flex flex-column gap-4"},Pe=K({__name:"NsUserFeed",props:{pubkey:{type:String,required:!0}},setup(t){const e=t,a=P(!1),n=P([]),{get:o,fetch:r}=$();return L(async()=>{a.value=!0;const h=await o({kinds:[3],authors:[e.pubkey]}),s=h==null?void 0:h.tags.filter(i=>i[0]==="p");if(s!=null&&s.length){const i=s.map(f=>f[1]).filter(f=>f!==e.pubkey),y=await r([{authors:i,limit:20}],{batchId:"events"});n.value=y.sort((f,q)=>q.created_at-f.created_at)}a.value=!1}),(h,s)=>(l(),c(m,null,[a.value?(l(),c("div",we,"...")):v("v-if",!0),d("div",Te,[(l(!0),c(m,null,x(n.value,i=>(l(),g(j,{key:i.id,event:i},null,8,["event"]))),128))])],64))}}),ke=N(Pe,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsUserFeed/NsUserFeed.vue"]]),_e={key:0},Ce={class:"flex flex-column gap-4"},xe=K({__name:"NsUserActivities",props:{pubkey:{type:String,required:!0}},setup(t){const e=t,a=P(!1),n=P([]),{fetch:o}=$();return L(async()=>{a.value=!0;const r=await o([{authors:[e.pubkey],limit:20}],{batchId:"events"});n.value=r.sort((h,s)=>s.created_at-h.created_at),a.value=!1}),(r,h)=>(l(),c(m,null,[a.value?(l(),c("div",_e,"...")):v("v-if",!0),d("div",Ce,[(l(!0),c(m,null,x(n.value,s=>(l(),g(j,{key:s.id,event:s},null,8,["event"]))),128))])],64))}}),Ie=N(xe,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsUserActivities/NsUserActivities.vue"]]),Ae={class:"ns-profile-component"},Be={key:0},Se={key:1},De={class:"white-box mb-4"},Ke={key:0,class:"banner-div"},Le=["src"],Ne={key:1,class:"banner-div bg-blue-500"},$e={class:"p-4 pt-0"},He={class:"flex justify-content-between"},Ee={class:"mt-7"},Oe={class:"text-700 mb-4"},Fe={key:0},Ue={class:"text-700 mt-2"},Ve=K({__name:"ProfileDisplayPage",props:{pubkey:{type:String,required:!0}},setup(t){const e=t,{get:a}=$(),n=P(),o=P(!1);L(async()=>{o.value=!0;const i=await a({kinds:[0],authors:[e.pubkey]},{batchId:"authors"});n.value=i,o.value=!1});const r=I(()=>{var i;try{return JSON.parse(((i=n.value)==null?void 0:i.content)??"{}")}catch{return}}),h=I(()=>{var i,y;return((i=n.value)==null?void 0:i.schema.name)??((y=n.value)==null?void 0:y.pubkey.slice(0,10))??""}),s=I(()=>{var i;return(i=n.value)==null?void 0:i.schema.description});return(i,y)=>{var f;return l(),c("div",Ae,[o.value?(l(),c("div",Be,[o.value?(l(),g(w(O),{key:0,shape:"circle",size:"70px",class:"mr-3"})):v("v-if",!0),o.value?(l(),g(w(O),{key:1,width:"10rem",class:"mb-1"})):v("v-if",!0)])):n.value&&r.value?(l(),c("div",Se,[d("div",De,[d("div",null,[r.value.banner?(l(),c("div",Ke,[d("img",{src:r.value.banner,alt:"Banner Image"},null,8,Le)])):(l(),c("div",Ne))]),d("div",$e,[r.value.picture?(l(),g(w(Q),{key:0,style:{top:"210px"},class:"absolute ml-3",src:r.value.picture,"image-class":"border-circle w-6rem h-6rem border-white border-3 border-round",preview:""},null,8,["src"])):v("v-if",!0),d("div",He,[d("div",Ee,[v(' <span class="text-900 font-medium block text-3xl mb-2" v-html="emojify(displayName, profileEvent.tags)" /> '),T(E,{class:"text-900 font-medium block text-3xl mb-2",content:h.value,tags:n.value.tags},null,8,["content","tags"]),d("div",Oe,[(f=r.value)!=null&&f.nip05?(l(),c("span",Fe,S(r.value.nip05),1)):v("v-if",!0)])]),d("div",Ue,S(n.value.pubkey.slice(0,10))+"...",1)]),s.value?(l(),g(E,{key:1,content:s.value,tags:n.value.tags},null,8,["content","tags"])):v("v-if",!0)])]),T(w(z),null,{default:A(()=>[T(w(D),{header:"Activities"},{default:A(()=>[T(Ie,{pubkey:n.value.pubkey},null,8,["pubkey"])]),_:1}),T(w(D),{header:"Feed"},{default:A(()=>[T(ke,{pubkey:n.value.pubkey},null,8,["pubkey"])]),_:1})]),_:1})])):v("v-if",!0)])}}});const Re=N(Ve,[["__scopeId","data-v-c1dd4fe2"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/pages/ProfileDisplayPage/ProfileDisplayPage.vue"]]);export{Re as default};
