import{z as X,o,c as s,x as f,v as I,J as C,b as l,d as L,e as k,f as y,_ as N,H as h,w as O,M as K,q as b,ah as Be,F as A,g as te,V as j,K as $,r as M,af as Y,ag as ce,h as J,l as F,G as E,m as ot,k as st,ai as lt,aj as Re,ak as Ce,al as we,B as de,U as V,Z as q,D as x,C as ut,E as ze,am as ct,R as Ve,O as ke,P as ne,I as Z,T as _e,S as He,u as dt,s as ve,A as Q,N as mt,an as pt,ao as U,ap as W,Q as ft,aq as vt,ar as ht,as as gt,at as yt,au as bt,av as Ct,aw as wt,ax as kt}from"./index-4ab972bd.js";import{a as R,O as _t,s as It}from"./index.esm-75728879.js";import{u as Ot}from"./use-settings-7f0949c9.js";var St={root:"p-card p-component",header:"p-card-header",body:"p-card-body",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},Pt={name:"BaseCard",extends:X,css:{classes:St}},Ie={name:"Card",extends:Pt};function $t(e,t,n,i,r,a){return o(),s("div",f({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"card"}),[e.$slots.header?(o(),s("div",f({key:0,class:e.cx("header")},e.ptm("header")),[I(e.$slots,"header")],16)):C("",!0),l("div",f({class:e.cx("body")},e.ptm("body")),[e.$slots.title?(o(),s("div",f({key:0,class:e.cx("title")},e.ptm("title")),[I(e.$slots,"title")],16)):C("",!0),e.$slots.subtitle?(o(),s("div",f({key:1,class:e.cx("subtitle")},e.ptm("subtitle")),[I(e.$slots,"subtitle")],16)):C("",!0),l("div",f({class:e.cx("content")},e.ptm("content")),[I(e.$slots,"content")],16),e.$slots.footer?(o(),s("div",f({key:2,class:e.cx("footer")},e.ptm("footer")),[I(e.$slots,"footer")],16)):C("",!0)],16)],16)}Ie.render=$t;const Mt={class:"ns-author-skeleton-component flex gap-2"},Lt=L({__name:"NsAuthorSkeleton",setup(e){return(t,n)=>(o(),s("div",Mt,[k(y(R),{shape:"circle",size:"3rem"}),l("div",null,[k(y(R),{width:"10rem",height:"1rem",class:"mb-3 mt-1"}),k(y(R),{width:"5rem",height:".5rem"})])]))}}),Ue=N(Lt,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsAuthorSkeleton/NsAuthorSkeleton.vue"]]),Nt={class:"p-3"},Dt={class:"flex justify-content-between"},xt=L({__name:"NsNoteSkeleton",props:{inThread:Boolean},setup(e){return(t,n)=>(o(),h(y(Ie),{class:K({"white-box":!e.inThread})},{content:O(()=>[l("div",Nt,[l("div",Dt,[k(Ue),k(y(R),{height:".5rem",width:"5rem"})]),k(y(R),{width:"100%",height:"10rem",class:"mt-3"})])]),_:1},8,["class"]))}}),At=N(xt,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsNoteSkeleton/NsNoteSkeleton.vue"]]),Tt=["src","alt"],Et=L({__name:"NsEmojiedContent",props:{content:{type:String,required:!0},tags:{type:Array,required:!0}},setup(e){const t=e,n=b(()=>Be({content:t.content??"",tags:t.tags})),i=r=>r.type==="emoji";return(r,a)=>(o(),s("span",null,[(o(!0),s(A,null,te(n.value,(u,d)=>(o(),s(A,{key:d},[i(u)?(o(),s("img",{key:0,src:u.value.url,alt:u.value.name,style:{height:"20px"}},null,8,Tt)):(o(),s(A,{key:1},[j($(u.raw),1)],64))],64))),128))]))}}),he=N(Et,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsEmojiedContent/NsEmojiedContent.vue"]]),{fetchAuthor:jt}=J();function Fe(e,{enabled:t}){const n=M(!0),i=M();return Y(async()=>{if(t.value===!0){const r=ce(e.value);i.value=await jt(r),n.value=!1}}),{isLoading:n,author:i}}const Bt={key:0},Rt={key:1},zt={key:1,class:"cursor-pointer"},Vt={key:1,class:"flex align-items-start mr-0 lg:mr-5"},Ht=["src"],Ut={class:"text-700 text-xs"},Ft=L({__name:"NsAuthor",props:{pubkey:{type:String,required:!0},inline:Boolean,loading:Boolean},setup(e){const t=e,n=b(()=>t.pubkey),{isLoading:i,author:r}=Fe(n,{enabled:M(!0)}),a=b(()=>{var v;try{return JSON.parse(((v=r.value)==null?void 0:v.content)??"{}")}catch(w){console.error(w);return}}),u=b(()=>{var v;return(v=r.value)==null?void 0:v.schema}),d=b(()=>{var v;return((v=u.value)==null?void 0:v.name)||t.pubkey.slice(0,10)}),c=b(()=>{var v;return((v=a.value)==null?void 0:v.nip05)||t.pubkey.slice(0,10)}),m=b(()=>({name:F.profile.display,params:{pubkey:t.pubkey,feedType:"activity"}}));return(v,w)=>{const S=E("router-link");return o(),h(S,{to:m.value},{default:O(()=>{var p,_;return[e.inline?(o(),s("span",Bt,[y(i)?(o(),h(y(R),{key:0,height:"1rem",width:"10rem",class:"inline-block"})):(o(),h(S,{key:1,to:m.value},{default:O(()=>[y(r)?(o(),h(he,{key:0,content:`@${d.value}`,tags:y(r).tags},null,8,["content","tags"])):(o(),s("span",Rt,"@"+$(d.value),1))]),_:1},8,["to"]))])):(o(),s("div",zt,[y(i)?(o(),h(Ue,{key:0})):C("v-if",!0),y(r)?(o(),s("div",Vt,[(p=u.value)!=null&&p.image?(o(),s("img",{key:0,src:(_=u.value)==null?void 0:_.image,class:"border-circle mr-3 w-3rem h-3rem"},null,8,Ht)):C("v-if",!0),l("div",null,[k(he,{class:"text-900 font-medium block mb-2",content:d.value,tags:y(r).tags},null,8,["content","tags"]),l("div",Ut,$(c.value),1)])])):C("v-if",!0)]))]}),_:1},8,["to"])}}}),me=N(Ft,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsAuthor/NsAuthor.vue"]]),Ke=e=>(Ce("data-v-98455f12"),e=e(),we(),e),Kt={class:"flex align-items-center gap-2 text-primary"},Wt=Ke(()=>l("i",{class:"pi pi-chevron-down"},null,-1)),qt={class:"flex align-items-center gap-2 text-primary"},Zt=Ke(()=>l("i",{class:"pi pi-chevron-up"},null,-1)),Xt=40,Yt=20,Jt=L({__name:"NsCollapsible",props:ot({maxHeight:{type:Number,default:110},openLabel:{type:String,default:"more"},closeLabel:{type:String,default:"hide"}},{modelValue:{type:Boolean,default:()=>!0,local:!0}}),emits:["update:modelValue"],setup(e){const t=e,n=st(e,"modelValue",{local:!0}),i=M(null),r=M(!0),a=M(0);lt(i,d=>{const c=d[0],{height:m}=c.contentRect;r.value=m>t.maxHeight,a.value=m+Xt});const u=b(()=>r.value?n.value?`${t.maxHeight+Yt+10}px`:`${a.value+10}px`:"auto");return(d,c)=>(o(),s("div",{class:K(["ns-collapsible-component",{"pb-3":r.value}]),style:Re({height:u.value})},[l("div",{ref_key:"slotRef",ref:i},[I(d.$slots,"default",{},void 0,!0)],512),r.value&&n.value?(o(),s("div",{key:0,class:"ns-collapsible-gradient-overlay ns-collapsible-gradient-overlay-closed align-items-end",onClick:c[0]||(c[0]=m=>n.value=!n.value),onKeydown:c[1]||(c[1]=m=>n.value=!n.value)},[l("div",Kt,[Wt,j(" "+$(e.openLabel),1)])],32)):C("v-if",!0),r.value&&!n.value?(o(),s("div",{key:1,class:"ns-collapsible-gradient-overlay ns-collapsible-gradient-overlay-open align-items-end",onClick:c[2]||(c[2]=m=>n.value=!n.value),onKeydown:c[3]||(c[3]=m=>n.value=!n.value)},[l("div",qt,[Zt,j(" "+$(e.closeLabel),1)])],32)):C("v-if",!0)],6))}});const Qt=N(Jt,[["__scopeId","data-v-98455f12"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsCollapsible/NsCollapsible.vue"]]);var Gt=`
.p-menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}

.p-menu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}

.p-menu .p-menuitem-text {
    line-height: 1;
}
`,en={root:function(t){var n=t.instance,i=t.props;return["p-menu p-component",{"p-menu-overlay":i.popup,"p-input-filled":n.$primevue.config.inputStyle==="filled","p-ripple-disabled":n.$primevue.config.ripple===!1}]},start:"p-menu-start",menu:"p-menu-list p-reset",submenuHeader:"p-submenu-header",separator:"p-menuitem-separator",end:"p-menu-end",menuitem:function(t){var n=t.instance;return["p-menuitem",{"p-focus":n.id===n.focusedOptionId,"p-disabled":n.disabled()}]},content:"p-menuitem-content",action:function(t){var n=t.props,i=t.isActive,r=t.isExactActive;return["p-menuitem-link",{"router-link-active":i,"router-link-active-exact":n.exact&&r}]},icon:"p-menuitem-icon",label:"p-menuitem-text"},tn=de(Gt,{name:"menu",manual:!0}),nn=tn.load,an={name:"BaseMenu",extends:X,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},css:{classes:en,loadStyle:nn},provide:function(){return{$parentInstance:this}}},We={name:"Menuitem",hostName:"Menu",extends:X,inheritAttrs:!1,emits:["item-click"],props:{item:null,templates:null,exact:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(t,n){return t&&t.item?ct.getItemValue(t.item[n]):void 0},getPTOptions:function(t){return this.ptm(t,{context:{item:this.item,index:this.index,focused:this.isItemFocused()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemActionClick:function(t,n){n&&n(t)},onItemClick:function(t){var n=this.getItemProp(this.item,"command");n&&n({originalEvent:t,item:this.item.item}),this.$emit("item-click",{originalEvent:t,item:this.item,id:this.id})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label}},directives:{ripple:Ve}},rn=["id","aria-label","aria-disabled","data-p-focused","data-p-disabled"],on=["href","onClick"],sn=["href","target"];function ln(e,t,n,i,r,a){var u=E("router-link"),d=ke("ripple");return a.visible()?(o(),s("li",f({key:0,id:n.id,class:[e.cx("menuitem"),n.item.class],role:"menuitem",style:n.item.style,"aria-label":a.label(),"aria-disabled":a.disabled()},a.getPTOptions("menuitem"),{"data-p-focused":a.isItemFocused(),"data-p-disabled":a.disabled()||!1}),[l("div",f({class:e.cx("content"),onClick:t[0]||(t[0]=function(c){return a.onItemClick(c)})},a.getPTOptions("content")),[n.templates.item?(o(),h(Z(n.templates.item),{key:1,item:n.item},null,8,["item"])):(o(),s(A,{key:0},[n.item.to&&!a.disabled()?(o(),h(u,{key:0,to:n.item.to,custom:""},{default:O(function(c){var m=c.navigate,v=c.href,w=c.isActive,S=c.isExactActive;return[ne((o(),s("a",f({href:v,class:e.cx("action",{isActive:w,isExactActive:S}),tabindex:"-1","aria-hidden":"true",onClick:function(_){return a.onItemActionClick(_,m)}},a.getPTOptions("action")),[n.templates.itemicon?(o(),h(Z(n.templates.itemicon),{key:0,item:n.item,class:K([e.cx("icon"),n.item.icon])},null,8,["item","class"])):n.item.icon?(o(),s("span",f({key:1,class:[e.cx("icon"),n.item.icon]},a.getPTOptions("icon")),null,16)):C("",!0),l("span",f({class:e.cx("label")},a.getPTOptions("label")),$(a.label()),17)],16,on)),[[d]])]}),_:1},8,["to"])):ne((o(),s("a",f({key:1,href:n.item.url,class:e.cx("action"),target:n.item.target,tabindex:"-1","aria-hidden":"true"},a.getPTOptions("action")),[n.templates.itemicon?(o(),h(Z(n.templates.itemicon),{key:0,item:n.item,class:K([e.cx("icon"),n.item.icon])},null,8,["item","class"])):n.item.icon?(o(),s("span",f({key:1,class:[e.cx("icon"),n.item.icon]},a.getPTOptions("icon")),null,16)):C("",!0),l("span",f({class:e.cx("label")},a.getPTOptions("label")),$(a.label()),17)],16,sn)),[[d]])],64))],16)],16,rn)):C("",!0)}We.render=ln;function Me(e){return mn(e)||dn(e)||cn(e)||un()}function un(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(e,t){if(e){if(typeof e=="string")return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}}function dn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mn(e){if(Array.isArray(e))return ge(e)}function ge(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ye={name:"Menu",extends:an,inheritAttrs:!1,emits:["show","hide","focus","blur"],data:function(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(t){this.id=t||V()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.id=this.id||V(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&q.clear(this.container),this.container=null},methods:{itemClick:function(t){var n=t.item;this.disabled(n)||(n.command&&n.command(t),n.to&&t.navigate&&t.navigate(t.originalEvent),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==t.id&&(this.focusedOptionIndex=t.id))},onListFocus:function(t){this.focused=!0,this.popup||(this.selectedOptionIndex!==-1?(this.changeFocusedOptionIndex(this.selectedOptionIndex),this.selectedOptionIndex=-1):this.changeFocusedOptionIndex(0)),this.$emit("focus",t)},onListBlur:function(t){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",t)},onListKeyDown:function(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":this.onEnterKey(t);break;case"Space":this.onSpaceKey(t);break;case"Escape":this.popup&&(x.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey:function(t){var n=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()},onArrowUpKey:function(t){if(t.altKey&&this.popup)x.focus(this.target),this.hide(),t.preventDefault();else{var n=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()}},onHomeKey:function(t){this.changeFocusedOptionIndex(0),t.preventDefault()},onEndKey:function(t){this.changeFocusedOptionIndex(x.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),t.preventDefault()},onEnterKey:function(t){var n=x.findSingle(this.list,'li[id="'.concat("".concat(this.focusedOptionIndex),'"]')),i=n&&x.findSingle(n,'a[data-pc-section="action"]');this.popup&&x.focus(this.target),i?i.click():n&&n.click(),t.preventDefault()},onSpaceKey:function(t){this.onEnterKey(t)},findNextOptionIndex:function(t){var n=x.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=Me(n).findIndex(function(r){return r.id===t});return i>-1?i+1:0},findPrevOptionIndex:function(t){var n=x.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=Me(n).findIndex(function(r){return r.id===t});return i>-1?i-1:0},changeFocusedOptionIndex:function(t){var n=x.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=t>=n.length?n.length-1:t<0?0:t;i>-1&&(this.focusedOptionIndex=n[i].getAttribute("id"))},toggle:function(t){this.overlayVisible?this.hide():this.show(t)},show:function(t){this.overlayVisible=!0,this.target=t.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(t){x.addStyles(t,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&q.set("menu",t,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&(x.focus(this.list),this.changeFocusedOptionIndex(0)),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave:function(t){this.autoZIndex&&q.clear(t)},alignOverlay:function(){x.absolutePosition(this.container,this.target),this.container.style.minWidth=x.getOuterWidth(this.target)+"px"},bindOutsideClickListener:function(){var t=this;this.outsideClickListener||(this.outsideClickListener=function(n){var i=t.container&&!t.container.contains(n.target),r=!(t.target&&(t.target===n.target||t.target.contains(n.target)));t.overlayVisible&&i&&r?t.hide():!t.popup&&i&&r&&(t.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new ut(this.target,function(){t.overlayVisible&&t.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&!x.isTouchDevice()&&t.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible:function(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled:function(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label:function(t){return typeof t.label=="function"?t.label():t.label},onOverlayClick:function(t){_t.emit("overlay-click",{originalEvent:t,target:this.target})},containerRef:function(t){this.container=t},listRef:function(t){this.list=t}},computed:{focusedOptionId:function(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:We,Portal:ze}};function ae(e){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(e)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Le(Object(n),!0).forEach(function(i){pn(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pn(e,t,n){return t=fn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e){var t=vn(e,"string");return ae(t)==="symbol"?t:String(t)}function vn(e,t){if(ae(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ae(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hn=["id"],gn=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],yn=["id"];function bn(e,t,n,i,r,a){var u=E("PVMenuitem"),d=E("Portal");return o(),h(d,{appendTo:e.appendTo,disabled:!e.popup},{default:O(function(){return[k(_e,f({name:"p-connected-overlay",onEnter:a.onEnter,onLeave:a.onLeave,onAfterLeave:a.onAfterLeave},e.ptm("transition")),{default:O(function(){return[!e.popup||r.overlayVisible?(o(),s("div",f({key:0,ref:a.containerRef,id:r.id,class:e.cx("root"),onClick:t[3]||(t[3]=function(){return a.onOverlayClick&&a.onOverlayClick.apply(a,arguments)})},Ne(Ne({},e.$attrs),e.ptm("root")),{"data-pc-name":"menu"}),[e.$slots.start?(o(),s("div",f({key:0,class:e.cx("start")},e.ptm("start")),[I(e.$slots,"start")],16)):C("",!0),l("ul",f({ref:a.listRef,id:r.id+"_list",class:e.cx("menu"),role:"menu",tabindex:e.tabindex,"aria-activedescendant":r.focused?a.focusedOptionId:void 0,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,onFocus:t[0]||(t[0]=function(){return a.onListFocus&&a.onListFocus.apply(a,arguments)}),onBlur:t[1]||(t[1]=function(){return a.onListBlur&&a.onListBlur.apply(a,arguments)}),onKeydown:t[2]||(t[2]=function(){return a.onListKeyDown&&a.onListKeyDown.apply(a,arguments)})},e.ptm("menu")),[(o(!0),s(A,null,te(e.model,function(c,m){return o(),s(A,{key:a.label(c)+m.toString()},[c.items&&a.visible(c)&&!c.separator?(o(),s(A,{key:0},[c.items?(o(),s("li",f({key:0,id:r.id+"_"+m,class:e.cx("submenuHeader"),role:"none"},e.ptm("submenuHeader")),[I(e.$slots,"item",{item:c},function(){return[j($(a.label(c)),1)]})],16,yn)):C("",!0),(o(!0),s(A,null,te(c.items,function(v,w){return o(),s(A,{key:v.label+m+"_"+w},[a.visible(v)&&!v.separator?(o(),h(u,{key:0,id:r.id+"_"+m+"_"+w,item:v,templates:e.$slots,exact:e.exact,focusedOptionId:a.focusedOptionId,onItemClick:a.itemClick,pt:e.pt},null,8,["id","item","templates","exact","focusedOptionId","onItemClick","pt"])):a.visible(v)&&v.separator?(o(),s("li",f({key:"separator"+m+w,class:[e.cx("separator"),c.class],style:v.style,role:"separator"},e.ptm("separator")),null,16)):C("",!0)],64)}),128))],64)):a.visible(c)&&c.separator?(o(),s("li",f({key:"separator"+m.toString(),class:[e.cx("separator"),c.class],style:c.style,role:"separator"},e.ptm("separator")),null,16)):(o(),h(u,{key:a.label(c)+m.toString(),id:r.id+"_"+m,item:c,index:m,templates:e.$slots,exact:e.exact,focusedOptionId:a.focusedOptionId,onItemClick:a.itemClick,pt:e.pt},null,8,["id","item","index","templates","exact","focusedOptionId","onItemClick","pt"]))],64)}),128))],16,gn),e.$slots.end?(o(),s("div",f({key:1,class:e.cx("end")},e.ptm("end")),[I(e.$slots,"end")],16)):C("",!0)],16,hn)):C("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])}ye.render=bn;function be(e){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(e)}function B(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function T(e){B(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||be(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Cn={};function wn(){return Cn}function De(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function le(e,t){B(2,arguments);var n=T(e),i=T(t),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}function kn(e,t){B(2,arguments);var n=T(e),i=T(t),r=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return r*12+a}function _n(e,t){return B(2,arguments),T(e).getTime()-T(t).getTime()}var xe={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},In="trunc";function On(e){return e?xe[e]:xe[In]}function Sn(e){B(1,arguments);var t=T(e);return t.setHours(23,59,59,999),t}function Pn(e){B(1,arguments);var t=T(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function $n(e){B(1,arguments);var t=T(e);return Sn(t).getTime()===Pn(t).getTime()}function Mn(e,t){B(2,arguments);var n=T(e),i=T(t),r=le(n,i),a=Math.abs(kn(n,i)),u;if(a<1)u=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*a);var d=le(n,i)===-r;$n(T(e))&&a===1&&le(e,i)===1&&(d=!1),u=r*(a-Number(d))}return u===0?0:u}function Ln(e,t,n){B(2,arguments);var i=_n(e,t)/1e3;return On(n==null?void 0:n.roundingMethod)(i)}var Nn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dn=function(t,n,i){var r,a=Nn[t];return typeof a=="string"?r=a:n===1?r=a.one:r=a.other.replace("{{count}}",n.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};const xn=Dn;function pe(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,i=e.formats[n]||e.formats[e.defaultWidth];return i}}var An={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},En={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jn={date:pe({formats:An,defaultWidth:"full"}),time:pe({formats:Tn,defaultWidth:"full"}),dateTime:pe({formats:En,defaultWidth:"full"})};const Bn=jn;var Rn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zn=function(t,n,i,r){return Rn[t]};const Vn=zn;function G(e){return function(t,n){var i=n!=null&&n.context?String(n.context):"standalone",r;if(i==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):a;r=e.formattingValues[u]||e.formattingValues[a]}else{var d=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[c]||e.values[d]}var m=e.argumentCallback?e.argumentCallback(t):t;return r[m]}}var Hn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Un={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zn=function(t,n){var i=Number(t),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Xn={ordinalNumber:Zn,era:G({values:Hn,defaultWidth:"wide"}),quarter:G({values:Un,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:G({values:Fn,defaultWidth:"wide"}),day:G({values:Kn,defaultWidth:"wide"}),dayPeriod:G({values:Wn,defaultWidth:"wide",formattingValues:qn,defaultFormattingWidth:"wide"})};const Yn=Xn;function ee(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;var u=a[0],d=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(d)?Qn(d,function(w){return w.test(u)}):Jn(d,function(w){return w.test(u)}),m;m=e.valueCallback?e.valueCallback(c):c,m=n.valueCallback?n.valueCallback(m):m;var v=t.slice(u.length);return{value:m,rest:v}}}function Jn(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Qn(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Gn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.match(e.matchPattern);if(!i)return null;var r=i[0],a=t.match(e.parsePattern);if(!a)return null;var u=e.valueCallback?e.valueCallback(a[0]):a[0];u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(r.length);return{value:u,rest:d}}}var ea=/^(\d+)(th|st|nd|rd)?/i,ta=/\d+/i,na={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aa={any:[/^b/i,/^(a|c)/i]},ia={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ra={any:[/1/i,/2/i,/3/i,/4/i]},oa={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},la={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ua={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ca={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},da={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ma={ordinalNumber:Gn({matchPattern:ea,parsePattern:ta,valueCallback:function(t){return parseInt(t,10)}}),era:ee({matchPatterns:na,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any"}),quarter:ee({matchPatterns:ia,defaultMatchWidth:"wide",parsePatterns:ra,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ee({matchPatterns:oa,defaultMatchWidth:"wide",parsePatterns:sa,defaultParseWidth:"any"}),day:ee({matchPatterns:la,defaultMatchWidth:"wide",parsePatterns:ua,defaultParseWidth:"any"}),dayPeriod:ee({matchPatterns:ca,defaultMatchWidth:"any",parsePatterns:da,defaultParseWidth:"any"})};const pa=ma;var fa={code:"en-US",formatDistance:xn,formatLong:Bn,formatRelative:Vn,localize:Yn,match:pa,options:{weekStartsOn:0,firstWeekContainsDate:1}};const va=fa;function qe(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ha(e){return qe({},e)}var Ae=1440,ga=2520,fe=43200,ya=86400;function ba(e,t,n){var i,r;B(2,arguments);var a=wn(),u=(i=(r=n==null?void 0:n.locale)!==null&&r!==void 0?r:a.locale)!==null&&i!==void 0?i:va;if(!u.formatDistance)throw new RangeError("locale must contain formatDistance property");var d=le(e,t);if(isNaN(d))throw new RangeError("Invalid time value");var c=qe(ha(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:d}),m,v;d>0?(m=T(t),v=T(e)):(m=T(e),v=T(t));var w=Ln(v,m),S=(De(v)-De(m))/1e3,p=Math.round((w-S)/60),_;if(p<2)return n!=null&&n.includeSeconds?w<5?u.formatDistance("lessThanXSeconds",5,c):w<10?u.formatDistance("lessThanXSeconds",10,c):w<20?u.formatDistance("lessThanXSeconds",20,c):w<40?u.formatDistance("halfAMinute",0,c):w<60?u.formatDistance("lessThanXMinutes",1,c):u.formatDistance("xMinutes",1,c):p===0?u.formatDistance("lessThanXMinutes",1,c):u.formatDistance("xMinutes",p,c);if(p<45)return u.formatDistance("xMinutes",p,c);if(p<90)return u.formatDistance("aboutXHours",1,c);if(p<Ae){var g=Math.round(p/60);return u.formatDistance("aboutXHours",g,c)}else{if(p<ga)return u.formatDistance("xDays",1,c);if(p<fe){var P=Math.round(p/Ae);return u.formatDistance("xDays",P,c)}else if(p<ya)return _=Math.round(p/fe),u.formatDistance("aboutXMonths",_,c)}if(_=Mn(v,m),_<12){var D=Math.round(p/fe);return u.formatDistance("xMonths",D,c)}else{var H=_%12,z=Math.floor(_/12);return H<3?u.formatDistance("aboutXYears",z,c):H<9?u.formatDistance("overXYears",z,c):u.formatDistance("almostXYears",z+1,c)}}function Ca(){return{prettifyRelative:t=>ba(t*1e3,new Date)}}const{fetchEventReposts:wa}=J();function ka(e,{enabled:t}){const n=ce(e),i=M(!0),r=M([]),a=He();return Y(async()=>{r.value=await a.events.find({selector:{"schema.@type":"ShareAction","schema.object.@id":n}}).exec(),t.value===!0&&(r.value=await wa(n)),i.value=!1}),{isLoading:i,reposts:r}}const{fetchEventComments:_a}=J();function Ia(e,{enabled:t}){const n=ce(e),i=M(!0),r=M([]),a=He();return Y(async()=>{r.value=await a.events.find({selector:{"schema.@type":"Comment","schema.parentItem.@id":n}}).exec(),t.value===!0&&(r.value=await _a(n)),i.value=!1}),{isLoading:i,comments:r}}const Ze=e=>(Ce("data-v-7b6ad372"),e=e(),we(),e),Oa={class:"flex justify-content-between gap-2 pb-0"},Sa={class:"flex"},Pa={class:"block text-500 min-w-max font-medium text-sm mt-3"},$a={class:"ml-1"},Ma={class:"p-3"},La={key:0,class:"flex align-items-center justify-content-between border-bottom-1 surface-border"},Na={key:0,class:"flex align-items-center gap-4 px-3"},Da=Ze(()=>l("i",{class:"pi pi-comments mr-2"},null,-1)),xa={key:1},Aa=Ze(()=>l("i",{class:"pi pi-sync mr-2"},null,-1)),Ta={key:1},Ea={class:"mr-1"},ja={key:1,class:"metadata-details p-2 inset-shadow-1"},Ba=L({__name:"NsThing",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){const t=e,n=dt(),i=b(()=>!t.inline&&!t.inThread),r=b(()=>t.event.id),{isLoading:a,comments:u}=Ia(r,{enabled:i}),{isLoading:d,reposts:c}=ka(r,{enabled:i}),{prettifyRelative:m}=Ca(),v=M(!1),w=M(),S=D=>{w.value.toggle(D)},p=b(()=>[{label:"Author profile",icon:"pi pi-user",command:()=>{const D=n.resolve({name:F.profile.display,params:{pubkey:t.event.pubkey,feedType:"activity"}});window.open(D.href,"_blank")}},{label:"Open link",icon:"pi pi-user",command:()=>{const D=n.resolve({name:F.events.display,params:{id:t.event.id}});window.open(D.href,"_blank")}},{label:"Mute author",icon:"pi pi-user-minus",class:"danger",command:()=>{}},{label:v.value?"Hide details":"Details",icon:"pi pi-info-circle",command:()=>{v.value=!v.value}}]),_=M(),g=D=>{_.value.toggle(D)},P=b(()=>[{label:v.value?"Hide details":"Details",icon:"pi pi-info-circle",command:()=>{v.value=!v.value}}]);return(D,H)=>{const z=E("router-link");return o(),h(y(Ie),{class:K(["ns-thing-component",{"white-box":!e.inThread,"in-thread":e.inThread}])},{header:O(()=>[I(D.$slots,"header",{},void 0,!0)]),content:O(()=>[l("div",Oa,[k(me,{class:"p-3 truncate",pubkey:e.event.pubkey},null,8,["pubkey"]),l("div",Sa,[l("div",Pa,$(y(m)(e.event.created_at)),1),l("div",$a,[k(y(ve),{icon:"pi pi-ellipsis-v",class:"pt-3 px-1",text:"",onClick:S,"aria-haspopup":"true","aria-controls":"overlay_menu"}),k(y(ye),{ref_key:"optionsMenuRef",ref:w,id:"overlay_menu",model:p.value,popup:!0},null,8,["model"])])])]),I(D.$slots,"content-header",{},void 0,!0),l("div",Ma,[k(Qt,{"max-height":240},{default:O(()=>[I(D.$slots,"default",{},void 0,!0)]),_:3})]),I(D.$slots,"content-footer",{},void 0,!0)]),footer:O(()=>{var Pe;return[e.inline?C("v-if",!0):(o(),s("div",La,[l("div",null,[e.inThread?C("v-if",!0):(o(),s("div",Na,[k(z,{to:{name:y(F).events.display,params:{id:e.event.id}}},{default:O(()=>{var $e;return[Da,y(a)?(o(),h(y(R),{key:0,class:"inline-block",width:"1rem"})):(o(),s("span",xa,$(($e=y(u))==null?void 0:$e.length),1))]}),_:1},8,["to"]),l("div",null,[Aa,y(d)?(o(),h(y(R),{key:0,class:"inline-block",width:"1rem"})):(o(),s("span",Ta,$((Pe=y(c))==null?void 0:Pe.length),1))])]))]),l("div",Ea,[k(y(ve),{icon:"pi pi-cog",class:"px-2 text-color-secondary",text:"",onClick:g,"aria-haspopup":"true","aria-controls":"overlay_menu"}),k(y(ye),{ref_key:"settingsMenuRef",ref:_,id:"overlay_menu",model:P.value,popup:!0},null,8,["model"])])])),v.value?(o(),s("div",ja,[l("pre",null,$(e.event),1)])):C("v-if",!0)]}),_:3},8,["class"])}}});const oe=N(Ba,[["__scopeId","data-v-7b6ad372"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsThing/NsThing.vue"]]),Ra=L({__name:"NsProfile",props:{event:{type:Object,required:!0}},setup(e){return(t,n)=>(o(),h(oe,{class:"ns-profile-component",event:e.event},{default:O(()=>[k(he,{content:e.event.schema.description||"",tags:e.event.tags},null,8,["content","tags"])]),_:1},8,["event"]))}}),za=N(Ra,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsProfile/NsProfile.vue"]]),{fetchEvent:Va}=J();function Xe(e,{enabled:t}){const n=M(!1),i=M();return Y(async()=>{if(t.value===!0){n.value=!0;const r=ce(e.value);i.value=await Va(r),n.value=!1}}),{isLoading:n,event:i}}const Ha={key:1,class:"ns-message-recipient"},Ua=L({__name:"NsMessageRecipient",props:{event:{type:Object},id:{type:String}},setup(e){const t=e,n=b(()=>{var S;return((S=t.event)==null?void 0:S.id)||t.id}),i=b(()=>!!t.id&&!t.event),{isLoading:r,event:a}=Xe(n,{enabled:i}),u=b(()=>{var S,p;return((S=t.event)==null?void 0:S.pubkey)??((p=a.value)==null?void 0:p.pubkey)??""}),d=b(()=>!!u.value),{isLoading:c,author:m}=Fe(u,{enabled:d}),v=b(()=>r.value||c.value),w=b(()=>{var S;return((S=m.value)==null?void 0:S.schema.name)||u.value.slice(0,10)||"????"});return(S,p)=>v.value?(o(),h(y(R),{key:0,class:"inline-block",height:"0.5rem",width:"7rem"})):(o(),s("span",Ha,"@"+$(w.value),1))}}),Fa=N(Ua,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/components/NsMessageRecipient/NsMessageRecipient.vue"]]),Ka={class:"ns-comment-controller text-color-secondary text-sm"},Wa={key:0},qa={key:1,class:"mx-1"},Za={key:2},Xa=L({__name:"NsCommentController",props:{event:{type:Object,required:!0}},setup(e){const t=e,{fetch:n}=J(),i=M(!1),r=M(),a=M(),u=M();return Y(async()=>{var d,c,m,v;if(i.value=!0,u.value=(d=t.event.schema.mainEntity)==null?void 0:d["@id"],r.value=(c=t.event.schema.parentItem)==null?void 0:c["@id"],t.event.schema.isPartOf&&(u.value==null||r.value==null)){const w=t.event.tags.filter(_=>_[0]==="e"),S=w.map(_=>_[2]).filter(Boolean),p=await n([{kinds:[1],ids:w.map(_=>_[1])}],{batchId:"events",relays:S});u.value==null&&(u.value=(m=p.find(_=>!_.tags.some(g=>g[0]==="e")))==null?void 0:m.id),r.value==null&&(r.value=(v=p.sort((_,g)=>g.created_at-_.created_at)[0])==null?void 0:v.id)}r.value=r.value||u.value,i.value=!1}),(d,c)=>{const m=E("router-link");return o(),s("div",Ka,[r.value?(o(),s("span",Wa,[j(" In reply to "),k(m,{class:"text-primary",to:{name:y(F).events.display,params:{id:r.value}}},{default:O(()=>[k(Fa,{id:r.value,event:a.value},null,8,["id","event"])]),_:1},8,["to"])])):C("v-if",!0),r.value&&u.value?(o(),s("span",qa,"•")):C("v-if",!0),u.value?(o(),s("span",Za,[k(m,{class:"text-primary",to:{name:y(F).events.display,params:{id:u.value}}},{default:O(()=>[j(" view thread ")]),_:1},8,["to"])])):C("v-if",!0)])}}}),Ya=N(Xa,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/components/NsCommentController.vue"]]);var Ye={name:"RefreshIcon",extends:Q,computed:{pathId:function(){return"pv_icon_clip_".concat(V())}}},Ja=["clipPath"],Qa=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z",fill:"currentColor"},null,-1),Ga=[Qa],ei=["id"],ti=l("rect",{width:"14",height:"14",fill:"white"},null,-1),ni=[ti];function ai(e,t,n,i,r,a){return o(),s("svg",f({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[l("g",{clipPath:"url(#".concat(a.pathId,")")},Ga,8,Ja),l("defs",null,[l("clipPath",{id:"".concat(a.pathId)},ni,8,ei)])],16)}Ye.render=ai;var Je={name:"SearchMinusIcon",extends:Q,computed:{pathId:function(){return"pv_icon_clip_".concat(V())}}},ii=["clipPath"],ri=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z",fill:"currentColor"},null,-1),oi=[ri],si=["id"],li=l("rect",{width:"14",height:"14",fill:"white"},null,-1),ui=[li];function ci(e,t,n,i,r,a){return o(),s("svg",f({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[l("g",{clipPath:"url(#".concat(a.pathId,")")},oi,8,ii),l("defs",null,[l("clipPath",{id:"".concat(a.pathId)},ui,8,si)])],16)}Je.render=ci;var Qe={name:"SearchPlusIcon",extends:Q,computed:{pathId:function(){return"pv_icon_clip_".concat(V())}}},di=["clipPath"],mi=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z",fill:"currentColor"},null,-1),pi=[mi],fi=["id"],vi=l("rect",{width:"14",height:"14",fill:"white"},null,-1),hi=[vi];function gi(e,t,n,i,r,a){return o(),s("svg",f({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[l("g",{clipPath:"url(#".concat(a.pathId,")")},pi,8,di),l("defs",null,[l("clipPath",{id:"".concat(a.pathId)},hi,8,fi)])],16)}Qe.render=gi;var Ge={name:"UndoIcon",extends:Q,computed:{pathId:function(){return"pv_icon_clip_".concat(V())}}},yi=["clipPath"],bi=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z",fill:"currentColor"},null,-1),Ci=[bi],wi=["id"],ki=l("rect",{width:"14",height:"14",fill:"white"},null,-1),_i=[ki];function Ii(e,t,n,i,r,a){return o(),s("svg",f({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[l("g",{clipPath:"url(#".concat(a.pathId,")")},Ci,8,yi),l("defs",null,[l("clipPath",{id:"".concat(a.pathId)},_i,8,wi)])],16)}Ge.render=Ii;var Oi=`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-image-preview-container {
    position: relative;
    display: inline-block;
}

.p-image-preview-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
}

.p-image-preview-container:hover > .p-image-preview-indicator {
    opacity: 1;
    cursor: pointer;
}

.p-image-preview-container > img {
    cursor: pointer;
}

.p-image-toolbar {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
}

.p-image-action.p-link {
    display: flex;
    justify-content: center;
    align-items: center;
}

.p-image-preview {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}

.p-image-preview-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-image-preview-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-image-preview-enter-from,
.p-image-preview-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`,Si={root:function(t){var n=t.props;return["p-image p-component",{"p-image-preview-container":n.preview}]},image:function(t){var n=t.props;return n.image},button:"p-image-preview-indicator",icon:"p-image-preview-icon",mask:"p-image-mask p-component-overlay p-component-overlay-enter",rotateRightButton:"p-image-action p-link",rotateLeftButton:"p-image-action p-link",zoomOutButton:function(t){var n=t.instance;return["p-image-action p-link",{"p-disabled":n.isZoomOutDisabled}]},zoomInButton:function(t){var n=t.instance;return["p-image-action p-link",{"p-disabled":n.isZoomInDisabled}]},closeButton:"p-image-action p-link",preview:"p-image-preview"},Pi=de(Oi,{name:"image",manual:!0}),$i=Pi.load,Mi={name:"BaseImage",extends:X,props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null},indicatorIcon:{type:String,default:void 0},zoomInDisabled:{type:Boolean,default:!1},zoomOutDisabled:{type:Boolean,default:!1}},css:{classes:Si,loadStyle:$i},provide:function(){return{$parentInstance:this}}},Oe={name:"Image",extends:Mi,inheritAttrs:!1,emits:["show","hide","error"],mask:null,data:function(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount:function(){this.mask&&q.clear(this.container)},methods:{maskRef:function(t){this.mask=t},toolbarRef:function(t){this.toolbarRef=t},onImageClick:function(){var t=this;this.preview&&(x.addClass(document.body,"p-overflow-hidden"),this.maskVisible=!0,setTimeout(function(){t.previewVisible=!0},25))},onPreviewImageClick:function(){this.previewClick=!0},onMaskClick:function(t){var n=[t.target.classList].includes("p-image-action")||t.target.closest(".p-image-action");n||(this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1)},onMaskKeydown:function(t){var n=this;switch(t.code){case"Escape":this.hidePreview(),setTimeout(function(){x.focus(n.$refs.previewButton)},200),t.preventDefault();break}},onError:function(){this.$emit("error")},rotateRight:function(){this.rotate+=90,this.previewClick=!0},rotateLeft:function(){this.rotate-=90,this.previewClick=!0},zoomIn:function(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut:function(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter:function(){q.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter:function(){this.focus(),this.$emit("show")},onBeforeLeave:function(){!this.isUnstyled&&x.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(t){q.clear(t),this.maskVisible=!1},focus:function(){var t=this.mask.querySelector("[autofocus]");t&&t.focus()},hidePreview:function(){this.previewVisible=!1,this.rotate=0,this.scale=1,x.removeClass(document.body,"p-overflow-hidden")}},computed:{containerClass:function(){return[this.cx("root"),this.class]},rotateClass:function(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle:function(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},isZoomInDisabled:function(){return this.zoomInDisabled||this.scale>=1.5},isZoomOutDisabled:function(){return this.zoomOutDisabled||this.scale<=.5},rightAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:ze,EyeIcon:It,RefreshIcon:Ye,UndoIcon:Ge,SearchMinusIcon:Je,SearchPlusIcon:Qe,TimesIcon:mt},directives:{focustrap:pt}};function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Te(Object(n),!0).forEach(function(i){Li(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Li(e,t,n){return t=Ni(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e){var t=Di(e,"string");return ie(t)==="symbol"?t:String(t)}function Di(e,t){if(ie(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ie(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xi=["aria-modal"],Ai=["aria-label"],Ti=["aria-label"],Ei=["disabled","aria-label"],ji=["disabled","aria-label"],Bi=["aria-label"],Ri=["src"];function zi(e,t,n,i,r,a){var u=E("RefreshIcon"),d=E("UndoIcon"),c=E("SearchMinusIcon"),m=E("SearchPlusIcon"),v=E("TimesIcon"),w=E("Portal"),S=ke("focustrap");return o(),s("span",f({class:a.containerClass,style:e.style},e.ptm("root"),{"data-pc-name":"image"}),[I(e.$slots,"image",{onError:a.onError},function(){return[l("img",f({style:e.imageStyle,class:[e.cx("image"),e.imageClass],onError:t[0]||(t[0]=function(){return a.onError&&a.onError.apply(a,arguments)})},se(se({},e.$attrs),e.ptm("image"))),null,16)]}),e.preview?(o(),s("button",f({key:0,ref:"previewButton",type:"button",class:e.cx("button"),onClick:t[1]||(t[1]=function(){return a.onImageClick&&a.onImageClick.apply(a,arguments)})},se(se({},e.previewButtonProps),e.ptm("button"))),[I(e.$slots,"indicatoricon",{},function(){return[(o(),h(Z(e.indicatorIcon?"i":"EyeIcon"),f({class:e.cx("icon")},e.ptm("icon")),null,16,["class"]))]})],16)):C("",!0),k(w,null,{default:O(function(){return[r.maskVisible?ne((o(),s("div",f({key:0,ref:a.maskRef,role:"dialog",class:e.cx("mask"),"aria-modal":r.maskVisible,onClick:t[8]||(t[8]=function(){return a.onMaskClick&&a.onMaskClick.apply(a,arguments)}),onKeydown:t[9]||(t[9]=function(){return a.onMaskKeydown&&a.onMaskKeydown.apply(a,arguments)})},e.ptm("mask")),[l("div",f({class:"p-image-toolbar"},e.ptm("toolbar")),[l("button",f({class:e.cx("rotateRightButton"),onClick:t[2]||(t[2]=function(){return a.rotateRight&&a.rotateRight.apply(a,arguments)}),type:"button","aria-label":a.rightAriaLabel},e.ptm("rotateRightButton"),{"data-pc-group-section":"action"}),[I(e.$slots,"refresh",{},function(){return[k(u,U(W(e.ptm("rotateRightIcon"))),null,16)]})],16,Ai),l("button",f({class:e.cx("rotateLeftButton"),onClick:t[3]||(t[3]=function(){return a.rotateLeft&&a.rotateLeft.apply(a,arguments)}),type:"button","aria-label":a.leftAriaLabel},e.ptm("rotateLeftButton"),{"data-pc-group-section":"action"}),[I(e.$slots,"undo",{},function(){return[k(d,U(W(e.ptm("rotateLeftIcon"))),null,16)]})],16,Ti),l("button",f({class:e.cx("zoomOutButton"),onClick:t[4]||(t[4]=function(){return a.zoomOut&&a.zoomOut.apply(a,arguments)}),type:"button",disabled:a.isZoomOutDisabled,"aria-label":a.zoomOutAriaLabel},e.ptm("zoomOutButton"),{"data-pc-group-section":"action"}),[I(e.$slots,"zoomout",{},function(){return[k(c,U(W(e.ptm("zoomOutIcon"))),null,16)]})],16,Ei),l("button",f({class:e.cx("zoomInButton"),onClick:t[5]||(t[5]=function(){return a.zoomIn&&a.zoomIn.apply(a,arguments)}),type:"button",disabled:a.isZoomInDisabled,"aria-label":a.zoomInAriaLabel},e.ptm("zoomInButton"),{"data-pc-group-section":"action"}),[I(e.$slots,"zoomin",{},function(){return[k(m,U(W(e.ptm("zoomInIcon"))),null,16)]})],16,ji),l("button",f({class:e.cx("closeButton"),type:"button",onClick:t[6]||(t[6]=function(){return a.hidePreview&&a.hidePreview.apply(a,arguments)}),"aria-label":a.closeAriaLabel,autofocus:""},e.ptm("closeButton"),{"data-pc-group-section":"action"}),[I(e.$slots,"close",{},function(){return[k(v,U(W(e.ptm("closeIcon"))),null,16)]})],16,Bi)],16),k(_e,f({name:"p-image-preview",onBeforeEnter:a.onBeforeEnter,onEnter:a.onEnter,onLeave:a.onLeave,onBeforeLeave:a.onBeforeLeave,onAfterLeave:a.onAfterLeave},e.ptm("transition")),{default:O(function(){return[r.previewVisible?(o(),s("div",U(f({key:0},e.ptm("previewContainer"))),[I(e.$slots,"preview",{class:K(e.cx("preview")),style:Re(a.imagePreviewStyle),onClick:a.onPreviewImageClick},function(){return[l("img",f({src:e.$attrs.src,class:e.cx("preview"),style:a.imagePreviewStyle,onClick:t[7]||(t[7]=function(){return a.onPreviewImageClick&&a.onPreviewImageClick.apply(a,arguments)})},e.ptm("preview")),null,16,Ri)]})],16)):C("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],16,xi)),[[S]]):C("",!0)]}),_:3})],16)}Oe.render=zi;var Vi=`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-tag-icon,
.p-tag-value,
.p-tag-icon.pi {
    line-height: 1.5;
}

.p-tag.p-tag-rounded {
    border-radius: 10rem;
}
`,Hi={root:function(t){var n=t.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},Ui=de(Vi,{name:"tag",manual:!0}),Fi=Ui.load,Ki={name:"BaseTag",extends:X,props:{value:null,severity:null,rounded:Boolean,icon:String},css:{classes:Hi,loadStyle:Fi},provide:function(){return{$parentInstance:this}}},et={name:"Tag",extends:Ki};function Wi(e,t,n,i,r,a){return o(),s("span",f({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"tag"}),[e.$slots.icon?(o(),h(Z(e.$slots.icon),f({key:0,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(o(),s("span",f({key:1,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):C("",!0),I(e.$slots,"default",{},function(){return[l("span",f({class:e.cx("value")},e.ptm("value")),$(e.value),17)]})],16)}et.render=Wi;const qi=L({__name:"NsTag",props:{value:{type:String,required:!0},raw:Boolean},setup(e){const t=e;return(n,i)=>{const r=E("router-link");return o(),h(r,{class:"ns-tag-component",to:{name:y(F).tags.display,params:{tag:t.value}}},{default:O(()=>[e.raw?(o(),h(y(ve),{key:0,link:"",label:`#${e.value}`,class:"p-0 inline-block"},null,8,["label"])):(o(),s(A,{key:1},[C(' <span text v-if="raw">#{{ value }}</span> '),k(y(et),{class:"surface-ground text-color-secondary",value:`#${e.value}`},null,8,["value"])],2112))]),_:1},8,["to"])}}}),Zi=N(qi,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsTag/NsTag.vue"]]),Xi={class:"ns-kind1-content-component"},Yi=["src","alt"],Ji=["src"],Qi=["src"],Gi=["href"],er=["href"],tr=L({__name:"NsKind1Content",props:{event:{type:Object,required:!0},skipMedia:Boolean},setup(e){const t=e,n=b(()=>{var _,g;const p=Be({content:((_=t.event.content)==null?void 0:_.trim())??"",tags:t.event.tags}).filter(P=>!(t.skipMedia&&P.type==="link"&&["image","video"].includes(P.value.type))).filter((P,D,H)=>{var z;return!(P.type==="newline"&&((z=H[D-1])==null?void 0:z.type)==="newline")});return((g=p.slice(-1)[0])==null?void 0:g.type)==="newline"?p.slice(0,-1):p}),i=p=>p.type==="text",r=p=>p.type==="emoji",a=p=>p.type==="link",u=p=>a(p)&&p.value.type==="image",d=p=>a(p)&&p.value.type==="video",c=p=>a(p)&&p.value.type==="audio",m=p=>p.type==="newline",v=p=>p.type==="topic",w=p=>p.type.match(/^nostr:n(profile|pub|event|ote)$/),S=p=>p.type.match(/^nostr:np(rofile|ub)$/);return(p,_)=>(o(),s("span",Xi,[(o(!0),s(A,null,te(n.value,(g,P)=>(o(),s(A,{key:P},[i(g)?(o(),s(A,{key:0},[j($(g.value),1)],64)):r(g)?(o(),s("img",{key:1,src:g.value.url,alt:g.value.name,style:{height:"25px"}},null,8,Yi)):m(g)?(o(!0),s(A,{key:2},te(g.value,(D,H)=>(o(),s("br",{key:`newline-${H}`}))),128)):u(g)?(o(),h(y(Oe),{key:3,class:"my-4","image-style":"max-width: 100%",src:g.value.url,alt:"image",preview:""},null,8,["src"])):d(g)?(o(),s("video",{key:4,class:"my-4",src:g.value.url,controls:"",style:{"max-width":"100%","max-height":"500px"}},null,8,Ji)):c(g)?(o(),s("audio",{key:5,class:"my-4",src:g.value.url,controls:""},[l("a",{href:g.value.url},'{item.value.url.replace(/https?:\\/\\/(www\\.)?/, "")}',8,Gi)],8,Qi)):v(g)?(o(),h(Zi,{key:6,raw:"",value:g.value},null,8,["value"])):S(g)?(o(),h(me,{key:7,pubkey:g.value.pubkey,inline:""},null,8,["pubkey"])):w(g)?(o(),h(ue,{key:8,inline:"","skip-media":e.skipMedia,id:g.value.entity||g.value.id,relays:g.value.relays||[],class:"mt-4"},null,8,["skip-media","id","relays"])):a(g)?(o(),s(A,{key:9},[C(" TODO add relay to NsNote"),l("a",{href:g.value.url,target:"_blank"},$(g.value.url),9,er)],2112)):(o(),s(A,{key:10},[j($(g.value)+" -- "+$(w(g)),1)],64))],64))),128))]))}}),tt=N(tr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsKind1Content/NsKind1Content.vue"]]),nr=L({__name:"NsComment",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){return(t,n)=>(o(),h(oe,{event:e.event,inline:e.inline,"in-thread":e.inThread,class:"ns-comment-component"},{default:O(()=>[e.inThread?C("v-if",!0):(o(),h(Ya,{key:0,event:e.event,class:"mb-3"},null,8,["event"])),k(tt,{event:e.event},null,8,["event"])]),_:1},8,["event","inline","in-thread"]))}}),ar=N(nr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/NsComment.vue"]]),ir=L({__name:"NsNote",props:{event:{type:Object,required:!0},skipMedia:Boolean,inline:Boolean,inThread:Boolean},setup(e){return(t,n)=>(o(),h(oe,{class:"ns-note-component",event:e.event,inline:e.inline,"in-thread":e.inThread},{header:O(()=>[I(t.$slots,"header")]),default:O(()=>[k(tt,{event:e.event,"skip-media":e.skipMedia},null,8,["event","skip-media"])]),_:3},8,["event","inline","in-thread"]))}}),nt=N(ir,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsNote/NsNote.vue"]]);var at={name:"MinusIcon",extends:Q},rr=l("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),or=[rr];function sr(e,t,n,i,r,a){return o(),s("svg",f({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),or,16)}at.render=sr;var it={name:"PlusIcon",extends:Q,computed:{pathId:function(){return"pv_icon_clip_".concat(V())}}},lr=["clipPath"],ur=l("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1),cr=[ur],dr=["id"],mr=l("rect",{width:"14",height:"14",fill:"white"},null,-1),pr=[mr];function fr(e,t,n,i,r,a){return o(),s("svg",f({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[l("g",{clipPath:"url(#".concat(a.pathId,")")},cr,8,lr),l("defs",null,[l("clipPath",{id:"".concat(a.pathId)},pr,8,dr)])],16)}it.render=fr;var vr=`
.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.p-panel-title {
    line-height: 1;
}

.p-panel-header-icon {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
`,hr={root:function(t){var n=t.props;return["p-panel p-component",{"p-panel-toggleable":n.toggleable}]},header:"p-panel-header",title:"p-panel-title",icons:"p-panel-icons",toggler:"p-panel-header-icon p-panel-toggler p-link",toggleablecontent:"p-toggleable-content",content:"p-panel-content",footer:"p-panel-footer"},gr=de(vr,{name:"panel",manual:!0}),yr=gr.load,br={name:"BasePanel",extends:X,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},css:{classes:hr,loadStyle:yr},provide:function(){return{$parentInstance:this}}},Se={name:"Panel",extends:br,emits:["update:collapsed","toggle"],data:function(){return{d_collapsed:this.collapsed}},watch:{collapsed:function(t){this.d_collapsed=t}},methods:{toggle:function(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})},onKeyDown:function(t){(t.code==="Enter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}},computed:{ariaId:function(){return V()},buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps["aria-label"]?this.toggleButtonProps["aria-label"]:this.header}},components:{PlusIcon:it,MinusIcon:at},directives:{ripple:Ve}};function re(e){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(e)}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ee(Object(n),!0).forEach(function(i){Cr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Cr(e,t,n){return t=wr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wr(e){var t=kr(e,"string");return re(t)==="symbol"?t:String(t)}function kr(e,t){if(re(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(re(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _r=["id"],Ir=["id","aria-label","aria-controls","aria-expanded"],Or=["id","aria-labelledby"];function Sr(e,t,n,i,r,a){var u=ke("ripple");return o(),s("div",f({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"panel"}),[l("div",f({class:e.cx("header")},e.ptm("header")),[I(e.$slots,"header",{id:a.ariaId+"_header",class:K(e.cx("title"))},function(){return[e.header?(o(),s("span",f({key:0,id:a.ariaId+"_header",class:e.cx("title")},e.ptm("title")),$(e.header),17,_r)):C("",!0)]}),l("div",f({class:e.cx("icons")},e.ptm("icons")),[I(e.$slots,"icons"),e.toggleable?ne((o(),s("button",f({key:0,id:a.ariaId+"_header",type:"button",role:"button",class:e.cx("toggler"),"aria-label":a.buttonAriaLabel,"aria-controls":a.ariaId+"_content","aria-expanded":!r.d_collapsed,onClick:t[0]||(t[0]=function(){return a.toggle&&a.toggle.apply(a,arguments)}),onKeydown:t[1]||(t[1]=function(){return a.onKeyDown&&a.onKeyDown.apply(a,arguments)})},je(je({},e.toggleButtonProps),e.ptm("toggler"))),[I(e.$slots,"togglericon",{collapsed:r.d_collapsed},function(){return[(o(),h(Z(r.d_collapsed?"PlusIcon":"MinusIcon"),U(W(e.ptm("togglericon"))),null,16))]})],16,Ir)),[[u]]):C("",!0)],16)],16),k(_e,f({name:"p-toggleable-content"},e.ptm("transition")),{default:O(function(){return[ne(l("div",f({id:a.ariaId+"_content",class:e.cx("toggleablecontent"),role:"region","aria-labelledby":a.ariaId+"_header"},e.ptm("toggleablecontent")),[l("div",f({class:e.cx("content")},e.ptm("content")),[I(e.$slots,"default")],16),e.$slots.footer?(o(),s("div",f({key:0,class:e.cx("footer")},e.ptm("footer")),[I(e.$slots,"footer")],16)):C("",!0)],16,Or),[[ft,!r.d_collapsed]])]}),_:3},16)],16)}Se.render=Sr;const Pr=e=>(Ce("data-v-cd4dac36"),e=e(),we(),e),$r=Pr(()=>l("span",null,"reposted:",-1)),Mr=L({__name:"NsShareAction",props:{event:{type:Object,required:!0}},setup(e){const t=e,n=b(()=>{try{const r=JSON.parse(t.event.content);return vt(r)}catch{return}}),i=b(()=>{var r;return(r=t.event.schema.object)==null?void 0:r["@id"]});return(r,a)=>(o(),h(y(Se),null,{header:O(()=>[l("div",null,[k(me,{inline:"",pubkey:e.event.pubkey},null,8,["pubkey"]),j(),$r])]),default:O(()=>[n.value?(o(),h(ue,{key:0,event:n.value},null,8,["event"])):(o(),h(ue,{key:1,id:i.value},null,8,["id"]))]),_:1}))}});const Lr=N(Mr,[["__scopeId","data-v-cd4dac36"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsShareAction/NsShareAction.vue"]]),Nr=L({__name:"NsReactAction",props:{event:{type:Object,required:!0}},setup(e){const t=e,n=b(()=>{var i;return(i=t.event.schema.object)==null?void 0:i["@id"]});return(i,r)=>(o(),h(y(Se),{collapsed:"",toggleable:""},{header:O(()=>[l("div",null,[k(me,{inline:"",pubkey:e.event.pubkey},null,8,["pubkey"]),j(),l("span",null,"reacted "+$(e.event.content),1)])]),default:O(()=>[k(ue,{id:n.value,"in-thread":""},null,8,["id"])]),_:1}))}});const Dr=N(Nr,[["__scopeId","data-v-268c3f08"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsReactAction/NsReactAction.vue"]]),xr={key:0},Ar=l("div",{class:"font-medium"},"Sensitive Content",-1),Tr=l("div",{class:"text-color-secondary"}," This media may contain sensitive material. Your media settings are configured to warn you when media may be sensitive. ",-1),Er=l("div",{class:"text-primary text-sm mt-3"},"Click to view",-1),jr=[Ar,Tr,Er],Br=["src"],Rr=L({__name:"NsMediaContent",props:{value:{type:Object,required:!0}},setup(e){const t=e,n=b(()=>t.value["@type"]==="VideoObject"),i=b(()=>t.value["@type"]==="ImageObject"),r=b(()=>t.value.contentUrl??""),a=M(!1),u=()=>{a.value=!0},{settings:d}=Ot();return(c,m)=>e.value.isSensitiveContent&&!a.value&&!y(d).showSensitiveContent?(o(),s("div",xr,[l("div",{class:"text-center p-5 m-3 cursor-pointer border-1 border-300 border-round",onClick:u},jr)])):i.value?(o(),h(y(Oe),{key:1,src:r.value,alt:"Image",preview:"","image-style":"width: 100%",style:{width:"100%"}},null,8,["src"])):n.value?(o(),s("video",{key:2,src:r.value,controls:"",style:{"max-width":"100%","max-height":"500px"}},null,8,Br)):C("v-if",!0)}}),rt=N(Rr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsMediaContent/NsMediaContent.vue"]]),zr={class:"text-center"},Vr={key:1},Hr=L({__name:"NsMediaObject",props:{event:{type:Object,required:!0},inline:Boolean},setup(e){const t=e,n=b(()=>{var i,r,a;return t.event?{"@type":(i=t.event)==null?void 0:i.schema["@type"],contentUrl:(r=t.event)==null?void 0:r.schema.contentUrl,isSensitiveContent:!!((a=t.event)!=null&&a.schema.contentRating)}:void 0});return(i,r)=>(o(),h(oe,{class:"ns-media-object-component",event:e.event,inline:e.inline},{header:O(()=>[l("div",zr,[n.value?(o(),h(rt,{key:0,value:n.value},null,8,["value"])):(o(),s("div",Vr,"no content"))])]),_:1},8,["event","inline"]))}}),Ur=N(Hr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsMediaObject/NsMediaObject.vue"]]),Fr={class:"text-center"},Kr=L({__name:"NsSocialMediaPosting",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){const t=e,{fetch:n}=J(),i=M([]);return Y(async()=>{const r=t.event.schema.sharedContent??[],a=r.map(d=>typeof d=="string"&&d.startsWith("nevent1")?ht.decode(d):null).filter(Boolean);if(a.length){const c=(await n([{ids:a.map(m=>m.data.id)}],{batchId:"NsNote"})).filter(m=>m.schema["@type"]==="ImageObject"||"VideoObject");i.value=c.map(m=>({"@type":m.schema["@type"],contentUrl:m.schema.contentUrl,isSensitiveContent:!!t.event.schema.contentRating||!!m.schema.contentRating}))}const u=r.map(d=>d&&typeof d=="object"&&["ImageObject","VideoObject"].includes(d["@type"])?{"@type":d["@type"],contentUrl:d.contentUrl,isSensitiveContent:!!t.event.schema.contentRating}:null).filter(Boolean);i.value=[...i.value,...u]}),(r,a)=>(o(),h(nt,{class:"ns-social-media-posting-component",event:e.event,inline:e.inline,"skip-media":!!i.value.length,"in-thread":e.inThread},{header:O(()=>[l("div",Fr,[i.value.length?(o(),h(rt,{key:0,value:i.value[0]},null,8,["value"])):C("v-if",!0)])]),_:1},8,["event","inline","skip-media","in-thread"]))}}),Wr=N(Kr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsSocialMediaPosting/NsSocialMediaPosting.vue"]]),qr={key:1,class:"ns-event-component"},Zr=L({__name:"NsEvent",props:{event:{type:Object},relays:{type:Array,default:()=>[]},id:{type:String},comments:{type:Array},reactions:{type:Array},reposts:{type:Array},skipMedia:Boolean,inline:Boolean,inThread:Boolean},setup(e){const t=e,n=wt(()=>kt(()=>import("./NsBlogPosting-e8be85fa.js"),["assets/NsBlogPosting-e8be85fa.js","assets/index-4ab972bd.js","assets/index-ce945204.css","assets/index.esm-75728879.js","assets/use-settings-7f0949c9.js"])),i=b(()=>{var P;return((P=t.event)==null?void 0:P.id)||t.id}),r=b(()=>!t.event&&!!t.id),{isLoading:a,event:u}=Xe(i,{enabled:r}),d=b(()=>t.event??u.value),c=b(()=>gt(d.value)),m=b(()=>{var P;return((P=d.value)==null?void 0:P.schema["@type"])==="Person"}),v=b(()=>{var P;return((P=d.value)==null?void 0:P.schema["@type"])==="SocialMediaPosting"}),w=b(()=>yt(d.value)),S=b(()=>bt(d.value)),p=b(()=>{var P;return((P=d.value)==null?void 0:P.schema["@type"])==="CreativeWork"}),_=b(()=>{var P;return((P=d.value)==null?void 0:P.kind)===1063}),g=b(()=>Ct(d.value));return(P,D)=>y(a)?(o(),h(At,{key:0,"in-thread":e.inThread},null,8,["in-thread"])):d.value?(o(),s("div",qr,[c.value?(o(),h(ar,{key:0,event:d.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):g.value?(o(),h(y(n),{key:1,event:d.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):w.value?(o(),h(Lr,{key:2,event:d.value},null,8,["event"])):S.value?(o(),h(Dr,{key:3,event:d.value},null,8,["event"])):m.value?(o(),h(za,{key:4,event:d.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):_.value?(o(),s(A,{key:5},[e.skipMedia?C("v-if",!0):(o(),h(Ur,{key:0,event:d.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"]))],64)):v.value?(o(),h(Wr,{key:6,event:d.value,comments:e.comments,inline:e.inline,"in-thread":e.inThread},null,8,["event","comments","inline","in-thread"])):p.value?(o(),h(nt,{key:7,event:d.value,comments:e.comments,inline:e.inline,"in-thread":e.inThread},null,8,["event","comments","inline","in-thread"])):(o(),h(oe,{key:8,event:d.value,inline:e.inline,"in-thread":e.inThread,comments:e.comments,reactions:e.reactions,reposts:e.reposts},{default:O(()=>[l("pre",null,$(d.value),1)]),_:1},8,["event","inline","in-thread","comments","reactions","reposts"]))])):C("v-if",!0)}}),ue=N(Zr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsEvent/NsEvent.vue"]]);export{ue as N,At as a,he as b,Xe as c,rt as d,Zi as e,oe as f,Oe as s,Fe as u};
