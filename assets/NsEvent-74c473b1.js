var Fe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var p=(e,t,n)=>(Fe(e,t,"read from private field"),n?n.call(e):t.get(e)),N=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},M=(e,t,n,a)=>(Fe(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n);var D=(e,t,n)=>(Fe(e,t,"access private method"),n);import{Y as tn,$ as He,a0 as nn,a1 as ft,a2 as pt,a3 as an,a4 as rn,a5 as sn,a6 as mt,a7 as on,a8 as ln,L as un,a9 as cn,q as O,aa as dn,a as hn,n as Re,ab as vt,ac as fn,ad as pn,ae as mn,af as vn,ag as yn,z as pe,o as s,c,x as v,v as P,J as _,b as d,d as A,e as I,f as b,_ as E,H as g,w as $,M as se,ah as Lt,F as x,g as ke,S as X,K as T,h as me,l as re,G as z,m as gn,k as bn,r as V,ai as Cn,aj as $t,ak as Nt,al as Dt,B as Ue,U as Y,Z as le,D as R,C as wn,E as Tt,am as kn,R as At,O as rt,P as _e,I as ue,T as st,u as _n,s as We,X as Et,A as ve,N as On,an as In,ao as G,ap as oe,Q as Sn,aq as Pn,ar as Rt,W as Mn,as as Ln,at as $n,au as Nn,av as Dn,aw as Tn}from"./index-11704ec7.js";import{a as Q,O as An,s as En}from"./index.esm-1cfec91b.js";import{u as Rn}from"./use-settings-34f181de.js";var U,L,ce,j,ee,de,W,Pe,he,fe,te,ne,Z,ie,ae,we,Me,qe,Le,Qe,$e,Ze,Ne,Xe,De,Ye,Te,Je,Ae,Ge,Be,xt,Mt,xn=(Mt=class extends tn{constructor(t,n){super();N(this,ae);N(this,Me);N(this,Le);N(this,$e);N(this,Ne);N(this,De);N(this,Te);N(this,Ae);N(this,Be);N(this,U,void 0);N(this,L,void 0);N(this,ce,void 0);N(this,j,void 0);N(this,ee,void 0);N(this,de,void 0);N(this,W,void 0);N(this,Pe,void 0);N(this,he,void 0);N(this,fe,void 0);N(this,te,void 0);N(this,ne,void 0);N(this,Z,void 0);N(this,ie,void 0);M(this,L,void 0),M(this,ce,void 0),M(this,j,void 0),M(this,ie,new Set),M(this,U,t),this.options=n,M(this,W,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(p(this,L).addObserver(this),yt(p(this,L),this.options)&&D(this,ae,we).call(this),D(this,Ne,Xe).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return et(p(this,L),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return et(p(this,L),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,D(this,De,Ye).call(this),D(this,Te,Je).call(this),p(this,L).removeObserver(this)}setOptions(t,n){const a=this.options,r=p(this,L);if(this.options=p(this,U).defaultQueryOptions(t),He(a,this.options)||p(this,U).getQueryCache().notify({type:"observerOptionsUpdated",query:p(this,L),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),D(this,Ae,Ge).call(this);const i=this.hasListeners();i&&gt(p(this,L),r,this.options,a)&&D(this,ae,we).call(this),this.updateResult(n),i&&(p(this,L)!==r||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&D(this,Me,qe).call(this);const o=D(this,Le,Qe).call(this);i&&(p(this,L)!==r||this.options.enabled!==a.enabled||o!==p(this,Z))&&D(this,$e,Ze).call(this,o)}getOptimisticResult(t){const n=p(this,U).getQueryCache().build(p(this,U),t),a=this.createResult(n,t);return Bn(this,a)&&(M(this,j,a),M(this,de,this.options),M(this,ee,p(this,L).state)),a}getCurrentResult(){return p(this,j)}trackResult(t){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(p(this,ie).add(a),t[a])})}),n}getCurrentQuery(){return p(this,L)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=p(this,U).defaultQueryOptions(t),a=p(this,U).getQueryCache().build(p(this,U),n);return a.isFetchingOptimistic=!0,a.fetch().then(()=>this.createResult(a,n))}fetch(t){return D(this,ae,we).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),p(this,j)))}createResult(t,n){var ht;const a=p(this,L),r=this.options,i=p(this,j),o=p(this,ee),h=p(this,de),u=t!==a?t.state:p(this,ce),{state:m}=t;let{error:C,errorUpdatedAt:k,fetchStatus:f,status:y}=m,w=!1,S;if(n._optimisticResults){const F=this.hasListeners(),ze=!F&&yt(t,n),en=F&&gt(t,a,n,r);(ze||en)&&(f=sn(t.options.networkMode)?"fetching":"paused",m.dataUpdatedAt||(y="pending")),n._optimisticResults==="isRestoring"&&(f="idle")}if(n.select&&typeof m.data<"u")if(i&&m.data===(o==null?void 0:o.data)&&n.select===p(this,Pe))S=p(this,he);else try{M(this,Pe,n.select),S=n.select(m.data),S=mt(i==null?void 0:i.data,S,n),M(this,he,S),M(this,W,null)}catch(F){M(this,W,F)}else S=m.data;if(typeof n.placeholderData<"u"&&typeof S>"u"&&y==="pending"){let F;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(h==null?void 0:h.placeholderData))F=i.data;else if(F=typeof n.placeholderData=="function"?n.placeholderData((ht=p(this,fe))==null?void 0:ht.state.data,p(this,fe)):n.placeholderData,n.select&&typeof F<"u")try{F=n.select(F),M(this,W,null)}catch(ze){M(this,W,ze)}typeof F<"u"&&(y="success",S=mt(i==null?void 0:i.data,F,n),w=!0)}p(this,W)&&(C=p(this,W),S=p(this,he),k=Date.now(),y="error");const J=f==="fetching",K=y==="pending",H=y==="error",ge=K&&J;return{status:y,fetchStatus:f,isPending:K,isSuccess:y==="success",isError:H,isInitialLoading:ge,isLoading:ge,data:S,dataUpdatedAt:m.dataUpdatedAt,error:C,errorUpdatedAt:k,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:J,isRefetching:J&&!K,isLoadingError:H&&m.dataUpdatedAt===0,isPaused:f==="paused",isPlaceholderData:w,isRefetchError:H&&m.dataUpdatedAt!==0,isStale:ot(t,n),refetch:this.refetch}}updateResult(t){const n=p(this,j),a=this.createResult(p(this,L),this.options);if(M(this,ee,p(this,L).state),M(this,de,this.options),He(a,n))return;p(this,ee).data!==void 0&&M(this,fe,p(this,L)),M(this,j,a);const r={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,h=typeof o=="function"?o():o;if(h==="all"||!h&&!p(this,ie).size)return!0;const l=new Set(h??p(this,ie));return this.options.throwOnError&&l.add("error"),Object.keys(p(this,j)).some(u=>{const m=u;return p(this,j)[m]!==n[m]&&l.has(m)})};(t==null?void 0:t.listeners)!==!1&&i()&&(r.listeners=!0),D(this,Be,xt).call(this,{...r,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&D(this,Ne,Xe).call(this)}},U=new WeakMap,L=new WeakMap,ce=new WeakMap,j=new WeakMap,ee=new WeakMap,de=new WeakMap,W=new WeakMap,Pe=new WeakMap,he=new WeakMap,fe=new WeakMap,te=new WeakMap,ne=new WeakMap,Z=new WeakMap,ie=new WeakMap,ae=new WeakSet,we=function(t){D(this,Ae,Ge).call(this);let n=p(this,L).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(nn)),n},Me=new WeakSet,qe=function(){if(D(this,De,Ye).call(this),ft||p(this,j).isStale||!pt(this.options.staleTime))return;const n=an(p(this,j).dataUpdatedAt,this.options.staleTime)+1;M(this,te,setTimeout(()=>{p(this,j).isStale||this.updateResult()},n))},Le=new WeakSet,Qe=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(p(this,L)):this.options.refetchInterval)??!1},$e=new WeakSet,Ze=function(t){D(this,Te,Je).call(this),M(this,Z,t),!(ft||this.options.enabled===!1||!pt(p(this,Z))||p(this,Z)===0)&&M(this,ne,setInterval(()=>{(this.options.refetchIntervalInBackground||rn.isFocused())&&D(this,ae,we).call(this)},p(this,Z)))},Ne=new WeakSet,Xe=function(){D(this,Me,qe).call(this),D(this,$e,Ze).call(this,D(this,Le,Qe).call(this))},De=new WeakSet,Ye=function(){p(this,te)&&(clearTimeout(p(this,te)),M(this,te,void 0))},Te=new WeakSet,Je=function(){p(this,ne)&&(clearInterval(p(this,ne)),M(this,ne,void 0))},Ae=new WeakSet,Ge=function(){const t=p(this,U).getQueryCache().build(p(this,U),this.options);if(t===p(this,L))return;const n=p(this,L);M(this,L,t),M(this,ce,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Be=new WeakSet,xt=function(t){on.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(p(this,j))}),p(this,U).getQueryCache().notify({query:p(this,L),type:"observerResultsUpdated"})})},Mt);function jn(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yt(e,t){return jn(e,t)||e.state.dataUpdatedAt>0&&et(e,t,t.refetchOnMount)}function et(e,t,n){if(t.enabled!==!1){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&ot(e,t)}return!1}function gt(e,t,n,a){return n.enabled!==!1&&(e!==t||a.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&ot(e,n)}function ot(e,t){return e.isStaleByTime(t.staleTime)}function Bn(e,t){return!He(e.getCurrentResult(),t)}function Un(e=""){if(!ln())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=cn(e),n=un(t);if(!n)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return n}function zn(e,t,n){yn()||console.warn('vue-query composables like "useQuery()" should only be used inside a "setup()" function or a running effect scope. They might otherwise lead to memory leaks.');const a=n||Un(),r=O(()=>{const k=dn(t);typeof k.enabled=="function"&&(k.enabled=k.enabled());const f=a.defaultQueryOptions(k);return f._optimisticResults=a.isRestoring.value?"isRestoring":"optimistic",f}),i=new e(a,r.value),o=hn(i.getCurrentResult());let h=()=>{};Re(a.isRestoring,k=>{k||(h(),h=i.subscribe(f=>{vt(o,f)}))},{immediate:!0});const l=()=>{i.setOptions(r.value),vt(o,i.getCurrentResult())};Re(r,l),fn(()=>{h()});const u=(...k)=>(l(),o.refetch(...k)),m=()=>new Promise((k,f)=>{let y=()=>{};const w=()=>{if(r.value.enabled!==!1){i.setOptions(r.value);const S=i.getOptimisticResult(r.value);S.isStale?(y(),i.fetchOptimistic(r.value).then(k,f)):(y(),k(S))}};w(),y=Re(r,w)});Re(()=>o.error,k=>{if(o.isError&&!o.isFetching&&pn(r.value.throwOnError,[k,i.getCurrentQuery()]))throw k});const C=mn(vn(o));for(const k in o)typeof o[k]=="function"&&(C[k]=o[k]);return C.suspense=m,C.refetch=u,C}function ye(e,t){return zn(xn,e,t)}var Fn={root:"p-card p-component",header:"p-card-header",body:"p-card-body",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},Vn={name:"BaseCard",extends:pe,css:{classes:Fn}},lt={name:"Card",extends:Vn};function Kn(e,t,n,a,r,i){return s(),c("div",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"card"}),[e.$slots.header?(s(),c("div",v({key:0,class:e.cx("header")},e.ptm("header")),[P(e.$slots,"header")],16)):_("",!0),d("div",v({class:e.cx("body")},e.ptm("body")),[e.$slots.title?(s(),c("div",v({key:0,class:e.cx("title")},e.ptm("title")),[P(e.$slots,"title")],16)):_("",!0),e.$slots.subtitle?(s(),c("div",v({key:1,class:e.cx("subtitle")},e.ptm("subtitle")),[P(e.$slots,"subtitle")],16)):_("",!0),d("div",v({class:e.cx("content")},e.ptm("content")),[P(e.$slots,"content")],16),e.$slots.footer?(s(),c("div",v({key:2,class:e.cx("footer")},e.ptm("footer")),[P(e.$slots,"footer")],16)):_("",!0)],16)],16)}lt.render=Kn;const Hn={class:"ns-author-skeleton-component flex gap-2"},Wn=A({__name:"NsAuthorSkeleton",setup(e){return(t,n)=>(s(),c("div",Hn,[I(b(Q),{shape:"circle",size:"3rem"}),d("div",null,[I(b(Q),{width:"10rem",height:"1rem",class:"mb-3 mt-1"}),I(b(Q),{width:"5rem",height:".5rem"})])]))}}),jt=E(Wn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsAuthorSkeleton/NsAuthorSkeleton.vue"]]),qn={class:"p-3"},Qn={class:"flex justify-content-between"},Zn=A({__name:"NsNoteSkeleton",props:{inThread:Boolean},setup(e){return(t,n)=>(s(),g(b(lt),{class:se({"white-box":!e.inThread})},{content:$(()=>[d("div",qn,[d("div",Qn,[I(jt),I(b(Q),{height:".5rem",width:"5rem"})]),I(b(Q),{width:"100%",height:"10rem",class:"mt-3"})])]),_:1},8,["class"]))}}),Xn=E(Zn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsNoteSkeleton/NsNoteSkeleton.vue"]]),Yn=["src","alt"],Jn=A({__name:"NsEmojiedContent",props:{content:{type:String,required:!0},tags:{type:Array,required:!0}},setup(e){const t=e,n=O(()=>Lt({content:t.content??"",tags:t.tags})),a=r=>r.type==="emoji";return(r,i)=>(s(),c("span",null,[(s(!0),c(x,null,ke(n.value,(o,h)=>(s(),c(x,{key:h},[a(o)?(s(),c("img",{key:0,src:o.value.url,alt:o.value.name,style:{height:"20px"}},null,8,Yn)):(s(),c(x,{key:1},[X(T(o.raw),1)],64))],64))),128))]))}}),tt=E(Jn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsEmojiedContent/NsEmojiedContent.vue"]]),{fetchAuthor:Gn}=me();function ei(e){return ye({queryKey:["ns-author",e],queryFn(){return Gn(b(e))}})}const ti={key:0},ni={key:1},ii={key:1,class:"cursor-pointer"},ai={key:1,class:"flex align-items-start mr-0 lg:mr-5"},ri=["src"],si={class:"text-700 text-xs"},oi=A({__name:"NsAuthor",props:{pubkey:{type:String,required:!0},inline:Boolean,loading:Boolean},setup(e){const t=e,{isLoading:n,data:a}=ei(t.pubkey),r=O(()=>{var u;try{return JSON.parse(((u=a.value)==null?void 0:u.content)??"{}")}catch(m){console.error(m);return}}),i=O(()=>{var u;return(u=a.value)==null?void 0:u.schema}),o=O(()=>{var u;return((u=a.value)==null?void 0:u.schema.name)||t.pubkey.slice(0,10)}),h=O(()=>{var u;return((u=r.value)==null?void 0:u.nip05)||t.pubkey.slice(0,10)}),l=O(()=>({name:re.profile.display,params:{pubkey:t.pubkey,feedType:"activity"}}));return(u,m)=>{const C=z("router-link");return s(),g(C,{to:l.value},{default:$(()=>{var k,f;return[e.inline?(s(),c("span",ti,[b(n)?(s(),g(b(Q),{key:0,height:"1rem",width:"10rem",class:"inline-block"})):(s(),g(C,{key:1,to:l.value},{default:$(()=>[b(a)?(s(),g(tt,{key:0,content:`@${o.value}`,tags:b(a).tags},null,8,["content","tags"])):(s(),c("span",ni,"@"+T(o.value),1))]),_:1},8,["to"]))])):(s(),c("div",ii,[b(n)?(s(),g(jt,{key:0})):_("v-if",!0),b(a)?(s(),c("div",ai,[(k=i.value)!=null&&k.image?(s(),c("img",{key:0,src:(f=i.value)==null?void 0:f.image,class:"border-circle mr-3 w-3rem h-3rem"},null,8,ri)):_("v-if",!0),d("div",null,[I(tt,{class:"text-900 font-medium block mb-2",content:o.value,tags:b(a).tags},null,8,["content","tags"]),d("div",si,T(h.value),1)])])):_("v-if",!0)]))]}),_:1},8,["to"])}}}),Bt=E(oi,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsAuthor/NsAuthor.vue"]]),Ut=e=>(Nt("data-v-98455f12"),e=e(),Dt(),e),li={class:"flex align-items-center gap-2 text-primary"},ui=Ut(()=>d("i",{class:"pi pi-chevron-down"},null,-1)),ci={class:"flex align-items-center gap-2 text-primary"},di=Ut(()=>d("i",{class:"pi pi-chevron-up"},null,-1)),hi=40,fi=20,pi=A({__name:"NsCollapsible",props:gn({maxHeight:{type:Number,default:110},openLabel:{type:String,default:"more"},closeLabel:{type:String,default:"hide"}},{modelValue:{type:Boolean,default:()=>!0,local:!0}}),emits:["update:modelValue"],setup(e){const t=e,n=bn(e,"modelValue",{local:!0}),a=V(null),r=V(!0),i=V(0);Cn(a,h=>{const l=h[0],{height:u}=l.contentRect;r.value=u>t.maxHeight,i.value=u+hi});const o=O(()=>r.value?n.value?`${t.maxHeight+fi+10}px`:`${i.value+10}px`:"auto");return(h,l)=>(s(),c("div",{class:se(["ns-collapsible-component",{"pb-3":r.value}]),style:$t({height:o.value})},[d("div",{ref_key:"slotRef",ref:a},[P(h.$slots,"default",{},void 0,!0)],512),r.value&&n.value?(s(),c("div",{key:0,class:"ns-collapsible-gradient-overlay ns-collapsible-gradient-overlay-closed align-items-end",onClick:l[0]||(l[0]=u=>n.value=!n.value),onKeydown:l[1]||(l[1]=u=>n.value=!n.value)},[d("div",li,[ui,X(" "+T(e.openLabel),1)])],32)):_("v-if",!0),r.value&&!n.value?(s(),c("div",{key:1,class:"ns-collapsible-gradient-overlay ns-collapsible-gradient-overlay-open align-items-end",onClick:l[2]||(l[2]=u=>n.value=!n.value),onKeydown:l[3]||(l[3]=u=>n.value=!n.value)},[d("div",ci,[di,X(" "+T(e.closeLabel),1)])],32)):_("v-if",!0)],6))}});const mi=E(pi,[["__scopeId","data-v-98455f12"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsCollapsible/NsCollapsible.vue"]]);var vi=`
.p-menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}

.p-menu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}

.p-menu .p-menuitem-text {
    line-height: 1;
}
`,yi={root:function(t){var n=t.instance,a=t.props;return["p-menu p-component",{"p-menu-overlay":a.popup,"p-input-filled":n.$primevue.config.inputStyle==="filled","p-ripple-disabled":n.$primevue.config.ripple===!1}]},start:"p-menu-start",menu:"p-menu-list p-reset",submenuHeader:"p-submenu-header",separator:"p-menuitem-separator",end:"p-menu-end",menuitem:function(t){var n=t.instance;return["p-menuitem",{"p-focus":n.id===n.focusedOptionId,"p-disabled":n.disabled()}]},content:"p-menuitem-content",action:function(t){var n=t.props,a=t.isActive,r=t.isExactActive;return["p-menuitem-link",{"router-link-active":a,"router-link-active-exact":n.exact&&r}]},icon:"p-menuitem-icon",label:"p-menuitem-text"},gi=Ue(vi,{name:"menu",manual:!0}),bi=gi.load,Ci={name:"BaseMenu",extends:pe,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},css:{classes:yi,loadStyle:bi},provide:function(){return{$parentInstance:this}}},zt={name:"Menuitem",hostName:"Menu",extends:pe,inheritAttrs:!1,emits:["item-click"],props:{item:null,templates:null,exact:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(t,n){return t&&t.item?kn.getItemValue(t.item[n]):void 0},getPTOptions:function(t){return this.ptm(t,{context:{item:this.item,index:this.index,focused:this.isItemFocused()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemActionClick:function(t,n){n&&n(t)},onItemClick:function(t){var n=this.getItemProp(this.item,"command");n&&n({originalEvent:t,item:this.item.item}),this.$emit("item-click",{originalEvent:t,item:this.item,id:this.id})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label}},directives:{ripple:At}},wi=["id","aria-label","aria-disabled","data-p-focused","data-p-disabled"],ki=["href","onClick"],_i=["href","target"];function Oi(e,t,n,a,r,i){var o=z("router-link"),h=rt("ripple");return i.visible()?(s(),c("li",v({key:0,id:n.id,class:[e.cx("menuitem"),n.item.class],role:"menuitem",style:n.item.style,"aria-label":i.label(),"aria-disabled":i.disabled()},i.getPTOptions("menuitem"),{"data-p-focused":i.isItemFocused(),"data-p-disabled":i.disabled()||!1}),[d("div",v({class:e.cx("content"),onClick:t[0]||(t[0]=function(l){return i.onItemClick(l)})},i.getPTOptions("content")),[n.templates.item?(s(),g(ue(n.templates.item),{key:1,item:n.item},null,8,["item"])):(s(),c(x,{key:0},[n.item.to&&!i.disabled()?(s(),g(o,{key:0,to:n.item.to,custom:""},{default:$(function(l){var u=l.navigate,m=l.href,C=l.isActive,k=l.isExactActive;return[_e((s(),c("a",v({href:m,class:e.cx("action",{isActive:C,isExactActive:k}),tabindex:"-1","aria-hidden":"true",onClick:function(y){return i.onItemActionClick(y,u)}},i.getPTOptions("action")),[n.templates.itemicon?(s(),g(ue(n.templates.itemicon),{key:0,item:n.item,class:se([e.cx("icon"),n.item.icon])},null,8,["item","class"])):n.item.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),n.item.icon]},i.getPTOptions("icon")),null,16)):_("",!0),d("span",v({class:e.cx("label")},i.getPTOptions("label")),T(i.label()),17)],16,ki)),[[h]])]}),_:1},8,["to"])):_e((s(),c("a",v({key:1,href:n.item.url,class:e.cx("action"),target:n.item.target,tabindex:"-1","aria-hidden":"true"},i.getPTOptions("action")),[n.templates.itemicon?(s(),g(ue(n.templates.itemicon),{key:0,item:n.item,class:se([e.cx("icon"),n.item.icon])},null,8,["item","class"])):n.item.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),n.item.icon]},i.getPTOptions("icon")),null,16)):_("",!0),d("span",v({class:e.cx("label")},i.getPTOptions("label")),T(i.label()),17)],16,_i)),[[h]])],64))],16)],16,wi)):_("",!0)}zt.render=Oi;function bt(e){return Mi(e)||Pi(e)||Si(e)||Ii()}function Ii(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Si(e,t){if(e){if(typeof e=="string")return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}}function Pi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mi(e){if(Array.isArray(e))return nt(e)}function nt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var it={name:"Menu",extends:Ci,inheritAttrs:!1,emits:["show","hide","focus","blur"],data:function(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(t){this.id=t||Y()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.id=this.id||Y(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&le.clear(this.container),this.container=null},methods:{itemClick:function(t){var n=t.item;this.disabled(n)||(n.command&&n.command(t),n.to&&t.navigate&&t.navigate(t.originalEvent),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==t.id&&(this.focusedOptionIndex=t.id))},onListFocus:function(t){this.focused=!0,this.popup||(this.selectedOptionIndex!==-1?(this.changeFocusedOptionIndex(this.selectedOptionIndex),this.selectedOptionIndex=-1):this.changeFocusedOptionIndex(0)),this.$emit("focus",t)},onListBlur:function(t){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",t)},onListKeyDown:function(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":this.onEnterKey(t);break;case"Space":this.onSpaceKey(t);break;case"Escape":this.popup&&(R.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey:function(t){var n=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()},onArrowUpKey:function(t){if(t.altKey&&this.popup)R.focus(this.target),this.hide(),t.preventDefault();else{var n=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()}},onHomeKey:function(t){this.changeFocusedOptionIndex(0),t.preventDefault()},onEndKey:function(t){this.changeFocusedOptionIndex(R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),t.preventDefault()},onEnterKey:function(t){var n=R.findSingle(this.list,'li[id="'.concat("".concat(this.focusedOptionIndex),'"]')),a=n&&R.findSingle(n,'a[data-pc-section="action"]');this.popup&&R.focus(this.target),a?a.click():n&&n.click(),t.preventDefault()},onSpaceKey:function(t){this.onEnterKey(t)},findNextOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=bt(n).findIndex(function(r){return r.id===t});return a>-1?a+1:0},findPrevOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=bt(n).findIndex(function(r){return r.id===t});return a>-1?a-1:0},changeFocusedOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=t>=n.length?n.length-1:t<0?0:t;a>-1&&(this.focusedOptionIndex=n[a].getAttribute("id"))},toggle:function(t){this.overlayVisible?this.hide():this.show(t)},show:function(t){this.overlayVisible=!0,this.target=t.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(t){R.addStyles(t,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&le.set("menu",t,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&(R.focus(this.list),this.changeFocusedOptionIndex(0)),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave:function(t){this.autoZIndex&&le.clear(t)},alignOverlay:function(){R.absolutePosition(this.container,this.target),this.container.style.minWidth=R.getOuterWidth(this.target)+"px"},bindOutsideClickListener:function(){var t=this;this.outsideClickListener||(this.outsideClickListener=function(n){var a=t.container&&!t.container.contains(n.target),r=!(t.target&&(t.target===n.target||t.target.contains(n.target)));t.overlayVisible&&a&&r?t.hide():!t.popup&&a&&r&&(t.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new wn(this.target,function(){t.overlayVisible&&t.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&!R.isTouchDevice()&&t.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible:function(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled:function(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label:function(t){return typeof t.label=="function"?t.label():t.label},onOverlayClick:function(t){An.emit("overlay-click",{originalEvent:t,target:this.target})},containerRef:function(t){this.container=t},listRef:function(t){this.list=t}},computed:{focusedOptionId:function(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:zt,Portal:Tt}};function Oe(e){"@babel/helpers - typeof";return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(a){Li(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Li(e,t,n){return t=$i(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $i(e){var t=Ni(e,"string");return Oe(t)==="symbol"?t:String(t)}function Ni(e,t){if(Oe(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Oe(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Di=["id"],Ti=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],Ai=["id"];function Ei(e,t,n,a,r,i){var o=z("PVMenuitem"),h=z("Portal");return s(),g(h,{appendTo:e.appendTo,disabled:!e.popup},{default:$(function(){return[I(st,v({name:"p-connected-overlay",onEnter:i.onEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},e.ptm("transition")),{default:$(function(){return[!e.popup||r.overlayVisible?(s(),c("div",v({key:0,ref:i.containerRef,id:r.id,class:e.cx("root"),onClick:t[3]||(t[3]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)})},wt(wt({},e.$attrs),e.ptm("root")),{"data-pc-name":"menu"}),[e.$slots.start?(s(),c("div",v({key:0,class:e.cx("start")},e.ptm("start")),[P(e.$slots,"start")],16)):_("",!0),d("ul",v({ref:i.listRef,id:r.id+"_list",class:e.cx("menu"),role:"menu",tabindex:e.tabindex,"aria-activedescendant":r.focused?i.focusedOptionId:void 0,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,onFocus:t[0]||(t[0]=function(){return i.onListFocus&&i.onListFocus.apply(i,arguments)}),onBlur:t[1]||(t[1]=function(){return i.onListBlur&&i.onListBlur.apply(i,arguments)}),onKeydown:t[2]||(t[2]=function(){return i.onListKeyDown&&i.onListKeyDown.apply(i,arguments)})},e.ptm("menu")),[(s(!0),c(x,null,ke(e.model,function(l,u){return s(),c(x,{key:i.label(l)+u.toString()},[l.items&&i.visible(l)&&!l.separator?(s(),c(x,{key:0},[l.items?(s(),c("li",v({key:0,id:r.id+"_"+u,class:e.cx("submenuHeader"),role:"none"},e.ptm("submenuHeader")),[P(e.$slots,"item",{item:l},function(){return[X(T(i.label(l)),1)]})],16,Ai)):_("",!0),(s(!0),c(x,null,ke(l.items,function(m,C){return s(),c(x,{key:m.label+u+"_"+C},[i.visible(m)&&!m.separator?(s(),g(o,{key:0,id:r.id+"_"+u+"_"+C,item:m,templates:e.$slots,exact:e.exact,focusedOptionId:i.focusedOptionId,onItemClick:i.itemClick,pt:e.pt},null,8,["id","item","templates","exact","focusedOptionId","onItemClick","pt"])):i.visible(m)&&m.separator?(s(),c("li",v({key:"separator"+u+C,class:[e.cx("separator"),l.class],style:m.style,role:"separator"},e.ptm("separator")),null,16)):_("",!0)],64)}),128))],64)):i.visible(l)&&l.separator?(s(),c("li",v({key:"separator"+u.toString(),class:[e.cx("separator"),l.class],style:l.style,role:"separator"},e.ptm("separator")),null,16)):(s(),g(o,{key:i.label(l)+u.toString(),id:r.id+"_"+u,item:l,index:u,templates:e.$slots,exact:e.exact,focusedOptionId:i.focusedOptionId,onItemClick:i.itemClick,pt:e.pt},null,8,["id","item","index","templates","exact","focusedOptionId","onItemClick","pt"]))],64)}),128))],16,Ti),e.$slots.end?(s(),c("div",v({key:1,class:e.cx("end")},e.ptm("end")),[P(e.$slots,"end")],16)):_("",!0)],16,Di)):_("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])}it.render=Ei;function at(e){"@babel/helpers - typeof";return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(e)}function q(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function B(e){q(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||at(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Ri={};function xi(){return Ri}function kt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function je(e,t){q(2,arguments);var n=B(e),a=B(t),r=n.getTime()-a.getTime();return r<0?-1:r>0?1:r}function ji(e,t){q(2,arguments);var n=B(e),a=B(t),r=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return r*12+i}function Bi(e,t){return q(2,arguments),B(e).getTime()-B(t).getTime()}var _t={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Ui="trunc";function zi(e){return e?_t[e]:_t[Ui]}function Fi(e){q(1,arguments);var t=B(e);return t.setHours(23,59,59,999),t}function Vi(e){q(1,arguments);var t=B(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ki(e){q(1,arguments);var t=B(e);return Fi(t).getTime()===Vi(t).getTime()}function Hi(e,t){q(2,arguments);var n=B(e),a=B(t),r=je(n,a),i=Math.abs(ji(n,a)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*i);var h=je(n,a)===-r;Ki(B(e))&&i===1&&je(e,a)===1&&(h=!1),o=r*(i-Number(h))}return o===0?0:o}function Wi(e,t,n){q(2,arguments);var a=Bi(e,t)/1e3;return zi(n==null?void 0:n.roundingMethod)(a)}var qi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qi=function(t,n,a){var r,i=qi[t];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};const Zi=Qi;function Ve(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,a=e.formats[n]||e.formats[e.defaultWidth];return a}}var Xi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yi={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ji={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gi={date:Ve({formats:Xi,defaultWidth:"full"}),time:Ve({formats:Yi,defaultWidth:"full"}),dateTime:Ve({formats:Ji,defaultWidth:"full"})};const ea=Gi;var ta={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},na=function(t,n,a,r){return ta[t]};const ia=na;function be(e){return function(t,n){var a=n!=null&&n.context?String(n.context):"standalone",r;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var h=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[h]}var u=e.argumentCallback?e.argumentCallback(t):t;return r[u]}}var aa={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ra={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sa={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oa={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},la={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ua={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ca=function(t,n){var a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},da={ordinalNumber:ca,era:be({values:aa,defaultWidth:"wide"}),quarter:be({values:ra,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:be({values:sa,defaultWidth:"wide"}),day:be({values:oa,defaultWidth:"wide"}),dayPeriod:be({values:la,defaultWidth:"wide",formattingValues:ua,defaultFormattingWidth:"wide"})};const ha=da;function Ce(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;var o=i[0],h=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(h)?pa(h,function(C){return C.test(o)}):fa(h,function(C){return C.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var m=t.slice(o.length);return{value:u,rest:m}}}function fa(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function pa(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function ma(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var r=a[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var h=t.slice(r.length);return{value:o,rest:h}}}var va=/^(\d+)(th|st|nd|rd)?/i,ya=/\d+/i,ga={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ba={any:[/^b/i,/^(a|c)/i]},Ca={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wa={any:[/1/i,/2/i,/3/i,/4/i]},ka={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_a={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Oa={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ia={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sa={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pa={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ma={ordinalNumber:ma({matchPattern:va,parsePattern:ya,valueCallback:function(t){return parseInt(t,10)}}),era:Ce({matchPatterns:ga,defaultMatchWidth:"wide",parsePatterns:ba,defaultParseWidth:"any"}),quarter:Ce({matchPatterns:Ca,defaultMatchWidth:"wide",parsePatterns:wa,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ce({matchPatterns:ka,defaultMatchWidth:"wide",parsePatterns:_a,defaultParseWidth:"any"}),day:Ce({matchPatterns:Oa,defaultMatchWidth:"wide",parsePatterns:Ia,defaultParseWidth:"any"}),dayPeriod:Ce({matchPatterns:Sa,defaultMatchWidth:"any",parsePatterns:Pa,defaultParseWidth:"any"})};const La=Ma;var $a={code:"en-US",formatDistance:Zi,formatLong:ea,formatRelative:ia,localize:ha,match:La,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Na=$a;function Ft(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Da(e){return Ft({},e)}var Ot=1440,Ta=2520,Ke=43200,Aa=86400;function Ea(e,t,n){var a,r;q(2,arguments);var i=xi(),o=(a=(r=n==null?void 0:n.locale)!==null&&r!==void 0?r:i.locale)!==null&&a!==void 0?a:Na;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var h=je(e,t);if(isNaN(h))throw new RangeError("Invalid time value");var l=Ft(Da(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:h}),u,m;h>0?(u=B(t),m=B(e)):(u=B(e),m=B(t));var C=Wi(m,u),k=(kt(m)-kt(u))/1e3,f=Math.round((C-k)/60),y;if(f<2)return n!=null&&n.includeSeconds?C<5?o.formatDistance("lessThanXSeconds",5,l):C<10?o.formatDistance("lessThanXSeconds",10,l):C<20?o.formatDistance("lessThanXSeconds",20,l):C<40?o.formatDistance("halfAMinute",0,l):C<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):f===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",f,l);if(f<45)return o.formatDistance("xMinutes",f,l);if(f<90)return o.formatDistance("aboutXHours",1,l);if(f<Ot){var w=Math.round(f/60);return o.formatDistance("aboutXHours",w,l)}else{if(f<Ta)return o.formatDistance("xDays",1,l);if(f<Ke){var S=Math.round(f/Ot);return o.formatDistance("xDays",S,l)}else if(f<Aa)return y=Math.round(f/Ke),o.formatDistance("aboutXMonths",y,l)}if(y=Hi(m,u),y<12){var J=Math.round(f/Ke);return o.formatDistance("xMonths",J,l)}else{var K=y%12,H=Math.floor(y/12);return K<3?o.formatDistance("aboutXYears",H,l):K<9?o.formatDistance("overXYears",H,l):o.formatDistance("almostXYears",H+1,l)}}function Ra(){return{prettifyRelative:t=>Ea(t*1e3,new Date)}}const{fetchEventComments:xa,fetchEventReposts:ja}=me();function Ba(e,{enabled:t}){return ye({queryKey:["ns-thing-comments",e],queryFn(){return xa(b(e))},enabled:t})}function Ua(e,{enabled:t}){return ye({queryKey:["ns-thing-reposts",e],queryFn(){return ja(b(e))},enabled:t})}const Vt=e=>(Nt("data-v-7b6ad372"),e=e(),Dt(),e),za={class:"flex justify-content-between gap-2 pb-0"},Fa={class:"flex"},Va={class:"block text-500 min-w-max font-medium text-sm mt-3"},Ka={class:"ml-1"},Ha={class:"p-3"},Wa={key:0,class:"flex align-items-center justify-content-between border-bottom-1 surface-border"},qa={key:0,class:"flex align-items-center gap-4 px-3"},Qa=Vt(()=>d("i",{class:"pi pi-comments mr-2"},null,-1)),Za={key:1},Xa=Vt(()=>d("i",{class:"pi pi-sync mr-2"},null,-1)),Ya={key:1},Ja={class:"mr-1"},Ga={key:1,class:"metadata-details p-2 inset-shadow-1"},er=A({__name:"NsThing",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){const t=e,n=_n(),a=O(()=>!t.inline&&!t.inThread),{isLoading:r,data:i}=Ba(t.event.id,{enabled:a}),{isLoading:o,data:h}=Ua(t.event.id,{enabled:a}),{prettifyRelative:l}=Ra(),u=V(!1),m=V(),C=S=>{m.value.toggle(S)},k=O(()=>[{label:"Author profile",icon:"pi pi-user",command:()=>{const S=n.resolve({name:re.profile.display,params:{pubkey:t.event.pubkey,feedType:"activity"}});window.open(S.href,"_blank")}},{label:"Open link",icon:"pi pi-user",command:()=>{const S=n.resolve({name:re.events.display,params:{id:t.event.id}});window.open(S.href,"_blank")}},{label:"Mute author",icon:"pi pi-user-minus",class:"danger",command:()=>{}},{label:u.value?"Hide details":"Details",icon:"pi pi-info-circle",command:()=>{u.value=!u.value}}]),f=V(),y=S=>{f.value.toggle(S)},w=O(()=>[{label:u.value?"Hide details":"Details",icon:"pi pi-info-circle",command:()=>{u.value=!u.value}}]);return(S,J)=>{const K=z("router-link");return s(),g(b(lt),{class:se(["ns-thing-component",{"white-box":!e.inThread,"in-thread":e.inThread}])},{header:$(()=>[P(S.$slots,"header",{},void 0,!0)]),content:$(()=>[d("div",za,[I(Bt,{class:"p-3 truncate",pubkey:e.event.pubkey},null,8,["pubkey"]),d("div",Fa,[d("div",Va,T(b(l)(e.event.created_at)),1),d("div",Ka,[I(b(We),{icon:"pi pi-ellipsis-v",class:"pt-3 px-1",text:"",onClick:C,"aria-haspopup":"true","aria-controls":"overlay_menu"}),I(b(it),{ref_key:"optionsMenuRef",ref:m,id:"overlay_menu",model:k.value,popup:!0},null,8,["model"])])])]),P(S.$slots,"content-header",{},void 0,!0),d("div",Ha,[I(mi,{"max-height":240},{default:$(()=>[P(S.$slots,"default",{},void 0,!0)]),_:3})]),P(S.$slots,"content-footer",{},void 0,!0)]),footer:$(()=>{var H;return[e.inline?_("v-if",!0):(s(),c("div",Wa,[d("div",null,[e.inThread?_("v-if",!0):(s(),c("div",qa,[I(K,{to:{name:b(re).events.display,params:{id:e.event.id}}},{default:$(()=>{var ge;return[Qa,b(r)?(s(),g(b(Q),{key:0,class:"inline-block",width:"1rem"})):(s(),c("span",Za,T((ge=b(i))==null?void 0:ge.length),1))]}),_:1},8,["to"]),d("div",null,[Xa,b(o)?(s(),g(b(Q),{key:0,class:"inline-block",width:"1rem"})):(s(),c("span",Ya,T((H=b(h))==null?void 0:H.length),1))])]))]),d("div",Ja,[I(b(We),{icon:"pi pi-cog",class:"px-2 text-color-secondary",text:"",onClick:y,"aria-haspopup":"true","aria-controls":"overlay_menu"}),I(b(it),{ref_key:"settingsMenuRef",ref:f,id:"overlay_menu",model:w.value,popup:!0},null,8,["model"])])])),u.value?(s(),c("div",Ga,[d("pre",null,T(e.event),1)])):_("v-if",!0)]}),_:3},8,["class"])}}});const Ee=E(er,[["__scopeId","data-v-7b6ad372"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsThing/NsThing.vue"]]),tr=A({__name:"NsProfile",props:{event:{type:Object,required:!0}},setup(e){return(t,n)=>(s(),g(Ee,{class:"ns-profile-component",event:e.event},{default:$(()=>[I(tt,{content:e.event.schema.description||"",tags:e.event.tags},null,8,["content","tags"])]),_:1},8,["event"]))}}),nr=E(tr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsProfile/NsProfile.vue"]]),{fetchEvent:ir,fetchAuthor:ar}=me();function rr(e,{enabled:t}){return ye({queryKey:["ns-message-recipient-event",e],queryFn(){return ir(b(e))},enabled:t})}function sr(e,{enabled:t}){return ye({queryKey:["ns-message-recipient-author",e],queryFn(){return ar(b(e))},enabled:t})}const or={key:1,class:"ns-message-recipient"},lr=A({__name:"NsMessageRecipient",props:{event:{type:Object},id:{type:String}},setup(e){const t=e,{isLoading:n,data:a}=rr(t.id,{enabled:!t.event}),r=O(()=>{var m,C;return((m=t.event)==null?void 0:m.pubkey)??((C=a.value)==null?void 0:C.pubkey)??""}),i=O(()=>!!r.value),{isLoading:o,data:h}=sr(r,{enabled:i}),l=O(()=>n.value||o.value),u=O(()=>{var m;return((m=h.value)==null?void 0:m.schema.name)||r.value.slice(0,10)||"????"});return(m,C)=>l.value?(s(),g(b(Q),{key:0,class:"inline-block",height:"0.5rem",width:"7rem"})):(s(),c("span",or,"@"+T(u.value),1))}}),ur=E(lr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/components/NsMessageRecipient/NsMessageRecipient.vue"]]),cr={class:"ns-comment-controller text-color-secondary text-sm"},dr={key:0},hr={key:1,class:"mx-1"},fr={key:2},pr=A({__name:"NsCommentController",props:{event:{type:Object,required:!0}},setup(e){const t=e,{fetch:n}=me(),a=V(!1),r=V(),i=V(),o=V();return Et(async()=>{var h,l,u,m;if(a.value=!0,o.value=(h=t.event.schema.mainEntity)==null?void 0:h["@id"],r.value=(l=t.event.schema.parentItem)==null?void 0:l["@id"],t.event.schema.isPartOf&&(o.value==null||r.value==null)){const C=t.event.tags.filter(y=>y[0]==="e"),k=C.map(y=>y[2]).filter(Boolean),f=await n([{kinds:[1],ids:C.map(y=>y[1])}],{batchId:"events",relays:k});o.value==null&&(o.value=(u=f.find(y=>!y.tags.some(w=>w[0]==="e")))==null?void 0:u.id),r.value==null&&(r.value=(m=f.sort((y,w)=>w.created_at-y.created_at)[0])==null?void 0:m.id)}r.value=r.value||o.value,a.value=!1}),(h,l)=>{const u=z("router-link");return s(),c("div",cr,[r.value?(s(),c("span",dr,[X(" In reply to "),I(u,{class:"text-primary",to:{name:b(re).events.display,params:{id:r.value}}},{default:$(()=>[I(ur,{id:r.value,event:i.value},null,8,["id","event"])]),_:1},8,["to"])])):_("v-if",!0),r.value&&o.value?(s(),c("span",hr,"â€¢")):_("v-if",!0),o.value?(s(),c("span",fr,[I(u,{class:"text-primary",to:{name:b(re).events.display,params:{id:o.value}}},{default:$(()=>[X(" view thread ")]),_:1},8,["to"])])):_("v-if",!0)])}}}),mr=E(pr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/components/NsCommentController.vue"]]);var Kt={name:"RefreshIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(Y())}}},vr=["clipPath"],yr=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z",fill:"currentColor"},null,-1),gr=[yr],br=["id"],Cr=d("rect",{width:"14",height:"14",fill:"white"},null,-1),wr=[Cr];function kr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},gr,8,vr),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},wr,8,br)])],16)}Kt.render=kr;var Ht={name:"SearchMinusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(Y())}}},_r=["clipPath"],Or=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z",fill:"currentColor"},null,-1),Ir=[Or],Sr=["id"],Pr=d("rect",{width:"14",height:"14",fill:"white"},null,-1),Mr=[Pr];function Lr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},Ir,8,_r),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},Mr,8,Sr)])],16)}Ht.render=Lr;var Wt={name:"SearchPlusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(Y())}}},$r=["clipPath"],Nr=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z",fill:"currentColor"},null,-1),Dr=[Nr],Tr=["id"],Ar=d("rect",{width:"14",height:"14",fill:"white"},null,-1),Er=[Ar];function Rr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},Dr,8,$r),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},Er,8,Tr)])],16)}Wt.render=Rr;var qt={name:"UndoIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(Y())}}},xr=["clipPath"],jr=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z",fill:"currentColor"},null,-1),Br=[jr],Ur=["id"],zr=d("rect",{width:"14",height:"14",fill:"white"},null,-1),Fr=[zr];function Vr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},Br,8,xr),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},Fr,8,Ur)])],16)}qt.render=Vr;var Kr=`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-image-preview-container {
    position: relative;
    display: inline-block;
}

.p-image-preview-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
}

.p-image-preview-container:hover > .p-image-preview-indicator {
    opacity: 1;
    cursor: pointer;
}

.p-image-preview-container > img {
    cursor: pointer;
}

.p-image-toolbar {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
}

.p-image-action.p-link {
    display: flex;
    justify-content: center;
    align-items: center;
}

.p-image-preview {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}

.p-image-preview-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-image-preview-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-image-preview-enter-from,
.p-image-preview-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`,Hr={root:function(t){var n=t.props;return["p-image p-component",{"p-image-preview-container":n.preview}]},image:function(t){var n=t.props;return n.image},button:"p-image-preview-indicator",icon:"p-image-preview-icon",mask:"p-image-mask p-component-overlay p-component-overlay-enter",rotateRightButton:"p-image-action p-link",rotateLeftButton:"p-image-action p-link",zoomOutButton:function(t){var n=t.instance;return["p-image-action p-link",{"p-disabled":n.isZoomOutDisabled}]},zoomInButton:function(t){var n=t.instance;return["p-image-action p-link",{"p-disabled":n.isZoomInDisabled}]},closeButton:"p-image-action p-link",preview:"p-image-preview"},Wr=Ue(Kr,{name:"image",manual:!0}),qr=Wr.load,Qr={name:"BaseImage",extends:pe,props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null},indicatorIcon:{type:String,default:void 0},zoomInDisabled:{type:Boolean,default:!1},zoomOutDisabled:{type:Boolean,default:!1}},css:{classes:Hr,loadStyle:qr},provide:function(){return{$parentInstance:this}}},ut={name:"Image",extends:Qr,inheritAttrs:!1,emits:["show","hide","error"],mask:null,data:function(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount:function(){this.mask&&le.clear(this.container)},methods:{maskRef:function(t){this.mask=t},toolbarRef:function(t){this.toolbarRef=t},onImageClick:function(){var t=this;this.preview&&(R.addClass(document.body,"p-overflow-hidden"),this.maskVisible=!0,setTimeout(function(){t.previewVisible=!0},25))},onPreviewImageClick:function(){this.previewClick=!0},onMaskClick:function(t){var n=[t.target.classList].includes("p-image-action")||t.target.closest(".p-image-action");n||(this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1)},onMaskKeydown:function(t){var n=this;switch(t.code){case"Escape":this.hidePreview(),setTimeout(function(){R.focus(n.$refs.previewButton)},200),t.preventDefault();break}},onError:function(){this.$emit("error")},rotateRight:function(){this.rotate+=90,this.previewClick=!0},rotateLeft:function(){this.rotate-=90,this.previewClick=!0},zoomIn:function(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut:function(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter:function(){le.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter:function(){this.focus(),this.$emit("show")},onBeforeLeave:function(){!this.isUnstyled&&R.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(t){le.clear(t),this.maskVisible=!1},focus:function(){var t=this.mask.querySelector("[autofocus]");t&&t.focus()},hidePreview:function(){this.previewVisible=!1,this.rotate=0,this.scale=1,R.removeClass(document.body,"p-overflow-hidden")}},computed:{containerClass:function(){return[this.cx("root"),this.class]},rotateClass:function(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle:function(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},isZoomInDisabled:function(){return this.zoomInDisabled||this.scale>=1.5},isZoomOutDisabled:function(){return this.zoomOutDisabled||this.scale<=.5},rightAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:Tt,EyeIcon:En,RefreshIcon:Kt,UndoIcon:qt,SearchMinusIcon:Ht,SearchPlusIcon:Wt,TimesIcon:On},directives:{focustrap:In}};function Ie(e){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(e)}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?It(Object(n),!0).forEach(function(a){Zr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Zr(e,t,n){return t=Xr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xr(e){var t=Yr(e,"string");return Ie(t)==="symbol"?t:String(t)}function Yr(e,t){if(Ie(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Ie(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jr=["aria-modal"],Gr=["aria-label"],es=["aria-label"],ts=["disabled","aria-label"],ns=["disabled","aria-label"],is=["aria-label"],as=["src"];function rs(e,t,n,a,r,i){var o=z("RefreshIcon"),h=z("UndoIcon"),l=z("SearchMinusIcon"),u=z("SearchPlusIcon"),m=z("TimesIcon"),C=z("Portal"),k=rt("focustrap");return s(),c("span",v({class:i.containerClass,style:e.style},e.ptm("root"),{"data-pc-name":"image"}),[P(e.$slots,"image",{onError:i.onError},function(){return[d("img",v({style:e.imageStyle,class:[e.cx("image"),e.imageClass],onError:t[0]||(t[0]=function(){return i.onError&&i.onError.apply(i,arguments)})},xe(xe({},e.$attrs),e.ptm("image"))),null,16)]}),e.preview?(s(),c("button",v({key:0,ref:"previewButton",type:"button",class:e.cx("button"),onClick:t[1]||(t[1]=function(){return i.onImageClick&&i.onImageClick.apply(i,arguments)})},xe(xe({},e.previewButtonProps),e.ptm("button"))),[P(e.$slots,"indicatoricon",{},function(){return[(s(),g(ue(e.indicatorIcon?"i":"EyeIcon"),v({class:e.cx("icon")},e.ptm("icon")),null,16,["class"]))]})],16)):_("",!0),I(C,null,{default:$(function(){return[r.maskVisible?_e((s(),c("div",v({key:0,ref:i.maskRef,role:"dialog",class:e.cx("mask"),"aria-modal":r.maskVisible,onClick:t[8]||(t[8]=function(){return i.onMaskClick&&i.onMaskClick.apply(i,arguments)}),onKeydown:t[9]||(t[9]=function(){return i.onMaskKeydown&&i.onMaskKeydown.apply(i,arguments)})},e.ptm("mask")),[d("div",v({class:"p-image-toolbar"},e.ptm("toolbar")),[d("button",v({class:e.cx("rotateRightButton"),onClick:t[2]||(t[2]=function(){return i.rotateRight&&i.rotateRight.apply(i,arguments)}),type:"button","aria-label":i.rightAriaLabel},e.ptm("rotateRightButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"refresh",{},function(){return[I(o,G(oe(e.ptm("rotateRightIcon"))),null,16)]})],16,Gr),d("button",v({class:e.cx("rotateLeftButton"),onClick:t[3]||(t[3]=function(){return i.rotateLeft&&i.rotateLeft.apply(i,arguments)}),type:"button","aria-label":i.leftAriaLabel},e.ptm("rotateLeftButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"undo",{},function(){return[I(h,G(oe(e.ptm("rotateLeftIcon"))),null,16)]})],16,es),d("button",v({class:e.cx("zoomOutButton"),onClick:t[4]||(t[4]=function(){return i.zoomOut&&i.zoomOut.apply(i,arguments)}),type:"button",disabled:i.isZoomOutDisabled,"aria-label":i.zoomOutAriaLabel},e.ptm("zoomOutButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"zoomout",{},function(){return[I(l,G(oe(e.ptm("zoomOutIcon"))),null,16)]})],16,ts),d("button",v({class:e.cx("zoomInButton"),onClick:t[5]||(t[5]=function(){return i.zoomIn&&i.zoomIn.apply(i,arguments)}),type:"button",disabled:i.isZoomInDisabled,"aria-label":i.zoomInAriaLabel},e.ptm("zoomInButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"zoomin",{},function(){return[I(u,G(oe(e.ptm("zoomInIcon"))),null,16)]})],16,ns),d("button",v({class:e.cx("closeButton"),type:"button",onClick:t[6]||(t[6]=function(){return i.hidePreview&&i.hidePreview.apply(i,arguments)}),"aria-label":i.closeAriaLabel,autofocus:""},e.ptm("closeButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"close",{},function(){return[I(m,G(oe(e.ptm("closeIcon"))),null,16)]})],16,is)],16),I(st,v({name:"p-image-preview",onBeforeEnter:i.onBeforeEnter,onEnter:i.onEnter,onLeave:i.onLeave,onBeforeLeave:i.onBeforeLeave,onAfterLeave:i.onAfterLeave},e.ptm("transition")),{default:$(function(){return[r.previewVisible?(s(),c("div",G(v({key:0},e.ptm("previewContainer"))),[P(e.$slots,"preview",{class:se(e.cx("preview")),style:$t(i.imagePreviewStyle),onClick:i.onPreviewImageClick},function(){return[d("img",v({src:e.$attrs.src,class:e.cx("preview"),style:i.imagePreviewStyle,onClick:t[7]||(t[7]=function(){return i.onPreviewImageClick&&i.onPreviewImageClick.apply(i,arguments)})},e.ptm("preview")),null,16,as)]})],16)):_("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],16,Jr)),[[k]]):_("",!0)]}),_:3})],16)}ut.render=rs;var ss=`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-tag-icon,
.p-tag-value,
.p-tag-icon.pi {
    line-height: 1.5;
}

.p-tag.p-tag-rounded {
    border-radius: 10rem;
}
`,os={root:function(t){var n=t.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},ls=Ue(ss,{name:"tag",manual:!0}),us=ls.load,cs={name:"BaseTag",extends:pe,props:{value:null,severity:null,rounded:Boolean,icon:String},css:{classes:os,loadStyle:us},provide:function(){return{$parentInstance:this}}},Qt={name:"Tag",extends:cs};function ds(e,t,n,a,r,i){return s(),c("span",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"tag"}),[e.$slots.icon?(s(),g(ue(e.$slots.icon),v({key:0,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):_("",!0),P(e.$slots,"default",{},function(){return[d("span",v({class:e.cx("value")},e.ptm("value")),T(e.value),17)]})],16)}Qt.render=ds;const hs=A({__name:"NsTag",props:{value:{type:String,required:!0},raw:Boolean},setup(e){const t=e;return(n,a)=>{const r=z("router-link");return s(),g(r,{class:"ns-tag-component",to:{name:b(re).tags.display,params:{tag:t.value}}},{default:$(()=>[e.raw?(s(),g(b(We),{key:0,link:"",label:`#${e.value}`,class:"p-0 inline-block"},null,8,["label"])):(s(),c(x,{key:1},[_(' <span text v-if="raw">#{{ value }}</span> '),I(b(Qt),{class:"surface-ground text-color-secondary",value:`#${e.value}`},null,8,["value"])],2112))]),_:1},8,["to"])}}}),fs=E(hs,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsTag/NsTag.vue"]]),ps={class:"ns-kind1-content-component"},ms=["src","alt"],vs=["src"],ys=["src"],gs=["href"],bs=["href"],Cs=A({__name:"NsKind1Content",props:{event:{type:Object,required:!0},skipMedia:Boolean},setup(e){const t=e,n=O(()=>{var f;return Lt({content:((f=t.event.content)==null?void 0:f.trim())??"",tags:t.event.tags}).filter(y=>!(t.skipMedia&&y.type==="link"&&["image","video"].includes(y.value.type)))}),a=f=>f.type==="text",r=f=>f.type==="emoji",i=f=>f.type==="link",o=f=>i(f)&&f.value.type==="image",h=f=>i(f)&&f.value.type==="video",l=f=>i(f)&&f.value.type==="audio",u=f=>f.type==="newline",m=f=>f.type==="topic",C=f=>f.type.match(/^nostr:n(profile|pub|event|ote)$/),k=f=>f.type.match(/^nostr:np(rofile|ub)$/);return(f,y)=>(s(),c("span",ps,[(s(!0),c(x,null,ke(n.value,(w,S)=>(s(),c(x,{key:S},[a(w)?(s(),c(x,{key:0},[X(T(w.value),1)],64)):r(w)?(s(),c("img",{key:1,src:w.value.url,alt:w.value.name,style:{height:"25px"}},null,8,ms)):u(w)?(s(!0),c(x,{key:2},ke(w.value,(J,K)=>(s(),c("br",{key:`newline-${K}`}))),128)):o(w)?(s(),g(b(ut),{key:3,class:"my-4","image-style":"max-width: 100%",src:w.value.url,alt:"image",preview:""},null,8,["src"])):h(w)?(s(),c("video",{key:4,class:"my-4",src:w.value.url,controls:"",style:{"max-width":"100%","max-height":"500px"}},null,8,vs)):l(w)?(s(),c("audio",{key:5,class:"my-4",src:w.value.url,controls:""},[d("a",{href:w.value.url},'{item.value.url.replace(/https?:\\/\\/(www\\.)?/, "")}',8,gs)],8,ys)):m(w)?(s(),g(fs,{key:6,raw:"",value:w.value},null,8,["value"])):k(w)?(s(),g(Bt,{key:7,pubkey:w.value.pubkey,inline:""},null,8,["pubkey"])):C(w)?(s(),g(dt,{key:8,inline:"","skip-media":e.skipMedia,id:w.value.entity||w.value.id,relays:w.value.relays||[],class:"mt-4"},null,8,["skip-media","id","relays"])):i(w)?(s(),c(x,{key:9},[_(" TODO add relay to NsNote"),d("a",{href:w.value.url,target:"_blank"},T(w.value.url),9,bs)],2112)):(s(),c(x,{key:10},[X(T(w.value)+" -- "+T(C(w)),1)],64))],64))),128))]))}}),Zt=E(Cs,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsKind1Content/NsKind1Content.vue"]]),ws=A({__name:"NsComment",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){return(t,n)=>(s(),g(Ee,{event:e.event,inline:e.inline,"in-thread":e.inThread,class:"ns-comment-component"},{default:$(()=>[e.inThread?_("v-if",!0):(s(),g(mr,{key:0,event:e.event,class:"mb-3"},null,8,["event"])),I(Zt,{event:e.event},null,8,["event"])]),_:1},8,["event","inline","in-thread"]))}}),ks=E(ws,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/NsComment.vue"]]),_s=A({__name:"NsNote",props:{event:{type:Object,required:!0},skipMedia:Boolean,inline:Boolean,inThread:Boolean},setup(e){return(t,n)=>(s(),g(Ee,{class:"ns-note-component",event:e.event,inline:e.inline,"in-thread":e.inThread},{header:$(()=>[P(t.$slots,"header")]),default:$(()=>[I(Zt,{event:e.event,"skip-media":e.skipMedia},null,8,["event","skip-media"])]),_:3},8,["event","inline","in-thread"]))}}),Xt=E(_s,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsNote/NsNote.vue"]]);var Yt={name:"MinusIcon",extends:ve},Os=d("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),Is=[Os];function Ss(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),Is,16)}Yt.render=Ss;var Jt={name:"PlusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(Y())}}},Ps=["clipPath"],Ms=d("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1),Ls=[Ms],$s=["id"],Ns=d("rect",{width:"14",height:"14",fill:"white"},null,-1),Ds=[Ns];function Ts(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},Ls,8,Ps),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},Ds,8,$s)])],16)}Jt.render=Ts;var As=`
.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.p-panel-title {
    line-height: 1;
}

.p-panel-header-icon {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
`,Es={root:function(t){var n=t.props;return["p-panel p-component",{"p-panel-toggleable":n.toggleable}]},header:"p-panel-header",title:"p-panel-title",icons:"p-panel-icons",toggler:"p-panel-header-icon p-panel-toggler p-link",toggleablecontent:"p-toggleable-content",content:"p-panel-content",footer:"p-panel-footer"},Rs=Ue(As,{name:"panel",manual:!0}),xs=Rs.load,js={name:"BasePanel",extends:pe,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},css:{classes:Es,loadStyle:xs},provide:function(){return{$parentInstance:this}}},ct={name:"Panel",extends:js,emits:["update:collapsed","toggle"],data:function(){return{d_collapsed:this.collapsed}},watch:{collapsed:function(t){this.d_collapsed=t}},methods:{toggle:function(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})},onKeyDown:function(t){(t.code==="Enter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}},computed:{ariaId:function(){return Y()},buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps["aria-label"]?this.toggleButtonProps["aria-label"]:this.header}},components:{PlusIcon:Jt,MinusIcon:Yt},directives:{ripple:At}};function Se(e){"@babel/helpers - typeof";return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(e)}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?St(Object(n),!0).forEach(function(a){Bs(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Bs(e,t,n){return t=Us(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Us(e){var t=zs(e,"string");return Se(t)==="symbol"?t:String(t)}function zs(e,t){if(Se(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Se(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fs=["id"],Vs=["id","aria-label","aria-controls","aria-expanded"],Ks=["id","aria-labelledby"];function Hs(e,t,n,a,r,i){var o=rt("ripple");return s(),c("div",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"panel"}),[d("div",v({class:e.cx("header")},e.ptm("header")),[P(e.$slots,"header",{id:i.ariaId+"_header",class:se(e.cx("title"))},function(){return[e.header?(s(),c("span",v({key:0,id:i.ariaId+"_header",class:e.cx("title")},e.ptm("title")),T(e.header),17,Fs)):_("",!0)]}),d("div",v({class:e.cx("icons")},e.ptm("icons")),[P(e.$slots,"icons"),e.toggleable?_e((s(),c("button",v({key:0,id:i.ariaId+"_header",type:"button",role:"button",class:e.cx("toggler"),"aria-label":i.buttonAriaLabel,"aria-controls":i.ariaId+"_content","aria-expanded":!r.d_collapsed,onClick:t[0]||(t[0]=function(){return i.toggle&&i.toggle.apply(i,arguments)}),onKeydown:t[1]||(t[1]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)})},Pt(Pt({},e.toggleButtonProps),e.ptm("toggler"))),[P(e.$slots,"togglericon",{collapsed:r.d_collapsed},function(){return[(s(),g(ue(r.d_collapsed?"PlusIcon":"MinusIcon"),G(oe(e.ptm("togglericon"))),null,16))]})],16,Vs)),[[o]]):_("",!0)],16)],16),I(st,v({name:"p-toggleable-content"},e.ptm("transition")),{default:$(function(){return[_e(d("div",v({id:i.ariaId+"_content",class:e.cx("toggleablecontent"),role:"region","aria-labelledby":i.ariaId+"_header"},e.ptm("toggleablecontent")),[d("div",v({class:e.cx("content")},e.ptm("content")),[P(e.$slots,"default")],16),e.$slots.footer?(s(),c("div",v({key:0,class:e.cx("footer")},e.ptm("footer")),[P(e.$slots,"footer")],16)):_("",!0)],16,Ks),[[Sn,!r.d_collapsed]])]}),_:3},16)],16)}ct.render=Hs;const Ws=A({__name:"NsShareAction",props:{event:{type:Object,required:!0}},setup(e){const t=e,n=O(()=>{try{const r=JSON.parse(t.event.content);return Pn(r)}catch{return}}),a=O(()=>{var i;const r=t.event.tags.find(o=>o[0]==="a");if(r)try{const[o,h,l]=r[1].split(":");return Rt.naddrEncode({kind:parseInt(o,10),pubkey:h,identifier:l,relays:r.length>2?[...r[2]]:[]})}catch(o){console.error("unable to decoded a ref",o)}return(i=t.event.tags.find(o=>o[0]==="e"))==null?void 0:i[1]});return(r,i)=>(s(),g(b(ct),{header:"Repost"},{default:$(()=>[I(dt,{event:n.value,id:a.value,"in-thread":""},null,8,["event","id"])]),_:1}))}});const qs=E(Ws,[["__scopeId","data-v-cd4dac36"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsShareAction/NsShareAction.vue"]]),Qs=A({__name:"NsReactAction",props:{event:{type:Object,required:!0}},setup(e){const t=e,n=O(()=>t.event.schema.object);return(a,r)=>(s(),g(b(ct),{header:`Reacted ${e.event.content}`,collapsed:"",toggleable:""},{default:$(()=>[I(dt,{id:n.value,"in-thread":""},null,8,["id"])]),_:1},8,["header"]))}});const Zs=E(Qs,[["__scopeId","data-v-268c3f08"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsReactAction/NsReactAction.vue"]]),Xs={key:0},Ys=d("div",{class:"font-medium"},"Sensitive Content",-1),Js=d("div",{class:"text-color-secondary"}," This media may contain sensitive material. Your media settings are configured to warn you when media may be sensitive. ",-1),Gs=d("div",{class:"text-primary text-sm mt-3"},"Click to view",-1),eo=[Ys,Js,Gs],to=["src"],no=A({__name:"NsMediaContent",props:{value:{type:Object,required:!0}},setup(e){const t=e,n=O(()=>t.value["@type"]==="VideoObject"),a=O(()=>t.value["@type"]==="ImageObject"),r=O(()=>t.value.contentUrl??""),i=V(!1),o=()=>{i.value=!0},{settings:h}=Rn();return(l,u)=>e.value.isSensitiveContent&&!i.value&&!b(h).showSensitiveContent?(s(),c("div",Xs,[d("div",{class:"text-center p-5 m-3 cursor-pointer border-1 border-300 border-round",onClick:o},eo)])):a.value?(s(),g(b(ut),{key:1,src:r.value,alt:"Image",preview:"","image-style":"width: 100%",style:{width:"100%"}},null,8,["src"])):n.value?(s(),c("video",{key:2,src:r.value,controls:"",style:{"max-width":"100%","max-height":"500px"}},null,8,to)):_("v-if",!0)}}),Gt=E(no,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsMediaContent/NsMediaContent.vue"]]),io={class:"text-center"},ao={key:1},ro=A({__name:"NsMediaObject",props:{event:{type:Object,required:!0},inline:Boolean},setup(e){const t=e,n=O(()=>{var a,r,i;return t.event?{"@type":(a=t.event)==null?void 0:a.schema["@type"],contentUrl:(r=t.event)==null?void 0:r.schema.contentUrl,isSensitiveContent:!!((i=t.event)!=null&&i.schema.contentRating)}:void 0});return(a,r)=>(s(),g(Ee,{class:"ns-media-object-component",event:e.event,inline:e.inline},{header:$(()=>[d("div",io,[n.value?(s(),g(Gt,{key:0,value:n.value},null,8,["value"])):(s(),c("div",ao,"no content"))])]),_:1},8,["event","inline"]))}}),so=E(ro,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsMediaObject/NsMediaObject.vue"]]),oo={class:"text-center"},lo=A({__name:"NsSocialMediaPosting",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){const t=e,{fetch:n}=me(),a=V([]);return Et(async()=>{const r=t.event.schema.sharedContent??[],i=r.map(h=>typeof h=="string"&&h.startsWith("nevent1")?Rt.decode(h):null).filter(Boolean);if(i.length){const l=(await n([{ids:i.map(u=>u.data.id)}],{batchId:"NsNote"})).filter(u=>u.schema["@type"]==="ImageObject"||"VideoObject");a.value=l.map(u=>({"@type":u.schema["@type"],contentUrl:u.schema.contentUrl,isSensitiveContent:!!t.event.schema.contentRating||!!u.schema.contentRating}))}const o=r.map(h=>h&&typeof h=="object"&&["ImageObject","VideoObject"].includes(h["@type"])?{"@type":h["@type"],contentUrl:h.contentUrl,isSensitiveContent:!!t.event.schema.contentRating}:null).filter(Boolean);a.value=[...a.value,...o]}),(r,i)=>(s(),g(Xt,{class:"ns-social-media-posting-component",event:e.event,inline:e.inline,"skip-media":!!a.value.length,"in-thread":e.inThread},{header:$(()=>[d("div",oo,[a.value.length?(s(),g(Gt,{key:0,value:a.value[0]},null,8,["value"])):_("v-if",!0)])]),_:1},8,["event","inline","skip-media","in-thread"]))}}),uo=E(lo,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsSocialMediaPosting/NsSocialMediaPosting.vue"]]),{fetchEvent:co}=me();function ho(e,{enabled:t}={enabled:!0}){return ye({queryKey:["ns-event",e],queryFn(){return co(b(e))},enabled:t})}const fo={key:1,class:"ns-event-component"},po=A({__name:"NsEvent",props:{event:{type:Object},relays:{type:Array,default:()=>[]},id:{type:String},comments:{type:Array},reactions:{type:Array},reposts:{type:Array},skipMedia:Boolean,inline:Boolean,inThread:Boolean},setup(e){const t=e,n=Dn(()=>Tn(()=>import("./NsBlogPosting-b422535f.js"),["assets/NsBlogPosting-b422535f.js","assets/index-11704ec7.js","assets/index-ce945204.css","assets/index.esm-1cfec91b.js","assets/use-settings-34f181de.js"])),{isLoading:a,data:r}=ho(t.id,{enabled:!t.event}),i=O(()=>t.event??r.value),o=O(()=>Mn(i.value)),h=O(()=>{var y;return((y=i.value)==null?void 0:y.schema["@type"])==="Person"}),l=O(()=>{var y;return((y=i.value)==null?void 0:y.schema["@type"])==="SocialMediaPosting"}),u=O(()=>Ln(i.value)),m=O(()=>$n(i.value)),C=O(()=>{var y;return((y=i.value)==null?void 0:y.schema["@type"])==="CreativeWork"}),k=O(()=>{var y;return((y=i.value)==null?void 0:y.kind)===1063}),f=O(()=>Nn(i.value));return(y,w)=>b(a)?(s(),g(Xn,{key:0,"in-thread":e.inThread},null,8,["in-thread"])):i.value?(s(),c("div",fo,[o.value?(s(),g(ks,{key:0,event:i.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):f.value?(s(),g(b(n),{key:1,event:i.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):u.value?(s(),g(qs,{key:2,event:i.value},null,8,["event"])):m.value?(s(),g(Zs,{key:3,event:i.value},null,8,["event"])):h.value?(s(),g(nr,{key:4,event:i.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):k.value?(s(),c(x,{key:5},[e.skipMedia?_("v-if",!0):(s(),g(so,{key:0,event:i.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"]))],64)):l.value?(s(),g(uo,{key:6,event:i.value,comments:e.comments,inline:e.inline,"in-thread":e.inThread},null,8,["event","comments","inline","in-thread"])):C.value?(s(),g(Xt,{key:7,event:i.value,comments:e.comments,inline:e.inline,"in-thread":e.inThread},null,8,["event","comments","inline","in-thread"])):(s(),g(Ee,{key:8,event:i.value,inline:e.inline,"in-thread":e.inThread,comments:e.comments,reactions:e.reactions,reposts:e.reposts},{default:$(()=>[d("pre",null,T(i.value),1)]),_:1},8,["event","inline","in-thread","comments","reactions","reposts"]))])):_("v-if",!0)}}),dt=E(po,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsEvent/NsEvent.vue"]]);export{dt as N,Xn as a,tt as b,Gt as c,fs as d,Ee as e,ut as s,ye as u};
