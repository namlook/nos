var He=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var m=(e,t,n)=>(He(e,t,"read from private field"),n?n.call(e):t.get(e)),N=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},$=(e,t,n,a)=>(He(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n);var A=(e,t,n)=>(He(e,t,"access private method"),n);import{Y as tn,$ as Qe,a0 as nn,a1 as yt,a2 as gt,a3 as an,a4 as rn,a5 as sn,a6 as bt,a7 as on,a8 as ln,L as un,a9 as cn,q as _,aa as dn,a as hn,n as xe,ab as Ct,ac as fn,ad as pn,ae as mn,af as vn,ag as yn,z as pe,o as s,c,x as v,v as P,J as I,b as d,d as E,e as S,f as C,_ as x,H as y,w as M,M as se,ah as Tt,F as j,g as ke,S as Q,K as T,h as me,l as re,G as F,m as gn,k as bn,r as H,ai as Cn,aj as At,ak as lt,al as ut,B as ze,U as J,Z as le,D as R,C as wn,E as Et,am as kn,R as xt,O as ct,P as _e,I as ue,T as dt,u as _n,s as Ze,X as Rt,A as ve,N as On,an as In,ao as G,ap as oe,Q as Sn,aq as Pn,ar as Mn,W as $n,as as Ln,at as Nn,au as Dn,av as Tn,aw as An}from"./index-4f138c54.js";import{a as X,O as En,s as xn}from"./index.esm-3f7fdff6.js";import{u as Rn}from"./use-settings-48c8f733.js";var z,L,ce,B,ee,de,W,Pe,he,fe,te,ne,Y,ie,ae,we,Me,Xe,$e,Ye,Le,Je,Ne,Ge,De,et,Te,tt,Ae,nt,Ue,jt,Dt,jn=(Dt=class extends tn{constructor(t,n){super();N(this,ae);N(this,Me);N(this,$e);N(this,Le);N(this,Ne);N(this,De);N(this,Te);N(this,Ae);N(this,Ue);N(this,z,void 0);N(this,L,void 0);N(this,ce,void 0);N(this,B,void 0);N(this,ee,void 0);N(this,de,void 0);N(this,W,void 0);N(this,Pe,void 0);N(this,he,void 0);N(this,fe,void 0);N(this,te,void 0);N(this,ne,void 0);N(this,Y,void 0);N(this,ie,void 0);$(this,L,void 0),$(this,ce,void 0),$(this,B,void 0),$(this,ie,new Set),$(this,z,t),this.options=n,$(this,W,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(m(this,L).addObserver(this),wt(m(this,L),this.options)&&A(this,ae,we).call(this),A(this,Ne,Ge).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return it(m(this,L),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return it(m(this,L),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,A(this,De,et).call(this),A(this,Te,tt).call(this),m(this,L).removeObserver(this)}setOptions(t,n){const a=this.options,r=m(this,L);if(this.options=m(this,z).defaultQueryOptions(t),Qe(a,this.options)||m(this,z).getQueryCache().notify({type:"observerOptionsUpdated",query:m(this,L),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),A(this,Ae,nt).call(this);const i=this.hasListeners();i&&kt(m(this,L),r,this.options,a)&&A(this,ae,we).call(this),this.updateResult(n),i&&(m(this,L)!==r||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&A(this,Me,Xe).call(this);const o=A(this,$e,Ye).call(this);i&&(m(this,L)!==r||this.options.enabled!==a.enabled||o!==m(this,Y))&&A(this,Le,Je).call(this,o)}getOptimisticResult(t){const n=m(this,z).getQueryCache().build(m(this,z),t),a=this.createResult(n,t);return Un(this,a)&&($(this,B,a),$(this,de,this.options),$(this,ee,m(this,L).state)),a}getCurrentResult(){return m(this,B)}trackResult(t){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(m(this,ie).add(a),t[a])})}),n}getCurrentQuery(){return m(this,L)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=m(this,z).defaultQueryOptions(t),a=m(this,z).getQueryCache().build(m(this,z),n);return a.isFetchingOptimistic=!0,a.fetch().then(()=>this.createResult(a,n))}fetch(t){return A(this,ae,we).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),m(this,B)))}createResult(t,n){var vt;const a=m(this,L),r=this.options,i=m(this,B),o=m(this,ee),l=m(this,de),p=t!==a?t.state:m(this,ce),{state:h}=t;let{error:w,errorUpdatedAt:b,fetchStatus:f,status:k}=h,g=!1,O;if(n._optimisticResults){const K=this.hasListeners(),Ke=!K&&wt(t,n),en=K&&kt(t,a,n,r);(Ke||en)&&(f=sn(t.options.networkMode)?"fetching":"paused",h.dataUpdatedAt||(k="pending")),n._optimisticResults==="isRestoring"&&(f="idle")}if(n.select&&typeof h.data<"u")if(i&&h.data===(o==null?void 0:o.data)&&n.select===m(this,Pe))O=m(this,he);else try{$(this,Pe,n.select),O=n.select(h.data),O=bt(i==null?void 0:i.data,O,n),$(this,he,O),$(this,W,null)}catch(K){$(this,W,K)}else O=h.data;if(typeof n.placeholderData<"u"&&typeof O>"u"&&k==="pending"){let K;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))K=i.data;else if(K=typeof n.placeholderData=="function"?n.placeholderData((vt=m(this,fe))==null?void 0:vt.state.data,m(this,fe)):n.placeholderData,n.select&&typeof K<"u")try{K=n.select(K),$(this,W,null)}catch(Ke){$(this,W,Ke)}typeof K<"u"&&(k="success",O=bt(i==null?void 0:i.data,K,n),g=!0)}m(this,W)&&(w=m(this,W),O=m(this,he),b=Date.now(),k="error");const D=f==="fetching",q=k==="pending",V=k==="error",ge=q&&D;return{status:k,fetchStatus:f,isPending:q,isSuccess:k==="success",isError:V,isInitialLoading:ge,isLoading:ge,data:O,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>p.dataUpdateCount||h.errorUpdateCount>p.errorUpdateCount,isFetching:D,isRefetching:D&&!q,isLoadingError:V&&h.dataUpdatedAt===0,isPaused:f==="paused",isPlaceholderData:g,isRefetchError:V&&h.dataUpdatedAt!==0,isStale:ht(t,n),refetch:this.refetch}}updateResult(t){const n=m(this,B),a=this.createResult(m(this,L),this.options);if($(this,ee,m(this,L).state),$(this,de,this.options),Qe(a,n))return;m(this,ee).data!==void 0&&$(this,fe,m(this,L)),$(this,B,a);const r={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!m(this,ie).size)return!0;const u=new Set(l??m(this,ie));return this.options.throwOnError&&u.add("error"),Object.keys(m(this,B)).some(p=>{const h=p;return m(this,B)[h]!==n[h]&&u.has(h)})};(t==null?void 0:t.listeners)!==!1&&i()&&(r.listeners=!0),A(this,Ue,jt).call(this,{...r,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&A(this,Ne,Ge).call(this)}},z=new WeakMap,L=new WeakMap,ce=new WeakMap,B=new WeakMap,ee=new WeakMap,de=new WeakMap,W=new WeakMap,Pe=new WeakMap,he=new WeakMap,fe=new WeakMap,te=new WeakMap,ne=new WeakMap,Y=new WeakMap,ie=new WeakMap,ae=new WeakSet,we=function(t){A(this,Ae,nt).call(this);let n=m(this,L).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(nn)),n},Me=new WeakSet,Xe=function(){if(A(this,De,et).call(this),yt||m(this,B).isStale||!gt(this.options.staleTime))return;const n=an(m(this,B).dataUpdatedAt,this.options.staleTime)+1;$(this,te,setTimeout(()=>{m(this,B).isStale||this.updateResult()},n))},$e=new WeakSet,Ye=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(m(this,L)):this.options.refetchInterval)??!1},Le=new WeakSet,Je=function(t){A(this,Te,tt).call(this),$(this,Y,t),!(yt||this.options.enabled===!1||!gt(m(this,Y))||m(this,Y)===0)&&$(this,ne,setInterval(()=>{(this.options.refetchIntervalInBackground||rn.isFocused())&&A(this,ae,we).call(this)},m(this,Y)))},Ne=new WeakSet,Ge=function(){A(this,Me,Xe).call(this),A(this,Le,Je).call(this,A(this,$e,Ye).call(this))},De=new WeakSet,et=function(){m(this,te)&&(clearTimeout(m(this,te)),$(this,te,void 0))},Te=new WeakSet,tt=function(){m(this,ne)&&(clearInterval(m(this,ne)),$(this,ne,void 0))},Ae=new WeakSet,nt=function(){const t=m(this,z).getQueryCache().build(m(this,z),this.options);if(t===m(this,L))return;const n=m(this,L);$(this,L,t),$(this,ce,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ue=new WeakSet,jt=function(t){on.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(m(this,B))}),m(this,z).getQueryCache().notify({query:m(this,L),type:"observerResultsUpdated"})})},Dt);function Bn(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wt(e,t){return Bn(e,t)||e.state.dataUpdatedAt>0&&it(e,t,t.refetchOnMount)}function it(e,t,n){if(t.enabled!==!1){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&ht(e,t)}return!1}function kt(e,t,n,a){return n.enabled!==!1&&(e!==t||a.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&ht(e,n)}function ht(e,t){return e.isStaleByTime(t.staleTime)}function Un(e,t){return!Qe(e.getCurrentResult(),t)}function zn(e=""){if(!ln())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=cn(e),n=un(t);if(!n)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return n}function Fn(e,t,n){yn()||console.warn('vue-query composables like "useQuery()" should only be used inside a "setup()" function or a running effect scope. They might otherwise lead to memory leaks.');const a=n||zn(),r=_(()=>{const b=dn(t);typeof b.enabled=="function"&&(b.enabled=b.enabled());const f=a.defaultQueryOptions(b);return f._optimisticResults=a.isRestoring.value?"isRestoring":"optimistic",f}),i=new e(a,r.value),o=hn(i.getCurrentResult());let l=()=>{};xe(a.isRestoring,b=>{b||(l(),l=i.subscribe(f=>{Ct(o,f)}))},{immediate:!0});const u=()=>{i.setOptions(r.value),Ct(o,i.getCurrentResult())};xe(r,u),fn(()=>{l()});const p=(...b)=>(u(),o.refetch(...b)),h=()=>new Promise((b,f)=>{let k=()=>{};const g=()=>{if(r.value.enabled!==!1){i.setOptions(r.value);const O=i.getOptimisticResult(r.value);O.isStale?(k(),i.fetchOptimistic(r.value).then(b,f)):(k(),b(O))}};g(),k=xe(r,g)});xe(()=>o.error,b=>{if(o.isError&&!o.isFetching&&pn(r.value.throwOnError,[b,i.getCurrentQuery()]))throw b});const w=mn(vn(o));for(const b in o)typeof o[b]=="function"&&(w[b]=o[b]);return w.suspense=h,w.refetch=p,w}function ye(e,t){return Fn(jn,e,t)}var Vn={root:"p-card p-component",header:"p-card-header",body:"p-card-body",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},Kn={name:"BaseCard",extends:pe,css:{classes:Vn}},ft={name:"Card",extends:Kn};function Hn(e,t,n,a,r,i){return s(),c("div",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"card"}),[e.$slots.header?(s(),c("div",v({key:0,class:e.cx("header")},e.ptm("header")),[P(e.$slots,"header")],16)):I("",!0),d("div",v({class:e.cx("body")},e.ptm("body")),[e.$slots.title?(s(),c("div",v({key:0,class:e.cx("title")},e.ptm("title")),[P(e.$slots,"title")],16)):I("",!0),e.$slots.subtitle?(s(),c("div",v({key:1,class:e.cx("subtitle")},e.ptm("subtitle")),[P(e.$slots,"subtitle")],16)):I("",!0),d("div",v({class:e.cx("content")},e.ptm("content")),[P(e.$slots,"content")],16),e.$slots.footer?(s(),c("div",v({key:2,class:e.cx("footer")},e.ptm("footer")),[P(e.$slots,"footer")],16)):I("",!0)],16)],16)}ft.render=Hn;const qn={class:"ns-author-skeleton-component flex gap-2"},Wn=E({__name:"NsAuthorSkeleton",setup(e){return(t,n)=>(s(),c("div",qn,[S(C(X),{shape:"circle",size:"3rem"}),d("div",null,[S(C(X),{width:"10rem",height:"1rem",class:"mb-3 mt-1"}),S(C(X),{width:"5rem",height:".5rem"})])]))}}),Bt=x(Wn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsAuthorSkeleton/NsAuthorSkeleton.vue"]]),Qn={class:"p-3"},Zn={class:"flex justify-content-between"},Xn=E({__name:"NsNoteSkeleton",props:{inThread:Boolean},setup(e){return(t,n)=>(s(),y(C(ft),{class:se({"white-box":!e.inThread})},{content:M(()=>[d("div",Qn,[d("div",Zn,[S(Bt),S(C(X),{height:".5rem",width:"5rem"})]),S(C(X),{width:"100%",height:"10rem",class:"mt-3"})])]),_:1},8,["class"]))}}),Yn=x(Xn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsNoteSkeleton/NsNoteSkeleton.vue"]]),Jn=["src","alt"],Gn=E({__name:"NsEmojiedContent",props:{content:{type:String,required:!0},tags:{type:Array,required:!0}},setup(e){const t=e,n=_(()=>Tt({content:t.content??"",tags:t.tags})),a=r=>r.type==="emoji";return(r,i)=>(s(),c("span",null,[(s(!0),c(j,null,ke(n.value,(o,l)=>(s(),c(j,{key:l},[a(o)?(s(),c("img",{key:0,src:o.value.url,alt:o.value.name,style:{height:"20px"}},null,8,Jn)):(s(),c(j,{key:1},[Q(T(o.raw),1)],64))],64))),128))]))}}),at=x(Gn,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsEmojiedContent/NsEmojiedContent.vue"]]),{fetchAuthor:ei}=me();function ti(e){return ye({queryKey:["ns-author",e],queryFn(){return ei(C(e))}})}const ni={key:0},ii={key:1},ai={key:1,class:"cursor-pointer"},ri={key:1,class:"flex align-items-start mr-0 lg:mr-5"},si=["src"],oi={class:"text-700 text-xs"},li=E({__name:"NsAuthor",props:{pubkey:{type:String,required:!0},inline:Boolean,loading:Boolean},setup(e){const t=e,n=_(()=>t.pubkey),{isLoading:a,data:r}=ti(n),i=_(()=>{var h;try{return JSON.parse(((h=r.value)==null?void 0:h.content)??"{}")}catch(w){console.error(w);return}}),o=_(()=>{var h;return(h=r.value)==null?void 0:h.schema}),l=_(()=>{var h;return((h=r.value)==null?void 0:h.schema.name)||t.pubkey.slice(0,10)}),u=_(()=>{var h;return((h=i.value)==null?void 0:h.nip05)||t.pubkey.slice(0,10)}),p=_(()=>({name:re.profile.display,params:{pubkey:t.pubkey,feedType:"activity"}}));return(h,w)=>{const b=F("router-link");return s(),y(b,{to:p.value},{default:M(()=>{var f,k;return[e.inline?(s(),c("span",ni,[C(a)?(s(),y(C(X),{key:0,height:"1rem",width:"10rem",class:"inline-block"})):(s(),y(b,{key:1,to:p.value},{default:M(()=>[C(r)?(s(),y(at,{key:0,content:`@${l.value}`,tags:C(r).tags},null,8,["content","tags"])):(s(),c("span",ii,"@"+T(l.value),1))]),_:1},8,["to"]))])):(s(),c("div",ai,[C(a)?(s(),y(Bt,{key:0})):I("v-if",!0),C(r)?(s(),c("div",ri,[(f=o.value)!=null&&f.image?(s(),c("img",{key:0,src:(k=o.value)==null?void 0:k.image,class:"border-circle mr-3 w-3rem h-3rem"},null,8,si)):I("v-if",!0),d("div",null,[S(at,{class:"text-900 font-medium block mb-2",content:l.value,tags:C(r).tags},null,8,["content","tags"]),d("div",oi,T(u.value),1)])])):I("v-if",!0)]))]}),_:1},8,["to"])}}}),Fe=x(li,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsAuthor/NsAuthor.vue"]]),Ut=e=>(lt("data-v-98455f12"),e=e(),ut(),e),ui={class:"flex align-items-center gap-2 text-primary"},ci=Ut(()=>d("i",{class:"pi pi-chevron-down"},null,-1)),di={class:"flex align-items-center gap-2 text-primary"},hi=Ut(()=>d("i",{class:"pi pi-chevron-up"},null,-1)),fi=40,pi=20,mi=E({__name:"NsCollapsible",props:gn({maxHeight:{type:Number,default:110},openLabel:{type:String,default:"more"},closeLabel:{type:String,default:"hide"}},{modelValue:{type:Boolean,default:()=>!0,local:!0}}),emits:["update:modelValue"],setup(e){const t=e,n=bn(e,"modelValue",{local:!0}),a=H(null),r=H(!0),i=H(0);Cn(a,l=>{const u=l[0],{height:p}=u.contentRect;r.value=p>t.maxHeight,i.value=p+fi});const o=_(()=>r.value?n.value?`${t.maxHeight+pi+10}px`:`${i.value+10}px`:"auto");return(l,u)=>(s(),c("div",{class:se(["ns-collapsible-component",{"pb-3":r.value}]),style:At({height:o.value})},[d("div",{ref_key:"slotRef",ref:a},[P(l.$slots,"default",{},void 0,!0)],512),r.value&&n.value?(s(),c("div",{key:0,class:"ns-collapsible-gradient-overlay ns-collapsible-gradient-overlay-closed align-items-end",onClick:u[0]||(u[0]=p=>n.value=!n.value),onKeydown:u[1]||(u[1]=p=>n.value=!n.value)},[d("div",ui,[ci,Q(" "+T(e.openLabel),1)])],32)):I("v-if",!0),r.value&&!n.value?(s(),c("div",{key:1,class:"ns-collapsible-gradient-overlay ns-collapsible-gradient-overlay-open align-items-end",onClick:u[2]||(u[2]=p=>n.value=!n.value),onKeydown:u[3]||(u[3]=p=>n.value=!n.value)},[d("div",di,[hi,Q(" "+T(e.closeLabel),1)])],32)):I("v-if",!0)],6))}});const vi=x(mi,[["__scopeId","data-v-98455f12"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsCollapsible/NsCollapsible.vue"]]);var yi=`
.p-menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}

.p-menu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}

.p-menu .p-menuitem-text {
    line-height: 1;
}
`,gi={root:function(t){var n=t.instance,a=t.props;return["p-menu p-component",{"p-menu-overlay":a.popup,"p-input-filled":n.$primevue.config.inputStyle==="filled","p-ripple-disabled":n.$primevue.config.ripple===!1}]},start:"p-menu-start",menu:"p-menu-list p-reset",submenuHeader:"p-submenu-header",separator:"p-menuitem-separator",end:"p-menu-end",menuitem:function(t){var n=t.instance;return["p-menuitem",{"p-focus":n.id===n.focusedOptionId,"p-disabled":n.disabled()}]},content:"p-menuitem-content",action:function(t){var n=t.props,a=t.isActive,r=t.isExactActive;return["p-menuitem-link",{"router-link-active":a,"router-link-active-exact":n.exact&&r}]},icon:"p-menuitem-icon",label:"p-menuitem-text"},bi=ze(yi,{name:"menu",manual:!0}),Ci=bi.load,wi={name:"BaseMenu",extends:pe,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},css:{classes:gi,loadStyle:Ci},provide:function(){return{$parentInstance:this}}},zt={name:"Menuitem",hostName:"Menu",extends:pe,inheritAttrs:!1,emits:["item-click"],props:{item:null,templates:null,exact:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(t,n){return t&&t.item?kn.getItemValue(t.item[n]):void 0},getPTOptions:function(t){return this.ptm(t,{context:{item:this.item,index:this.index,focused:this.isItemFocused()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemActionClick:function(t,n){n&&n(t)},onItemClick:function(t){var n=this.getItemProp(this.item,"command");n&&n({originalEvent:t,item:this.item.item}),this.$emit("item-click",{originalEvent:t,item:this.item,id:this.id})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label}},directives:{ripple:xt}},ki=["id","aria-label","aria-disabled","data-p-focused","data-p-disabled"],_i=["href","onClick"],Oi=["href","target"];function Ii(e,t,n,a,r,i){var o=F("router-link"),l=ct("ripple");return i.visible()?(s(),c("li",v({key:0,id:n.id,class:[e.cx("menuitem"),n.item.class],role:"menuitem",style:n.item.style,"aria-label":i.label(),"aria-disabled":i.disabled()},i.getPTOptions("menuitem"),{"data-p-focused":i.isItemFocused(),"data-p-disabled":i.disabled()||!1}),[d("div",v({class:e.cx("content"),onClick:t[0]||(t[0]=function(u){return i.onItemClick(u)})},i.getPTOptions("content")),[n.templates.item?(s(),y(ue(n.templates.item),{key:1,item:n.item},null,8,["item"])):(s(),c(j,{key:0},[n.item.to&&!i.disabled()?(s(),y(o,{key:0,to:n.item.to,custom:""},{default:M(function(u){var p=u.navigate,h=u.href,w=u.isActive,b=u.isExactActive;return[_e((s(),c("a",v({href:h,class:e.cx("action",{isActive:w,isExactActive:b}),tabindex:"-1","aria-hidden":"true",onClick:function(k){return i.onItemActionClick(k,p)}},i.getPTOptions("action")),[n.templates.itemicon?(s(),y(ue(n.templates.itemicon),{key:0,item:n.item,class:se([e.cx("icon"),n.item.icon])},null,8,["item","class"])):n.item.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),n.item.icon]},i.getPTOptions("icon")),null,16)):I("",!0),d("span",v({class:e.cx("label")},i.getPTOptions("label")),T(i.label()),17)],16,_i)),[[l]])]}),_:1},8,["to"])):_e((s(),c("a",v({key:1,href:n.item.url,class:e.cx("action"),target:n.item.target,tabindex:"-1","aria-hidden":"true"},i.getPTOptions("action")),[n.templates.itemicon?(s(),y(ue(n.templates.itemicon),{key:0,item:n.item,class:se([e.cx("icon"),n.item.icon])},null,8,["item","class"])):n.item.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),n.item.icon]},i.getPTOptions("icon")),null,16)):I("",!0),d("span",v({class:e.cx("label")},i.getPTOptions("label")),T(i.label()),17)],16,Oi)),[[l]])],64))],16)],16,ki)):I("",!0)}zt.render=Ii;function _t(e){return $i(e)||Mi(e)||Pi(e)||Si()}function Si(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pi(e,t){if(e){if(typeof e=="string")return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}}function Mi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $i(e){if(Array.isArray(e))return rt(e)}function rt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var st={name:"Menu",extends:wi,inheritAttrs:!1,emits:["show","hide","focus","blur"],data:function(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(t){this.id=t||J()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.id=this.id||J(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&le.clear(this.container),this.container=null},methods:{itemClick:function(t){var n=t.item;this.disabled(n)||(n.command&&n.command(t),n.to&&t.navigate&&t.navigate(t.originalEvent),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==t.id&&(this.focusedOptionIndex=t.id))},onListFocus:function(t){this.focused=!0,this.popup||(this.selectedOptionIndex!==-1?(this.changeFocusedOptionIndex(this.selectedOptionIndex),this.selectedOptionIndex=-1):this.changeFocusedOptionIndex(0)),this.$emit("focus",t)},onListBlur:function(t){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",t)},onListKeyDown:function(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":this.onEnterKey(t);break;case"Space":this.onSpaceKey(t);break;case"Escape":this.popup&&(R.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey:function(t){var n=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()},onArrowUpKey:function(t){if(t.altKey&&this.popup)R.focus(this.target),this.hide(),t.preventDefault();else{var n=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(n),t.preventDefault()}},onHomeKey:function(t){this.changeFocusedOptionIndex(0),t.preventDefault()},onEndKey:function(t){this.changeFocusedOptionIndex(R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),t.preventDefault()},onEnterKey:function(t){var n=R.findSingle(this.list,'li[id="'.concat("".concat(this.focusedOptionIndex),'"]')),a=n&&R.findSingle(n,'a[data-pc-section="action"]');this.popup&&R.focus(this.target),a?a.click():n&&n.click(),t.preventDefault()},onSpaceKey:function(t){this.onEnterKey(t)},findNextOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=_t(n).findIndex(function(r){return r.id===t});return a>-1?a+1:0},findPrevOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=_t(n).findIndex(function(r){return r.id===t});return a>-1?a-1:0},changeFocusedOptionIndex:function(t){var n=R.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),a=t>=n.length?n.length-1:t<0?0:t;a>-1&&(this.focusedOptionIndex=n[a].getAttribute("id"))},toggle:function(t){this.overlayVisible?this.hide():this.show(t)},show:function(t){this.overlayVisible=!0,this.target=t.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(t){R.addStyles(t,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&le.set("menu",t,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&(R.focus(this.list),this.changeFocusedOptionIndex(0)),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave:function(t){this.autoZIndex&&le.clear(t)},alignOverlay:function(){R.absolutePosition(this.container,this.target),this.container.style.minWidth=R.getOuterWidth(this.target)+"px"},bindOutsideClickListener:function(){var t=this;this.outsideClickListener||(this.outsideClickListener=function(n){var a=t.container&&!t.container.contains(n.target),r=!(t.target&&(t.target===n.target||t.target.contains(n.target)));t.overlayVisible&&a&&r?t.hide():!t.popup&&a&&r&&(t.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new wn(this.target,function(){t.overlayVisible&&t.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&!R.isTouchDevice()&&t.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible:function(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled:function(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label:function(t){return typeof t.label=="function"?t.label():t.label},onOverlayClick:function(t){En.emit("overlay-click",{originalEvent:t,target:this.target})},containerRef:function(t){this.container=t},listRef:function(t){this.list=t}},computed:{focusedOptionId:function(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:zt,Portal:Et}};function Oe(e){"@babel/helpers - typeof";return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(e)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ot(Object(n),!0).forEach(function(a){Li(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Li(e,t,n){return t=Ni(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e){var t=Di(e,"string");return Oe(t)==="symbol"?t:String(t)}function Di(e,t){if(Oe(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Oe(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ti=["id"],Ai=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],Ei=["id"];function xi(e,t,n,a,r,i){var o=F("PVMenuitem"),l=F("Portal");return s(),y(l,{appendTo:e.appendTo,disabled:!e.popup},{default:M(function(){return[S(dt,v({name:"p-connected-overlay",onEnter:i.onEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},e.ptm("transition")),{default:M(function(){return[!e.popup||r.overlayVisible?(s(),c("div",v({key:0,ref:i.containerRef,id:r.id,class:e.cx("root"),onClick:t[3]||(t[3]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)})},It(It({},e.$attrs),e.ptm("root")),{"data-pc-name":"menu"}),[e.$slots.start?(s(),c("div",v({key:0,class:e.cx("start")},e.ptm("start")),[P(e.$slots,"start")],16)):I("",!0),d("ul",v({ref:i.listRef,id:r.id+"_list",class:e.cx("menu"),role:"menu",tabindex:e.tabindex,"aria-activedescendant":r.focused?i.focusedOptionId:void 0,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,onFocus:t[0]||(t[0]=function(){return i.onListFocus&&i.onListFocus.apply(i,arguments)}),onBlur:t[1]||(t[1]=function(){return i.onListBlur&&i.onListBlur.apply(i,arguments)}),onKeydown:t[2]||(t[2]=function(){return i.onListKeyDown&&i.onListKeyDown.apply(i,arguments)})},e.ptm("menu")),[(s(!0),c(j,null,ke(e.model,function(u,p){return s(),c(j,{key:i.label(u)+p.toString()},[u.items&&i.visible(u)&&!u.separator?(s(),c(j,{key:0},[u.items?(s(),c("li",v({key:0,id:r.id+"_"+p,class:e.cx("submenuHeader"),role:"none"},e.ptm("submenuHeader")),[P(e.$slots,"item",{item:u},function(){return[Q(T(i.label(u)),1)]})],16,Ei)):I("",!0),(s(!0),c(j,null,ke(u.items,function(h,w){return s(),c(j,{key:h.label+p+"_"+w},[i.visible(h)&&!h.separator?(s(),y(o,{key:0,id:r.id+"_"+p+"_"+w,item:h,templates:e.$slots,exact:e.exact,focusedOptionId:i.focusedOptionId,onItemClick:i.itemClick,pt:e.pt},null,8,["id","item","templates","exact","focusedOptionId","onItemClick","pt"])):i.visible(h)&&h.separator?(s(),c("li",v({key:"separator"+p+w,class:[e.cx("separator"),u.class],style:h.style,role:"separator"},e.ptm("separator")),null,16)):I("",!0)],64)}),128))],64)):i.visible(u)&&u.separator?(s(),c("li",v({key:"separator"+p.toString(),class:[e.cx("separator"),u.class],style:u.style,role:"separator"},e.ptm("separator")),null,16)):(s(),y(o,{key:i.label(u)+p.toString(),id:r.id+"_"+p,item:u,index:p,templates:e.$slots,exact:e.exact,focusedOptionId:i.focusedOptionId,onItemClick:i.itemClick,pt:e.pt},null,8,["id","item","index","templates","exact","focusedOptionId","onItemClick","pt"]))],64)}),128))],16,Ai),e.$slots.end?(s(),c("div",v({key:1,class:e.cx("end")},e.ptm("end")),[P(e.$slots,"end")],16)):I("",!0)],16,Ti)):I("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])}st.render=xi;function ot(e){"@babel/helpers - typeof";return ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(e)}function Z(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function U(e){Z(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ot(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Ri={};function ji(){return Ri}function St(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function je(e,t){Z(2,arguments);var n=U(e),a=U(t),r=n.getTime()-a.getTime();return r<0?-1:r>0?1:r}function Bi(e,t){Z(2,arguments);var n=U(e),a=U(t),r=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return r*12+i}function Ui(e,t){return Z(2,arguments),U(e).getTime()-U(t).getTime()}var Pt={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},zi="trunc";function Fi(e){return e?Pt[e]:Pt[zi]}function Vi(e){Z(1,arguments);var t=U(e);return t.setHours(23,59,59,999),t}function Ki(e){Z(1,arguments);var t=U(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Hi(e){Z(1,arguments);var t=U(e);return Vi(t).getTime()===Ki(t).getTime()}function qi(e,t){Z(2,arguments);var n=U(e),a=U(t),r=je(n,a),i=Math.abs(Bi(n,a)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*i);var l=je(n,a)===-r;Hi(U(e))&&i===1&&je(e,a)===1&&(l=!1),o=r*(i-Number(l))}return o===0?0:o}function Wi(e,t,n){Z(2,arguments);var a=Ui(e,t)/1e3;return Fi(n==null?void 0:n.roundingMethod)(a)}var Qi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zi=function(t,n,a){var r,i=Qi[t];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};const Xi=Zi;function qe(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,a=e.formats[n]||e.formats[e.defaultWidth];return a}}var Yi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ji={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gi={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ea={date:qe({formats:Yi,defaultWidth:"full"}),time:qe({formats:Ji,defaultWidth:"full"}),dateTime:qe({formats:Gi,defaultWidth:"full"})};const ta=ea;var na={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ia=function(t,n,a,r){return na[t]};const aa=ia;function be(e){return function(t,n){var a=n!=null&&n.context?String(n.context):"standalone",r;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[u]||e.values[l]}var p=e.argumentCallback?e.argumentCallback(t):t;return r[p]}}var ra={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sa={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oa={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},la={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ua={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ca={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},da=function(t,n){var a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},ha={ordinalNumber:da,era:be({values:ra,defaultWidth:"wide"}),quarter:be({values:sa,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:be({values:oa,defaultWidth:"wide"}),day:be({values:la,defaultWidth:"wide"}),dayPeriod:be({values:ua,defaultWidth:"wide",formattingValues:ca,defaultFormattingWidth:"wide"})};const fa=ha;function Ce(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;var o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?ma(l,function(w){return w.test(o)}):pa(l,function(w){return w.test(o)}),p;p=e.valueCallback?e.valueCallback(u):u,p=n.valueCallback?n.valueCallback(p):p;var h=t.slice(o.length);return{value:p,rest:h}}}function pa(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function ma(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function va(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var r=a[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(r.length);return{value:o,rest:l}}}var ya=/^(\d+)(th|st|nd|rd)?/i,ga=/\d+/i,ba={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ca={any:[/^b/i,/^(a|c)/i]},wa={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ka={any:[/1/i,/2/i,/3/i,/4/i]},_a={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ia={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sa={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pa={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ma={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$a={ordinalNumber:va({matchPattern:ya,parsePattern:ga,valueCallback:function(t){return parseInt(t,10)}}),era:Ce({matchPatterns:ba,defaultMatchWidth:"wide",parsePatterns:Ca,defaultParseWidth:"any"}),quarter:Ce({matchPatterns:wa,defaultMatchWidth:"wide",parsePatterns:ka,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ce({matchPatterns:_a,defaultMatchWidth:"wide",parsePatterns:Oa,defaultParseWidth:"any"}),day:Ce({matchPatterns:Ia,defaultMatchWidth:"wide",parsePatterns:Sa,defaultParseWidth:"any"}),dayPeriod:Ce({matchPatterns:Pa,defaultMatchWidth:"any",parsePatterns:Ma,defaultParseWidth:"any"})};const La=$a;var Na={code:"en-US",formatDistance:Xi,formatLong:ta,formatRelative:aa,localize:fa,match:La,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Da=Na;function Ft(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ta(e){return Ft({},e)}var Mt=1440,Aa=2520,We=43200,Ea=86400;function xa(e,t,n){var a,r;Z(2,arguments);var i=ji(),o=(a=(r=n==null?void 0:n.locale)!==null&&r!==void 0?r:i.locale)!==null&&a!==void 0?a:Da;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=je(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var u=Ft(Ta(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:l}),p,h;l>0?(p=U(t),h=U(e)):(p=U(e),h=U(t));var w=Wi(h,p),b=(St(h)-St(p))/1e3,f=Math.round((w-b)/60),k;if(f<2)return n!=null&&n.includeSeconds?w<5?o.formatDistance("lessThanXSeconds",5,u):w<10?o.formatDistance("lessThanXSeconds",10,u):w<20?o.formatDistance("lessThanXSeconds",20,u):w<40?o.formatDistance("halfAMinute",0,u):w<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):f===0?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",f,u);if(f<45)return o.formatDistance("xMinutes",f,u);if(f<90)return o.formatDistance("aboutXHours",1,u);if(f<Mt){var g=Math.round(f/60);return o.formatDistance("aboutXHours",g,u)}else{if(f<Aa)return o.formatDistance("xDays",1,u);if(f<We){var O=Math.round(f/Mt);return o.formatDistance("xDays",O,u)}else if(f<Ea)return k=Math.round(f/We),o.formatDistance("aboutXMonths",k,u)}if(k=qi(h,p),k<12){var D=Math.round(f/We);return o.formatDistance("xMonths",D,u)}else{var q=k%12,V=Math.floor(k/12);return q<3?o.formatDistance("aboutXYears",V,u):q<9?o.formatDistance("overXYears",V,u):o.formatDistance("almostXYears",V+1,u)}}function Ra(){return{prettifyRelative:t=>xa(t*1e3,new Date)}}const{fetchEventComments:ja,fetchEventReposts:Ba}=me();function Ua(e,{enabled:t}){return ye({queryKey:["ns-thing-comments",e],queryFn(){return ja(C(e))},enabled:t})}function za(e,{enabled:t}){return ye({queryKey:["ns-thing-reposts",e],queryFn(){return Ba(C(e))},enabled:t})}const Vt=e=>(lt("data-v-7b6ad372"),e=e(),ut(),e),Fa={class:"flex justify-content-between gap-2 pb-0"},Va={class:"flex"},Ka={class:"block text-500 min-w-max font-medium text-sm mt-3"},Ha={class:"ml-1"},qa={class:"p-3"},Wa={key:0,class:"flex align-items-center justify-content-between border-bottom-1 surface-border"},Qa={key:0,class:"flex align-items-center gap-4 px-3"},Za=Vt(()=>d("i",{class:"pi pi-comments mr-2"},null,-1)),Xa={key:1},Ya=Vt(()=>d("i",{class:"pi pi-sync mr-2"},null,-1)),Ja={key:1},Ga={class:"mr-1"},er={key:1,class:"metadata-details p-2 inset-shadow-1"},tr=E({__name:"NsThing",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){const t=e,n=_n(),a=_(()=>!t.inline&&!t.inThread),r=_(()=>t.event.id),{isLoading:i,data:o}=Ua(r,{enabled:a}),{isLoading:l,data:u}=za(r,{enabled:a}),{prettifyRelative:p}=Ra(),h=H(!1),w=H(),b=D=>{w.value.toggle(D)},f=_(()=>[{label:"Author profile",icon:"pi pi-user",command:()=>{const D=n.resolve({name:re.profile.display,params:{pubkey:t.event.pubkey,feedType:"activity"}});window.open(D.href,"_blank")}},{label:"Open link",icon:"pi pi-user",command:()=>{const D=n.resolve({name:re.events.display,params:{id:t.event.id}});window.open(D.href,"_blank")}},{label:"Mute author",icon:"pi pi-user-minus",class:"danger",command:()=>{}},{label:h.value?"Hide details":"Details",icon:"pi pi-info-circle",command:()=>{h.value=!h.value}}]),k=H(),g=D=>{k.value.toggle(D)},O=_(()=>[{label:h.value?"Hide details":"Details",icon:"pi pi-info-circle",command:()=>{h.value=!h.value}}]);return(D,q)=>{const V=F("router-link");return s(),y(C(ft),{class:se(["ns-thing-component",{"white-box":!e.inThread,"in-thread":e.inThread}])},{header:M(()=>[P(D.$slots,"header",{},void 0,!0)]),content:M(()=>[d("div",Fa,[S(Fe,{class:"p-3 truncate",pubkey:e.event.pubkey},null,8,["pubkey"]),d("div",Va,[d("div",Ka,T(C(p)(e.event.created_at)),1),d("div",Ha,[S(C(Ze),{icon:"pi pi-ellipsis-v",class:"pt-3 px-1",text:"",onClick:b,"aria-haspopup":"true","aria-controls":"overlay_menu"}),S(C(st),{ref_key:"optionsMenuRef",ref:w,id:"overlay_menu",model:f.value,popup:!0},null,8,["model"])])])]),P(D.$slots,"content-header",{},void 0,!0),d("div",qa,[S(vi,{"max-height":240},{default:M(()=>[P(D.$slots,"default",{},void 0,!0)]),_:3})]),P(D.$slots,"content-footer",{},void 0,!0)]),footer:M(()=>{var ge;return[e.inline?I("v-if",!0):(s(),c("div",Wa,[d("div",null,[e.inThread?I("v-if",!0):(s(),c("div",Qa,[S(V,{to:{name:C(re).events.display,params:{id:e.event.id}}},{default:M(()=>{var Ve;return[Za,C(i)?(s(),y(C(X),{key:0,class:"inline-block",width:"1rem"})):(s(),c("span",Xa,T((Ve=C(o))==null?void 0:Ve.length),1))]}),_:1},8,["to"]),d("div",null,[Ya,C(l)?(s(),y(C(X),{key:0,class:"inline-block",width:"1rem"})):(s(),c("span",Ja,T((ge=C(u))==null?void 0:ge.length),1))])]))]),d("div",Ga,[S(C(Ze),{icon:"pi pi-cog",class:"px-2 text-color-secondary",text:"",onClick:g,"aria-haspopup":"true","aria-controls":"overlay_menu"}),S(C(st),{ref_key:"settingsMenuRef",ref:k,id:"overlay_menu",model:O.value,popup:!0},null,8,["model"])])])),h.value?(s(),c("div",er,[d("pre",null,T(e.event),1)])):I("v-if",!0)]}),_:3},8,["class"])}}});const Ee=x(tr,[["__scopeId","data-v-7b6ad372"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsThing/NsThing.vue"]]),nr=E({__name:"NsProfile",props:{event:{type:Object,required:!0}},setup(e){return(t,n)=>(s(),y(Ee,{class:"ns-profile-component",event:e.event},{default:M(()=>[S(at,{content:e.event.schema.description||"",tags:e.event.tags},null,8,["content","tags"])]),_:1},8,["event"]))}}),ir=x(nr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsProfile/NsProfile.vue"]]),{fetchEvent:ar,fetchAuthor:rr}=me();function sr(e,{enabled:t}){return ye({queryKey:["ns-message-recipient-event",e],queryFn(){const n=C(e);return n==null?null:ar(n)},enabled:t})}function or(e,{enabled:t}){return ye({queryKey:["ns-message-recipient-author",e],queryFn(){return rr(C(e))},enabled:t})}const lr={key:1,class:"ns-message-recipient"},ur=E({__name:"NsMessageRecipient",props:{event:{type:Object},id:{type:String}},setup(e){const t=e,n=_(()=>t.id),a=_(()=>!!t.id&&!t.event),{isLoading:r,data:i}=sr(n,{enabled:a}),o=_(()=>{var b,f;return((b=t.event)==null?void 0:b.pubkey)??((f=i.value)==null?void 0:f.pubkey)??""}),l=_(()=>!!o.value),{isLoading:u,data:p}=or(o,{enabled:l}),h=_(()=>r.value||u.value),w=_(()=>{var b;return((b=p.value)==null?void 0:b.schema.name)||o.value.slice(0,10)||"????"});return(b,f)=>h.value?(s(),y(C(X),{key:0,class:"inline-block",height:"0.5rem",width:"7rem"})):(s(),c("span",lr,"@"+T(w.value),1))}}),cr=x(ur,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/components/NsMessageRecipient/NsMessageRecipient.vue"]]),dr={class:"ns-comment-controller text-color-secondary text-sm"},hr={key:0},fr={key:1,class:"mx-1"},pr={key:2},mr=E({__name:"NsCommentController",props:{event:{type:Object,required:!0}},setup(e){const t=e,{fetch:n}=me(),a=H(!1),r=H(),i=H(),o=H();return Rt(async()=>{var l,u,p,h;if(a.value=!0,o.value=(l=t.event.schema.mainEntity)==null?void 0:l["@id"],r.value=(u=t.event.schema.parentItem)==null?void 0:u["@id"],t.event.schema.isPartOf&&(o.value==null||r.value==null)){const w=t.event.tags.filter(k=>k[0]==="e"),b=w.map(k=>k[2]).filter(Boolean),f=await n([{kinds:[1],ids:w.map(k=>k[1])}],{batchId:"events",relays:b});o.value==null&&(o.value=(p=f.find(k=>!k.tags.some(g=>g[0]==="e")))==null?void 0:p.id),r.value==null&&(r.value=(h=f.sort((k,g)=>g.created_at-k.created_at)[0])==null?void 0:h.id)}r.value=r.value||o.value,a.value=!1}),(l,u)=>{const p=F("router-link");return s(),c("div",dr,[r.value?(s(),c("span",hr,[Q(" In reply to "),S(p,{class:"text-primary",to:{name:C(re).events.display,params:{id:r.value}}},{default:M(()=>[S(cr,{id:r.value,event:i.value},null,8,["id","event"])]),_:1},8,["to"])])):I("v-if",!0),r.value&&o.value?(s(),c("span",fr,"â€¢")):I("v-if",!0),o.value?(s(),c("span",pr,[S(p,{class:"text-primary",to:{name:C(re).events.display,params:{id:o.value}}},{default:M(()=>[Q(" view thread ")]),_:1},8,["to"])])):I("v-if",!0)])}}}),vr=x(mr,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/components/NsCommentController.vue"]]);var Kt={name:"RefreshIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(J())}}},yr=["clipPath"],gr=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z",fill:"currentColor"},null,-1),br=[gr],Cr=["id"],wr=d("rect",{width:"14",height:"14",fill:"white"},null,-1),kr=[wr];function _r(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},br,8,yr),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},kr,8,Cr)])],16)}Kt.render=_r;var Ht={name:"SearchMinusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(J())}}},Or=["clipPath"],Ir=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z",fill:"currentColor"},null,-1),Sr=[Ir],Pr=["id"],Mr=d("rect",{width:"14",height:"14",fill:"white"},null,-1),$r=[Mr];function Lr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},Sr,8,Or),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},$r,8,Pr)])],16)}Ht.render=Lr;var qt={name:"SearchPlusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(J())}}},Nr=["clipPath"],Dr=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z",fill:"currentColor"},null,-1),Tr=[Dr],Ar=["id"],Er=d("rect",{width:"14",height:"14",fill:"white"},null,-1),xr=[Er];function Rr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},Tr,8,Nr),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},xr,8,Ar)])],16)}qt.render=Rr;var Wt={name:"UndoIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(J())}}},jr=["clipPath"],Br=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z",fill:"currentColor"},null,-1),Ur=[Br],zr=["id"],Fr=d("rect",{width:"14",height:"14",fill:"white"},null,-1),Vr=[Fr];function Kr(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},Ur,8,jr),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},Vr,8,zr)])],16)}Wt.render=Kr;var Hr=`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-image-preview-container {
    position: relative;
    display: inline-block;
}

.p-image-preview-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
}

.p-image-preview-container:hover > .p-image-preview-indicator {
    opacity: 1;
    cursor: pointer;
}

.p-image-preview-container > img {
    cursor: pointer;
}

.p-image-toolbar {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
}

.p-image-action.p-link {
    display: flex;
    justify-content: center;
    align-items: center;
}

.p-image-preview {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}

.p-image-preview-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-image-preview-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-image-preview-enter-from,
.p-image-preview-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`,qr={root:function(t){var n=t.props;return["p-image p-component",{"p-image-preview-container":n.preview}]},image:function(t){var n=t.props;return n.image},button:"p-image-preview-indicator",icon:"p-image-preview-icon",mask:"p-image-mask p-component-overlay p-component-overlay-enter",rotateRightButton:"p-image-action p-link",rotateLeftButton:"p-image-action p-link",zoomOutButton:function(t){var n=t.instance;return["p-image-action p-link",{"p-disabled":n.isZoomOutDisabled}]},zoomInButton:function(t){var n=t.instance;return["p-image-action p-link",{"p-disabled":n.isZoomInDisabled}]},closeButton:"p-image-action p-link",preview:"p-image-preview"},Wr=ze(Hr,{name:"image",manual:!0}),Qr=Wr.load,Zr={name:"BaseImage",extends:pe,props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null},indicatorIcon:{type:String,default:void 0},zoomInDisabled:{type:Boolean,default:!1},zoomOutDisabled:{type:Boolean,default:!1}},css:{classes:qr,loadStyle:Qr},provide:function(){return{$parentInstance:this}}},pt={name:"Image",extends:Zr,inheritAttrs:!1,emits:["show","hide","error"],mask:null,data:function(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount:function(){this.mask&&le.clear(this.container)},methods:{maskRef:function(t){this.mask=t},toolbarRef:function(t){this.toolbarRef=t},onImageClick:function(){var t=this;this.preview&&(R.addClass(document.body,"p-overflow-hidden"),this.maskVisible=!0,setTimeout(function(){t.previewVisible=!0},25))},onPreviewImageClick:function(){this.previewClick=!0},onMaskClick:function(t){var n=[t.target.classList].includes("p-image-action")||t.target.closest(".p-image-action");n||(this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1)},onMaskKeydown:function(t){var n=this;switch(t.code){case"Escape":this.hidePreview(),setTimeout(function(){R.focus(n.$refs.previewButton)},200),t.preventDefault();break}},onError:function(){this.$emit("error")},rotateRight:function(){this.rotate+=90,this.previewClick=!0},rotateLeft:function(){this.rotate-=90,this.previewClick=!0},zoomIn:function(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut:function(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter:function(){le.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter:function(){this.focus(),this.$emit("show")},onBeforeLeave:function(){!this.isUnstyled&&R.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(t){le.clear(t),this.maskVisible=!1},focus:function(){var t=this.mask.querySelector("[autofocus]");t&&t.focus()},hidePreview:function(){this.previewVisible=!1,this.rotate=0,this.scale=1,R.removeClass(document.body,"p-overflow-hidden")}},computed:{containerClass:function(){return[this.cx("root"),this.class]},rotateClass:function(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle:function(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},isZoomInDisabled:function(){return this.zoomInDisabled||this.scale>=1.5},isZoomOutDisabled:function(){return this.zoomOutDisabled||this.scale<=.5},rightAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:Et,EyeIcon:xn,RefreshIcon:Kt,UndoIcon:Wt,SearchMinusIcon:Ht,SearchPlusIcon:qt,TimesIcon:On},directives:{focustrap:In}};function Ie(e){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$t(Object(n),!0).forEach(function(a){Xr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Xr(e,t,n){return t=Yr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e){var t=Jr(e,"string");return Ie(t)==="symbol"?t:String(t)}function Jr(e,t){if(Ie(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Ie(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gr=["aria-modal"],es=["aria-label"],ts=["aria-label"],ns=["disabled","aria-label"],is=["disabled","aria-label"],as=["aria-label"],rs=["src"];function ss(e,t,n,a,r,i){var o=F("RefreshIcon"),l=F("UndoIcon"),u=F("SearchMinusIcon"),p=F("SearchPlusIcon"),h=F("TimesIcon"),w=F("Portal"),b=ct("focustrap");return s(),c("span",v({class:i.containerClass,style:e.style},e.ptm("root"),{"data-pc-name":"image"}),[P(e.$slots,"image",{onError:i.onError},function(){return[d("img",v({style:e.imageStyle,class:[e.cx("image"),e.imageClass],onError:t[0]||(t[0]=function(){return i.onError&&i.onError.apply(i,arguments)})},Re(Re({},e.$attrs),e.ptm("image"))),null,16)]}),e.preview?(s(),c("button",v({key:0,ref:"previewButton",type:"button",class:e.cx("button"),onClick:t[1]||(t[1]=function(){return i.onImageClick&&i.onImageClick.apply(i,arguments)})},Re(Re({},e.previewButtonProps),e.ptm("button"))),[P(e.$slots,"indicatoricon",{},function(){return[(s(),y(ue(e.indicatorIcon?"i":"EyeIcon"),v({class:e.cx("icon")},e.ptm("icon")),null,16,["class"]))]})],16)):I("",!0),S(w,null,{default:M(function(){return[r.maskVisible?_e((s(),c("div",v({key:0,ref:i.maskRef,role:"dialog",class:e.cx("mask"),"aria-modal":r.maskVisible,onClick:t[8]||(t[8]=function(){return i.onMaskClick&&i.onMaskClick.apply(i,arguments)}),onKeydown:t[9]||(t[9]=function(){return i.onMaskKeydown&&i.onMaskKeydown.apply(i,arguments)})},e.ptm("mask")),[d("div",v({class:"p-image-toolbar"},e.ptm("toolbar")),[d("button",v({class:e.cx("rotateRightButton"),onClick:t[2]||(t[2]=function(){return i.rotateRight&&i.rotateRight.apply(i,arguments)}),type:"button","aria-label":i.rightAriaLabel},e.ptm("rotateRightButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"refresh",{},function(){return[S(o,G(oe(e.ptm("rotateRightIcon"))),null,16)]})],16,es),d("button",v({class:e.cx("rotateLeftButton"),onClick:t[3]||(t[3]=function(){return i.rotateLeft&&i.rotateLeft.apply(i,arguments)}),type:"button","aria-label":i.leftAriaLabel},e.ptm("rotateLeftButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"undo",{},function(){return[S(l,G(oe(e.ptm("rotateLeftIcon"))),null,16)]})],16,ts),d("button",v({class:e.cx("zoomOutButton"),onClick:t[4]||(t[4]=function(){return i.zoomOut&&i.zoomOut.apply(i,arguments)}),type:"button",disabled:i.isZoomOutDisabled,"aria-label":i.zoomOutAriaLabel},e.ptm("zoomOutButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"zoomout",{},function(){return[S(u,G(oe(e.ptm("zoomOutIcon"))),null,16)]})],16,ns),d("button",v({class:e.cx("zoomInButton"),onClick:t[5]||(t[5]=function(){return i.zoomIn&&i.zoomIn.apply(i,arguments)}),type:"button",disabled:i.isZoomInDisabled,"aria-label":i.zoomInAriaLabel},e.ptm("zoomInButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"zoomin",{},function(){return[S(p,G(oe(e.ptm("zoomInIcon"))),null,16)]})],16,is),d("button",v({class:e.cx("closeButton"),type:"button",onClick:t[6]||(t[6]=function(){return i.hidePreview&&i.hidePreview.apply(i,arguments)}),"aria-label":i.closeAriaLabel,autofocus:""},e.ptm("closeButton"),{"data-pc-group-section":"action"}),[P(e.$slots,"close",{},function(){return[S(h,G(oe(e.ptm("closeIcon"))),null,16)]})],16,as)],16),S(dt,v({name:"p-image-preview",onBeforeEnter:i.onBeforeEnter,onEnter:i.onEnter,onLeave:i.onLeave,onBeforeLeave:i.onBeforeLeave,onAfterLeave:i.onAfterLeave},e.ptm("transition")),{default:M(function(){return[r.previewVisible?(s(),c("div",G(v({key:0},e.ptm("previewContainer"))),[P(e.$slots,"preview",{class:se(e.cx("preview")),style:At(i.imagePreviewStyle),onClick:i.onPreviewImageClick},function(){return[d("img",v({src:e.$attrs.src,class:e.cx("preview"),style:i.imagePreviewStyle,onClick:t[7]||(t[7]=function(){return i.onPreviewImageClick&&i.onPreviewImageClick.apply(i,arguments)})},e.ptm("preview")),null,16,rs)]})],16)):I("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],16,Gr)),[[b]]):I("",!0)]}),_:3})],16)}pt.render=ss;var os=`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-tag-icon,
.p-tag-value,
.p-tag-icon.pi {
    line-height: 1.5;
}

.p-tag.p-tag-rounded {
    border-radius: 10rem;
}
`,ls={root:function(t){var n=t.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},us=ze(os,{name:"tag",manual:!0}),cs=us.load,ds={name:"BaseTag",extends:pe,props:{value:null,severity:null,rounded:Boolean,icon:String},css:{classes:ls,loadStyle:cs},provide:function(){return{$parentInstance:this}}},Qt={name:"Tag",extends:ds};function hs(e,t,n,a,r,i){return s(),c("span",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"tag"}),[e.$slots.icon?(s(),y(ue(e.$slots.icon),v({key:0,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(s(),c("span",v({key:1,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):I("",!0),P(e.$slots,"default",{},function(){return[d("span",v({class:e.cx("value")},e.ptm("value")),T(e.value),17)]})],16)}Qt.render=hs;const fs=E({__name:"NsTag",props:{value:{type:String,required:!0},raw:Boolean},setup(e){const t=e;return(n,a)=>{const r=F("router-link");return s(),y(r,{class:"ns-tag-component",to:{name:C(re).tags.display,params:{tag:t.value}}},{default:M(()=>[e.raw?(s(),y(C(Ze),{key:0,link:"",label:`#${e.value}`,class:"p-0 inline-block"},null,8,["label"])):(s(),c(j,{key:1},[I(' <span text v-if="raw">#{{ value }}</span> '),S(C(Qt),{class:"surface-ground text-color-secondary",value:`#${e.value}`},null,8,["value"])],2112))]),_:1},8,["to"])}}}),ps=x(fs,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsTag/NsTag.vue"]]),ms={class:"ns-kind1-content-component"},vs=["src","alt"],ys=["src"],gs=["src"],bs=["href"],Cs=["href"],ws=E({__name:"NsKind1Content",props:{event:{type:Object,required:!0},skipMedia:Boolean},setup(e){const t=e,n=_(()=>{var k,g;const f=Tt({content:((k=t.event.content)==null?void 0:k.trim())??"",tags:t.event.tags}).filter(O=>!(t.skipMedia&&O.type==="link"&&["image","video"].includes(O.value.type))).filter((O,D,q)=>{var V;return!(O.type==="newline"&&((V=q[D-1])==null?void 0:V.type)==="newline")});return((g=f.slice(-1)[0])==null?void 0:g.type)==="newline"?f.slice(0,-1):f}),a=f=>f.type==="text",r=f=>f.type==="emoji",i=f=>f.type==="link",o=f=>i(f)&&f.value.type==="image",l=f=>i(f)&&f.value.type==="video",u=f=>i(f)&&f.value.type==="audio",p=f=>f.type==="newline",h=f=>f.type==="topic",w=f=>f.type.match(/^nostr:n(profile|pub|event|ote)$/),b=f=>f.type.match(/^nostr:np(rofile|ub)$/);return(f,k)=>(s(),c("span",ms,[(s(!0),c(j,null,ke(n.value,(g,O)=>(s(),c(j,{key:O},[a(g)?(s(),c(j,{key:0},[Q(T(g.value),1)],64)):r(g)?(s(),c("img",{key:1,src:g.value.url,alt:g.value.name,style:{height:"25px"}},null,8,vs)):p(g)?(s(!0),c(j,{key:2},ke(g.value,(D,q)=>(s(),c("br",{key:`newline-${q}`}))),128)):o(g)?(s(),y(C(pt),{key:3,class:"my-4","image-style":"max-width: 100%",src:g.value.url,alt:"image",preview:""},null,8,["src"])):l(g)?(s(),c("video",{key:4,class:"my-4",src:g.value.url,controls:"",style:{"max-width":"100%","max-height":"500px"}},null,8,ys)):u(g)?(s(),c("audio",{key:5,class:"my-4",src:g.value.url,controls:""},[d("a",{href:g.value.url},'{item.value.url.replace(/https?:\\/\\/(www\\.)?/, "")}',8,bs)],8,gs)):h(g)?(s(),y(ps,{key:6,raw:"",value:g.value},null,8,["value"])):b(g)?(s(),y(Fe,{key:7,pubkey:g.value.pubkey,inline:""},null,8,["pubkey"])):w(g)?(s(),y(Be,{key:8,inline:"","skip-media":e.skipMedia,id:g.value.entity||g.value.id,relays:g.value.relays||[],class:"mt-4"},null,8,["skip-media","id","relays"])):i(g)?(s(),c(j,{key:9},[I(" TODO add relay to NsNote"),d("a",{href:g.value.url,target:"_blank"},T(g.value.url),9,Cs)],2112)):(s(),c(j,{key:10},[Q(T(g.value)+" -- "+T(w(g)),1)],64))],64))),128))]))}}),Zt=x(ws,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsKind1Content/NsKind1Content.vue"]]),ks=E({__name:"NsComment",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){return(t,n)=>(s(),y(Ee,{event:e.event,inline:e.inline,"in-thread":e.inThread,class:"ns-comment-component"},{default:M(()=>[e.inThread?I("v-if",!0):(s(),y(vr,{key:0,event:e.event,class:"mb-3"},null,8,["event"])),S(Zt,{event:e.event},null,8,["event"])]),_:1},8,["event","inline","in-thread"]))}}),_s=x(ks,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsComment/NsComment.vue"]]),Os=E({__name:"NsNote",props:{event:{type:Object,required:!0},skipMedia:Boolean,inline:Boolean,inThread:Boolean},setup(e){return(t,n)=>(s(),y(Ee,{class:"ns-note-component",event:e.event,inline:e.inline,"in-thread":e.inThread},{header:M(()=>[P(t.$slots,"header")]),default:M(()=>[S(Zt,{event:e.event,"skip-media":e.skipMedia},null,8,["event","skip-media"])]),_:3},8,["event","inline","in-thread"]))}}),Xt=x(Os,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsNote/NsNote.vue"]]);var Yt={name:"MinusIcon",extends:ve},Is=d("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),Ss=[Is];function Ps(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),Ss,16)}Yt.render=Ps;var Jt={name:"PlusIcon",extends:ve,computed:{pathId:function(){return"pv_icon_clip_".concat(J())}}},Ms=["clipPath"],$s=d("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1),Ls=[$s],Ns=["id"],Ds=d("rect",{width:"14",height:"14",fill:"white"},null,-1),Ts=[Ds];function As(e,t,n,a,r,i){return s(),c("svg",v({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),[d("g",{clipPath:"url(#".concat(i.pathId,")")},Ls,8,Ms),d("defs",null,[d("clipPath",{id:"".concat(i.pathId)},Ts,8,Ns)])],16)}Jt.render=As;var Es=`
.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.p-panel-title {
    line-height: 1;
}

.p-panel-header-icon {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
`,xs={root:function(t){var n=t.props;return["p-panel p-component",{"p-panel-toggleable":n.toggleable}]},header:"p-panel-header",title:"p-panel-title",icons:"p-panel-icons",toggler:"p-panel-header-icon p-panel-toggler p-link",toggleablecontent:"p-toggleable-content",content:"p-panel-content",footer:"p-panel-footer"},Rs=ze(Es,{name:"panel",manual:!0}),js=Rs.load,Bs={name:"BasePanel",extends:pe,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},css:{classes:xs,loadStyle:js},provide:function(){return{$parentInstance:this}}},mt={name:"Panel",extends:Bs,emits:["update:collapsed","toggle"],data:function(){return{d_collapsed:this.collapsed}},watch:{collapsed:function(t){this.d_collapsed=t}},methods:{toggle:function(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})},onKeyDown:function(t){(t.code==="Enter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}},computed:{ariaId:function(){return J()},buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps["aria-label"]?this.toggleButtonProps["aria-label"]:this.header}},components:{PlusIcon:Jt,MinusIcon:Yt},directives:{ripple:xt}};function Se(e){"@babel/helpers - typeof";return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(e)}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lt(Object(n),!0).forEach(function(a){Us(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Us(e,t,n){return t=zs(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zs(e){var t=Fs(e,"string");return Se(t)==="symbol"?t:String(t)}function Fs(e,t){if(Se(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Se(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vs=["id"],Ks=["id","aria-label","aria-controls","aria-expanded"],Hs=["id","aria-labelledby"];function qs(e,t,n,a,r,i){var o=ct("ripple");return s(),c("div",v({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"panel"}),[d("div",v({class:e.cx("header")},e.ptm("header")),[P(e.$slots,"header",{id:i.ariaId+"_header",class:se(e.cx("title"))},function(){return[e.header?(s(),c("span",v({key:0,id:i.ariaId+"_header",class:e.cx("title")},e.ptm("title")),T(e.header),17,Vs)):I("",!0)]}),d("div",v({class:e.cx("icons")},e.ptm("icons")),[P(e.$slots,"icons"),e.toggleable?_e((s(),c("button",v({key:0,id:i.ariaId+"_header",type:"button",role:"button",class:e.cx("toggler"),"aria-label":i.buttonAriaLabel,"aria-controls":i.ariaId+"_content","aria-expanded":!r.d_collapsed,onClick:t[0]||(t[0]=function(){return i.toggle&&i.toggle.apply(i,arguments)}),onKeydown:t[1]||(t[1]=function(){return i.onKeyDown&&i.onKeyDown.apply(i,arguments)})},Nt(Nt({},e.toggleButtonProps),e.ptm("toggler"))),[P(e.$slots,"togglericon",{collapsed:r.d_collapsed},function(){return[(s(),y(ue(r.d_collapsed?"PlusIcon":"MinusIcon"),G(oe(e.ptm("togglericon"))),null,16))]})],16,Ks)),[[o]]):I("",!0)],16)],16),S(dt,v({name:"p-toggleable-content"},e.ptm("transition")),{default:M(function(){return[_e(d("div",v({id:i.ariaId+"_content",class:e.cx("toggleablecontent"),role:"region","aria-labelledby":i.ariaId+"_header"},e.ptm("toggleablecontent")),[d("div",v({class:e.cx("content")},e.ptm("content")),[P(e.$slots,"default")],16),e.$slots.footer?(s(),c("div",v({key:0,class:e.cx("footer")},e.ptm("footer")),[P(e.$slots,"footer")],16)):I("",!0)],16,Hs),[[Sn,!r.d_collapsed]])]}),_:3},16)],16)}mt.render=qs;const Ws=e=>(lt("data-v-cd4dac36"),e=e(),ut(),e),Qs=Ws(()=>d("span",null,"reposted:",-1)),Zs=E({__name:"NsShareAction",props:{event:{type:Object,required:!0}},setup(e){const t=e,n=_(()=>{try{const r=JSON.parse(t.event.content);return Pn(r)}catch{return}}),a=_(()=>t.event.schema.object);return(r,i)=>(s(),y(C(mt),null,{header:M(()=>[d("div",null,[S(Fe,{inline:"",pubkey:e.event.pubkey},null,8,["pubkey"]),Q(),Qs])]),default:M(()=>[n.value?(s(),y(Be,{key:0,event:n.value},null,8,["event"])):(s(),y(Be,{key:1,id:a.value},null,8,["id"]))]),_:1}))}});const Xs=x(Zs,[["__scopeId","data-v-cd4dac36"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsShareAction/NsShareAction.vue"]]),Ys=E({__name:"NsReactAction",props:{event:{type:Object,required:!0}},setup(e){const t=e,n=_(()=>t.event.schema.object);return(a,r)=>(s(),y(C(mt),{collapsed:"",toggleable:""},{header:M(()=>[d("div",null,[S(Fe,{inline:"",pubkey:e.event.pubkey},null,8,["pubkey"]),Q(),d("span",null,"reacted "+T(e.event.content),1)])]),default:M(()=>[S(Be,{id:n.value,"in-thread":""},null,8,["id"])]),_:1}))}});const Js=x(Ys,[["__scopeId","data-v-268c3f08"],["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsReactAction/NsReactAction.vue"]]),Gs={key:0},eo=d("div",{class:"font-medium"},"Sensitive Content",-1),to=d("div",{class:"text-color-secondary"}," This media may contain sensitive material. Your media settings are configured to warn you when media may be sensitive. ",-1),no=d("div",{class:"text-primary text-sm mt-3"},"Click to view",-1),io=[eo,to,no],ao=["src"],ro=E({__name:"NsMediaContent",props:{value:{type:Object,required:!0}},setup(e){const t=e,n=_(()=>t.value["@type"]==="VideoObject"),a=_(()=>t.value["@type"]==="ImageObject"),r=_(()=>t.value.contentUrl??""),i=H(!1),o=()=>{i.value=!0},{settings:l}=Rn();return(u,p)=>e.value.isSensitiveContent&&!i.value&&!C(l).showSensitiveContent?(s(),c("div",Gs,[d("div",{class:"text-center p-5 m-3 cursor-pointer border-1 border-300 border-round",onClick:o},io)])):a.value?(s(),y(C(pt),{key:1,src:r.value,alt:"Image",preview:"","image-style":"width: 100%",style:{width:"100%"}},null,8,["src"])):n.value?(s(),c("video",{key:2,src:r.value,controls:"",style:{"max-width":"100%","max-height":"500px"}},null,8,ao)):I("v-if",!0)}}),Gt=x(ro,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsMediaContent/NsMediaContent.vue"]]),so={class:"text-center"},oo={key:1},lo=E({__name:"NsMediaObject",props:{event:{type:Object,required:!0},inline:Boolean},setup(e){const t=e,n=_(()=>{var a,r,i;return t.event?{"@type":(a=t.event)==null?void 0:a.schema["@type"],contentUrl:(r=t.event)==null?void 0:r.schema.contentUrl,isSensitiveContent:!!((i=t.event)!=null&&i.schema.contentRating)}:void 0});return(a,r)=>(s(),y(Ee,{class:"ns-media-object-component",event:e.event,inline:e.inline},{header:M(()=>[d("div",so,[n.value?(s(),y(Gt,{key:0,value:n.value},null,8,["value"])):(s(),c("div",oo,"no content"))])]),_:1},8,["event","inline"]))}}),uo=x(lo,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsMediaObject/NsMediaObject.vue"]]),co={class:"text-center"},ho=E({__name:"NsSocialMediaPosting",props:{event:{type:Object,required:!0},inline:Boolean,inThread:Boolean},setup(e){const t=e,{fetch:n}=me(),a=H([]);return Rt(async()=>{const r=t.event.schema.sharedContent??[],i=r.map(l=>typeof l=="string"&&l.startsWith("nevent1")?Mn.decode(l):null).filter(Boolean);if(i.length){const u=(await n([{ids:i.map(p=>p.data.id)}],{batchId:"NsNote"})).filter(p=>p.schema["@type"]==="ImageObject"||"VideoObject");a.value=u.map(p=>({"@type":p.schema["@type"],contentUrl:p.schema.contentUrl,isSensitiveContent:!!t.event.schema.contentRating||!!p.schema.contentRating}))}const o=r.map(l=>l&&typeof l=="object"&&["ImageObject","VideoObject"].includes(l["@type"])?{"@type":l["@type"],contentUrl:l.contentUrl,isSensitiveContent:!!t.event.schema.contentRating}:null).filter(Boolean);a.value=[...a.value,...o]}),(r,i)=>(s(),y(Xt,{class:"ns-social-media-posting-component",event:e.event,inline:e.inline,"skip-media":!!a.value.length,"in-thread":e.inThread},{header:M(()=>[d("div",co,[a.value.length?(s(),y(Gt,{key:0,value:a.value[0]},null,8,["value"])):I("v-if",!0)])]),_:1},8,["event","inline","skip-media","in-thread"]))}}),fo=x(ho,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsSocialMediaPosting/NsSocialMediaPosting.vue"]]),{fetchEvent:po}=me();function mo(e,{enabled:t}){return ye({queryKey:["ns-event",e],queryFn(){const n=C(e);return n==null?null:po(n)},enabled:t})}const vo={key:1,class:"ns-event-component"},yo=E({__name:"NsEvent",props:{event:{type:Object},relays:{type:Array,default:()=>[]},id:{type:String},comments:{type:Array},reactions:{type:Array},reposts:{type:Array},skipMedia:Boolean,inline:Boolean,inThread:Boolean},setup(e){const t=e,n=Tn(()=>An(()=>import("./NsBlogPosting-3fa032aa.js"),["assets/NsBlogPosting-3fa032aa.js","assets/index-4f138c54.js","assets/index-ce945204.css","assets/index.esm-3f7fdff6.js","assets/use-settings-48c8f733.js"])),a=_(()=>t.id),r=_(()=>!!t.id&&!t.event),{isLoading:i,data:o}=mo(a,{enabled:r}),l=_(()=>t.event??o.value),u=_(()=>$n(l.value)),p=_(()=>{var O;return((O=l.value)==null?void 0:O.schema["@type"])==="Person"}),h=_(()=>{var O;return((O=l.value)==null?void 0:O.schema["@type"])==="SocialMediaPosting"}),w=_(()=>Ln(l.value)),b=_(()=>Nn(l.value)),f=_(()=>{var O;return((O=l.value)==null?void 0:O.schema["@type"])==="CreativeWork"}),k=_(()=>{var O;return((O=l.value)==null?void 0:O.kind)===1063}),g=_(()=>Dn(l.value));return(O,D)=>C(i)?(s(),y(Yn,{key:0,"in-thread":e.inThread},null,8,["in-thread"])):l.value?(s(),c("div",vo,[u.value?(s(),y(_s,{key:0,event:l.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):g.value?(s(),y(C(n),{key:1,event:l.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):w.value?(s(),y(Xs,{key:2,event:l.value},null,8,["event"])):b.value?(s(),y(Js,{key:3,event:l.value},null,8,["event"])):p.value?(s(),y(ir,{key:4,event:l.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"])):k.value?(s(),c(j,{key:5},[e.skipMedia?I("v-if",!0):(s(),y(uo,{key:0,event:l.value,inline:e.inline,"in-thread":e.inThread},null,8,["event","inline","in-thread"]))],64)):h.value?(s(),y(fo,{key:6,event:l.value,comments:e.comments,inline:e.inline,"in-thread":e.inThread},null,8,["event","comments","inline","in-thread"])):f.value?(s(),y(Xt,{key:7,event:l.value,comments:e.comments,inline:e.inline,"in-thread":e.inThread},null,8,["event","comments","inline","in-thread"])):(s(),y(Ee,{key:8,event:l.value,inline:e.inline,"in-thread":e.inThread,comments:e.comments,reactions:e.reactions,reposts:e.reposts},{default:M(()=>[d("pre",null,T(l.value),1)]),_:1},8,["event","inline","in-thread","comments","reactions","reposts"]))])):I("v-if",!0)}}),Be=x(yo,[["__file","/Users/nicolasc/Documents/projects/others/nosworld/src/components/structures/NsEvent/NsEvent.vue"]]);export{Be as N,Yn as a,at as b,Gt as c,ps as d,Ee as e,pt as s,ye as u};
